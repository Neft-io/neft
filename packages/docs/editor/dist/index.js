// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
parcelRequire = (function (modules, cache, entry, globalName) {
  // Save the require from previous bundle to this closure if any
  var previousRequire = typeof parcelRequire === 'function' && parcelRequire;
  var nodeRequire = typeof require === 'function' && require;

  function newRequire(name, jumped) {
    if (!cache[name]) {
      if (!modules[name]) {
        // if we cannot find the module within our internal map or
        // cache jump to the current global require ie. the last bundle
        // that was added to the page.
        var currentRequire = typeof parcelRequire === 'function' && parcelRequire;
        if (!jumped && currentRequire) {
          return currentRequire(name, true);
        }

        // If there are other bundles on this page the require from the
        // previous one is saved to 'previousRequire'. Repeat this as
        // many times as there are bundles until the module is found or
        // we exhaust the require chain.
        if (previousRequire) {
          return previousRequire(name, true);
        }

        // Try the node require function if it exists.
        if (nodeRequire && typeof name === 'string') {
          return nodeRequire(name);
        }

        var err = new Error('Cannot find module \'' + name + '\'');
        err.code = 'MODULE_NOT_FOUND';
        throw err;
      }

      localRequire.resolve = resolve;
      localRequire.cache = {};

      var module = cache[name] = new newRequire.Module(name);

      modules[name][0].call(module.exports, localRequire, module, module.exports, this);
    }

    return cache[name].exports;

    function localRequire(x){
      return newRequire(localRequire.resolve(x));
    }

    function resolve(x){
      return modules[name][1][x] || x;
    }
  }

  function Module(moduleName) {
    this.id = moduleName;
    this.bundle = newRequire;
    this.exports = {};
  }

  newRequire.isParcelRequire = true;
  newRequire.Module = Module;
  newRequire.modules = modules;
  newRequire.cache = cache;
  newRequire.parent = previousRequire;
  newRequire.register = function (id, exports) {
    modules[id] = [function (require, module) {
      module.exports = exports;
    }, {}];
  };

  var error;
  for (var i = 0; i < entry.length; i++) {
    try {
      newRequire(entry[i]);
    } catch (e) {
      // Save first error but execute all entries
      if (!error) {
        error = e;
      }
    }
  }

  if (entry.length) {
    // Expose entry point to Node, AMD or browser globals
    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
    var mainExports = newRequire(entry[entry.length - 1]);

    // CommonJS
    if (typeof exports === "object" && typeof module !== "undefined") {
      module.exports = mainExports;

    // RequireJS
    } else if (typeof define === "function" && define.amd) {
     define(function () {
       return mainExports;
     });

    // <script>
    } else if (globalName) {
      this[globalName] = mainExports;
    }
  }

  // Override the current require with this new one
  parcelRequire = newRequire;

  if (error) {
    // throw error from earlier, _after updating parcelRequire_
    throw error;
  }

  return newRequire;
})({"8ITs":[function(require,module,exports) {

},{}],"vZcY":[function(require,module,exports) {
(function(){"use strict";var e,t;t=function(e){return e},exports.bold=t,exports.italic=t,exports.strikethrough=t,exports.underline=t,exports.code=t,exports.red=t,exports.green=t,exports.yellow=t,exports.blue=t,exports.white=t,exports.cyan=t,exports.gray=t,exports.hex=t,(e="undefined"!=typeof navigator&&null!==navigator)&&(e=/chrome|safari|firefox/i.test(navigator.userAgent)),e&&(e=!/edge/i.test(navigator.userAgent))}).call(this);
},{}],"XNjX":[function(require,module,exports) {
(function(){"use strict";var e,r,l;l=require("./marker"),e=[{regexp:(r=function(e,r,l,n){return null==r&&(r=e),null==l&&(l=""),null==n&&(n=""),new RegExp("("+l+")"+e+"(.+?)"+r+"("+n+")","g")})("__","__"," |^"," |$"),replacer:l.bold},{regexp:r("\\*\\*"),replacer:l.bold},{regexp:r("_","_"," |^"," |$"),replacer:l.italic},{regexp:r("\\*"),replacer:l.italic},{regexp:r("~~"),replacer:l.strikethrough},{regexp:r("<u>","<\\/u>"),replacer:l.underline},{regexp:r("`"),replacer:l.code}],exports.parse=function(r,l){var n,p,c;for(r=String(r),n=0,p=e.length;n<p;n++)c=e[n],r=r.replace(c.regexp,function(e,r,n,p){return r+c.replacer(n,l)+p});return r},exports.clear=function(r){var l,n,p;for(l=0,n=e.length;l<n;l++)p=e[l],r=r.replace(p.regexp,"$1$2$3");return r}}).call(this);
},{"./marker":"vZcY"}],"1krr":[function(require,module,exports) {
(function(){exports.allowsNoLine=!1,exports.createContext=function(){return null},exports.stdout=function(t){return console.log(t)}}).call(this);
},{}],"R1c3":[function(require,module,exports) {
(function(){"use strict";exports.createLogger=function(t,n){var r,i,e,o,l,u;return o=Object.create(t),r=(null!=n?n.delay:void 0)||100,i=[],e=[],l=void 0,!1,u=function(){var n,r,o,l,u;for(!0,n=0,o=i.length;n<o;n++)u=i[n],t.print(u);for(r=0,l=e.length;r<l;r++)u=e[r],t.println(u);!1},o.print=function(n){return i.push(n),t.print(n),this},o.println=function(n){return e.push(n),t.println(n),this},o.stop=function(){t.stop(),clearInterval(l),l=void 0},l=setInterval(u,r),o}}).call(this);
},{}],"XAYT":[function(require,module,exports) {
(function(){"use strict";var t;t=require("./marker"),exports.createLogger=function(n){var r,e,i;return i=Object.create(n),e=Date.now(),r=function(n){return function(r){var i,u;return u="ms",(i=Date.now()-e)>1e3&&(u="s",(i=(i/1e3).toFixed(1))>60&&(i=(i/60).toFixed(2),u="m")),n(r)+" "+t.cyan("+"+i+u,r)}},i.print=function(t){return n.print(r(t)),this},i.println=function(t){return n.println(r(t)),this},i}}).call(this);
},{"./marker":"vZcY"}],"xG2I":[function(require,module,exports) {
(function(){"use strict";var r;r=require("./marker"),exports.createLogger=function(t,n){var e,i;return i=Object.create(t),Date.now(),e=function(t){return function(e){return r.gray("["+n+"]  ",e)+t(e)}},i.print=function(r){return t.print(e(r)),this},i.println=function(r){return t.println(e(r)),this},i}}).call(this);
},{"./marker":"vZcY"}],"r7L2":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"fe8o":[function(require,module,exports) {
var process = require("process");
var t=require("process");(function(){"use strict";var r,e,n,o,i,u,p,s,a,c,l,f;s=require("./parser"),p=require("./marker"),c=require("./printer"),l=require("./repeat-logger"),f=require("./timer-logger"),a=require("./prefix-logger"),r="debug",e=["⣾","⣽","⣻","⢿","⡿","⣟","⣯","⣷"],i=function(t){var r,e;for(r=5381,e=t.length;e;)r=33*r^t.charCodeAt(--e);return r>>>0},o=function(t){return"#"+("000000"+i(t).toString(16)).slice(-6)},n=function(){function n(t){this.scopeName=null!=t?t:r,this.scopeColor=o(this.scopeName),this._loadingFrame=0}return n.prototype.stop=function(){},n.prototype.print=function(t){var r;return r=c.createContext(),c.stdout(t(r),r),this},n.prototype.println=function(t){var r,e;return e=t(r=c.createContext()),c.allowsNoLine&&(e+="\n"),c.stdout(e,r),this},n.prototype.line=function(){return(null!=u?u.createLogger(this):void 0)||this},n.prototype.repeat=function(t){return l.createLogger(this,t)},n.prototype.timer=function(){return f.createLogger(this)},n.prototype.prefix=function(t){return a.createLogger(this,t)},n.prototype.scope=function(t){var e;return e=this.scopeName===r?"":this.scopeName+":",new n(e+=t)},n.prototype.log=function(t){return this.println(function(r){return s.parse(t,r)})},n.prototype.debug=function(t){return this.println((r=this,function(e){return p.hex(r.scopeName,r.scopeColor,e)+"  "+s.parse(t,e)}));var r},n.prototype.info=function(t){return this.println(function(r){return p.blue(p.bold("INFO",r),r)+"  "+s.parse(t,r)})},n.prototype.ok=function(t){return this.println(function(r){return p.green(p.bold("OK",r),r)+"  "+s.parse(t,r)})},n.prototype.warn=function(t){return this.println(function(r){return p.yellow(p.bold("WARN",r),r)+"  "+s.parse(t,r)})},n.prototype.warning=function(t){return this.warn(t)},n.prototype.error=function(t,r){if(this.println(function(r){return p.red(p.bold("ERROR",r),r)+"  "+s.parse(t,r)}),null!=r?r.stack:void 0)return this.println(function(t){return r.stack})},n.prototype.progress=function(r,e,n){var o,i,u,a;return"number"==typeof r&&(n=e,e=r,r=""),a=t.stdout.columns/3-s.clear(r).length,void 0===n?(e=Math.floor(100*e),n=100,o=e+"%"):o=e+"/"+n,i="█".repeat(Math.min(a,Math.floor(e/n*a))),u="░".repeat(Math.max(0,a-i.length)),this.println(function(t){return""+(r?s.parse(r,t)+"  ":"")+i+p.gray(u,t)+" "+o})},n.prototype.loading=function(t,r){return null==t&&(t="Loading..."),null==r&&(r=e),this.println((n=this,function(e){var o;return o=r[n._loadingFrame++%r.length],p.cyan(o,e)+" "+s.parse(t,e)}));var n},n}(),module.exports=new n}).call(this);
},{"./parser":"XNjX","./marker":"vZcY","./printer":"1krr","./repeat-logger":"R1c3","./timer-logger":"XAYT","./prefix-logger":"xG2I","process":"r7L2"}],"XbcT":[function(require,module,exports) {
const n=require("../log"),t=(n,t,l)=>{if(!n)return;let e=0;for(;e<n.length;){if(-1===(e=n.indexOf(t,e)))return;if(n[e+1]===l)return n[e]=null,void(n[e+1]=null);e+=2}},l=n=>{let t=0;const l=n.length;let e=0;for(;t<l;){const l=n[t];null===l?e+=2:e>0&&(n[t-e]=l,n[t-e+1]=n[t+1],n[t]=null,n[t+1]=null),t+=2}},e=(t,e,s,r)=>{if(!e)return;let i=0;const c=e.length;let o=!1;for(;i<c;){const l=e[i];if(null===l)o=!0;else{const c=e[i+1];try{l.call(c||t,s,r)}catch(u){n.error("Uncaught error thrown in signal listener",u)}}i+=2}o&&l(e)};class s{constructor(){this.listeners=null,Object.seal(this)}connect(n,t=null){const{listeners:l}=this;if(!l)return;const e=l.length;let s=e-2;for(;s>=0&&null===l[s];)s-=2;s+2===e?l.push(n,t):(l[s+2]=n,l[s+3]=t)}connectOnce(n,l=null){const{listeners:e}=this;if(!e)return;const s=function(r,i){t(e,s,l),n.call(this,r,i)};this.connect(s,l)}disconnect(n,l=null){t(this.listeners,n,l)}disconnectAll(){const{listeners:n}=this;if(n)for(let t=0,l=n.length;t<l;t+=1)n[t]=null}isEmpty(){const{listeners:n}=this;if(!n)return!0;for(let t=0,l=n.length;t<l;t+=2)if(null!==n[t])return!1;return!0}}exports.Signal=s,exports.callListeners=e;
},{"../log":"fe8o"}],"Beob":[function(require,module,exports) {
const{Signal:s,callListeners:e}=require("./signal");class t extends s{constructor(s){super(),this.listeners=s,Object.freeze(this)}emit(s,t){e(null,this.listeners,s,t)}}class r extends t{constructor(){super([])}}exports.SignalDispatcher=r,exports.InternalSignalDispatcher=t;
},{"./signal":"XbcT"}],"WmdM":[function(require,module,exports) {
(function(){"use strict";var t={}.hasOwnProperty;module.exports=function(r){var e,n,o;return(n=r.get=function(t,r,i){var s,u,l,p,f,c,a;switch(null==r&&(r=""),typeof r){case"object":r=exports.clone(r);break;case"string":r=r.split(".");break;default:throw new TypeError}for(u=l=0,c=r.length;l<c;u=++l){if(!(f=r[u]).length&&u)throw new ReferenceError("utils.get(): empty properties are not supported");if(o(f)){if(f=f.substring(0,f.indexOf("[]")),(r=r.splice(u))[0]=r[0].substring(f.length+2),r[0].length||r.shift(),null==i&&(i=new e),f.length&&(t=t[f]),void 0===t)return;for(p=0,a=t.length;p<a;p++)s=t[p],n(s,r.join("."),i);if(!i.length)return;return i}if(f.length&&(t=t[f]),"object"!=typeof t&&"function"!=typeof t){u!==r.length-1&&(t=void 0);break}}return i&&void 0!==t&&i.push(t),t}).OptionsArray=e=function(r){function e(){e.__super__.constructor.call(this)}return function(r,e){for(var n in e)t.call(e,n)&&(r[n]=e[n]);function o(){this.constructor=r}o.prototype=e.prototype,r.prototype=new o,r.__super__=e.prototype}(e,Array),e}(),o=r.isStringArray=function(t){if("string"!=typeof t)throw new Error("utils.isStringArray value must be a string");return/\[\]$/.test(t)}}}).call(this);
},{}],"UEAv":[function(require,module,exports) {
(function(){"use strict";var r,t;t=Array.isArray,r=Object.hasOwnProperty,module.exports=function(o){var e,s,n;return o.simplify=(s=[Array.prototype,Object.prototype],e=[Array,Object],function(n,l){var u,i,c,p,f,a,b,O,h,j,y,m,v,P,d;if(null==l&&(l={}),!o.isObject(n))throw new Error("utils.simplify object must be an object");if(!o.isPlainObject(l))throw new Error("utils.simplify options must be a plain object");for(j=null!=l.properties?l.properties:l.properties=!1,y=null!=l.protos?l.protos:l.protos=!1,O=null!=l.constructors?l.constructors:l.constructors=!1,h=l.instances=!y&&O,b=[],p=[],P={},O&&(u={}),y&&(v={}),m=function(o,s){var n,l,i,c,f,a,b,m,d,g;for(c in d=t(o)?[]:{},f=p[s],b=0,a=null,o)g=o[c],r.call(o,c)&&(d[c]=g,i=!1,g&&"object"==typeof g&&(null==a&&(a=[]),null!==(g=f[b++])&&(i=!0,a.push(c))),j&&(l=getObjOwnPropDesc(o,c),i&&(l.value=g),g=l),d[c]=g);return y&&getPrototypeOf(o)&&null!==(m=f[b++])&&(v[s]=m),O&&(n=o.constructor)&&(h||r.call(o,"constructor"))&&(~e.indexOf(n)||(u[s]=n)),a&&(P[s]=a),d},(i=function(t){var o,e,n,l,u,c;for(e in n=b.push(t),p.push(l=[]),t)c=t[e],r.call(t,e)&&c&&"object"==typeof c&&(j&&exports.lookupGetter(t,e)?l.push(null):(~(o=b.indexOf(c))||(o=i(c)),l.push(o)));return y&&(u=getPrototypeOf(t))&&(~s.indexOf(u)?o=null:~(o=b.indexOf(u))||(o=i(u)),l.push(o)),n-1})(n),c=f=0,a=b.length;f<a;c=++f)d=b[c],b[c]=m(d,c);return{opts:l,objects:b,references:P,protos:v,constructors:u}}),o.assemble=(n={value:null},function(t){var e,s,l,u,i,c,p,f,a,b,O,h,j,y,m,v,P,d,g,w,x,A,E,k,D,G;if(!o.isPlainObject(t))throw new Error("utils.assemble object must be a plain object");if(m=t.opts,y=t.objects,E=t.references,g=t.protos,e=t.constructors,d=m.properties,m.protos,v=m.constructors,P=m.instances,D=[],d)for(h in E)for(k=E[h],t=y[h],l=0,p=k.length;l<p;l++)w=k[l],D.push(t[w].value),t[w].value=y[t[w].value];else for(h in E)for(k=E[h],t=y[h],u=0,f=k.length;u<f;u++)w=k[u],D.push(t[w]),t[w]=y[t[w]];if(d)for(c=0,a=y.length;c<a;c++)for(i in t=y[c])G=t[i],r.call(t,i)&&defObjProp(t,i,G);for(h in g)x=g[h],y[h]=o.setPrototypeOf(y[h],y[x]);if(P)for(h in e)s=e[h],j=y[h]=o.setPrototypeOf(y[h],s.prototype),"function"==typeof s.fromAssembled&&s.fromAssembled(j);else if(v)for(h in e)s=e[h],n.value=s,defObjProp(y[h],"constructor",n);for(h in A=0,E)for(k=E[h],t=y[h],O=0,b=k.length;O<b;O++)t[w=k[O]]=y[D[A++]];return y[0]})}}).call(this);
},{}],"u0uD":[function(require,module,exports) {
(function(){"use strict";var n,t,l,r,i,e,o,u,c=[].slice;e=null,l=console.assert.bind(console),module.exports,Array.prototype.shift,i=Array.isArray,n=function(){},o=function(n,t,l,r){var i,e,o;return i=0,e=n.length,(o=function(){return i===e?l.call(r):(i++,t.call(r,n[i-1],i-1,n,o))})()},u=function(n,t,l,r){var i,e,o,u;return e=Object.keys(n),i=0,o=e.length,(u=function(){var c;return i===o?l.call(r):(c=e[i],t.call(r,c,n[c],n,u),i++)})()},r=function(n,t,r,c){return l(!e.isPrimitive(n)),l("function"==typeof t),null!=r&&l("function"==typeof r),(i(n)?o:u)(n,t,r,c),null},t=function(){function t(){this._arr=[],this.length=0,this.pending=!1,Object.preventExtensions(this)}return t.prototype.add=function(n,t,r){return null!=r&&l(e.isObject(r)),this._arr.push(n,t,r),this.length++,this},t.prototype.callNext=function(n,t){var r,i,o,u,c,a,s,h,f,p,g;if("function"==typeof n&&null==t&&(t=n,n=null),l("function"==typeof t),!this._arr.length)return t();if(this.length--,c=this._arr.shift(),u=this._arr.shift(),a=this._arr.shift(),"string"==typeof c&&(c=e.get(u,c)),"function"!=typeof c)throw new TypeError("ASync Stack::callNext(): function to call is not a function");if(s=c.length||Math.max((null!=n?n.length:void 0)||0,(null!=a?a.length:void 0)||0)+1,g=null,o=!1,i=function(){return l(!o||!g,"Callback can't be called if function throws an error;\nFunction: `"+c+"`\nSynchronous error: `"+((null!=g?g.stack:void 0)||g)+"`"),l(!o,"Callback can't be called twice;\nFunction: `"+c+"`"),o=!0,t.apply(this,arguments)},(a=Object.create(a||null))[s-1]=i,(void 0===a.length||a.length<s)&&(a.length=s),n)for(h=f=0,p=n.length;f<p;h=++f)r=n[h],h!==s-1&&void 0===a[h]&&(a[h]=r);return(g=e.catchError(c,u,a))&&i(g),null},t.prototype.runAll=function(t,r){var i,e,o;if(null==t&&(t=n),null==r&&(r=null),l(!1===this.pending),"function"!=typeof t)throw new TypeError("ASync runAll(): passed callback is not a function");return this._arr.length?(o=this,e=function(){var n,l;return l=arguments[0],n=2<=arguments.length?c.call(arguments,1):[],null!=l?(o.pending=!1,t.call(r,l)):o._arr.length?i(n):(o.pending=!1,t.apply(r,arguments))},i=function(n){return function(t){return n.callNext(t,e)}}(this),this.pending=!0,i(),null):t.call(r,null)},t.prototype.runAllSimultaneously=function(t,r){var i,e,o,u,c;if(null==t&&(t=n),null==r&&(r=null),l(!1===this.pending),l("function"==typeof t),e=o=this._arr.length/3,i=0,!e)return t.call(r);for(c=this,u=function(n){if(!(++i>e))return n?(i=e,c.pending=!1,t.call(r,n)):i===e?(c.pending=!1,t.call(r)):void 0},this.pending=!0;o--;)this.callNext(u);return null},t}(),module.exports=function(){return(e=arguments[0]).async={forEach:r,Stack:t}}}).call(this);
},{}],"xr+4":[function(require,module,exports) {
(function(){"use strict";var r,e,t,o,n,i,u,s,a,c,l,f,p,b,w,y,m,h,g,v,E,x,j,O,d,P,A,T,_,F,D,C;h=Object.prototype.toString,Function.prototype.toString,s=Array.isArray,(m=Array.prototype).shift,m.pop,t=Object.create,i=Object.getPrototypeOf,Object.getOwnPropertyNames,w=Object.keys,u=Object.hasOwnProperty,n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,y=Math.random,f=require("../log"),require("./namespace")(exports),require("./stringifying")(exports),require("./async")(exports),["isNode","isServer","isClient","isBrowser","isWebGL","isAndroid","isIOS","isMacOS"].forEach(function(r){return Object.defineProperty(exports,r,{get:function(){throw new Error("utils."+r+" is replaced by process.env.NEFT_PLATFORM")}})}),Object.defineProperty(exports,"isNative",{get:function(){throw new Error("utils.isNative is replaced by process.env.NEFT_NATIVE")}}),exports.NOP=function(){},exports.is=Object.is||function(r,e){return 0===r&&0===e?1/r==1/e:r!=r?e!=e:r===e},exports.isFloat=function(r){return"number"==typeof r&&isFinite(r)},exports.isInteger=function(r){return"number"==typeof r&&isFinite(r)&&r>-9007199254740992&&r<9007199254740992&&Math.floor(r)===r},l=exports.isPrimitive=function(r){return null===r||"string"==typeof r||"number"==typeof r||"boolean"==typeof r||void 0===r},c=exports.isObject=function(r){return null!==r&&"object"==typeof r},exports.isPlainObject=function(r){var e;return!!c(r)&&(!(e=i(r))||e===Object.prototype&&!i(e))},exports.isArguments=function(r){return"[object Arguments]"===h.call(r)},p=exports.merge=function(r,e){var t,o;if(l(r))throw new Error("utils.merge source cannot be primitive");if(l(e))throw new Error("utils.merge object cannot be primitive");if(r===e)throw new Error("utils.merge source and object are the same");if(arguments.length>2)throw new Error("utils.merge expects only two arguments; use utils.mergeAll instead");for(t in e)o=e[t],u.call(e,t)&&(r[t]=o);return r},exports.mergeAll=function(r){var e,t,o,n;if(l(r))throw new Error("utils.mergeAll source cannot be primitive");for(e=t=1,n=arguments.length;t<n;e=t+=1)if(null!=(o=arguments[e])){if(l(o))throw new Error("utils.mergeAll object cannot be primitive");if(r===o)throw new Error("utils.mergeAll source and object are the same");p(r,o)}return r},b=exports.mergeDeep=function(r,e){var t,o,n;if(l(r))throw new Error("utils.mergeDeep source cannot be primitive");if(l(e))throw new Error("utils.mergeDeep object cannot be primitive");if(r===e)throw new Error("utils.mergeDeep source and object are the same");if(s(r)&&s(e))Array.prototype.push.apply(r,e);else for(t in e)n=e[t],u.call(e,t)&&(o=r[t],c(n)&&c(o)?b(o,n):r[t]=n);return r},exports.mergeDeepAll=function(r){var e,t,o,n;if(l(r))throw new Error("utils.mergeDeepAll source cannot be primitive");for(e=t=1,n=arguments.length;t<n;e=t+=1)if(null!=(o=arguments[e])){if(l(o))throw new Error("utils.mergeDeepAll object cannot be primitive");if(r===o)throw new Error("utils.mergeDeepAll source and object are the same");b(r,o)}return r},exports.fill=function(r,e){var t,o;if(l(r))throw new Error("utils.fill source cannot be primitive");if(l(e))throw new Error("utils.fill object cannot be primitive");if(r===e)throw new Error("utils.fill source and object are the same");for(t in e)o=e[t],u.call(e,t)&&t in r&&!u.call(r,t)&&(r[t]=o);return r},exports.remove=function(r,e){var t;if(l(r))throw new Error("utils.remove object cannot be primitive");s(r)?-1!==(t=r.indexOf(e))&&(0===t?r.shift():t===r.length-1?r.pop():r.splice(t,1)):delete r[e]},exports.removeFromUnorderedArray=function(r,e){var t;if(!Array.isArray(r))throw new Error("utils.removeFromUnorderedArray array must be an Array");-1!==(t=r.indexOf(e))&&(r[t]=r[r.length-1],r.pop())},exports.getPropertyDescriptor=function(r,e){var t;if(l(r))throw new Error("utils.getPropertyDescriptor object cannot be primitive");if("string"!=typeof e)throw new Error("utils.getPropertyDescriptor property must be a string");for(;r&&!t;)t=n(r,e),r=i(r);return t},exports.lookupGetter=(Object.prototype.__lookupGetter__&&Object.prototype.lookupGetter,function(r,e){var t,o;if(t=exports.getPropertyDescriptor(r,e))return(null!=(o=t.get)?o.trueGetter:void 0)||t.get}),exports.lookupSetter=Object.prototype.__lookupSetter__?Function.call.bind(Object.prototype.__lookupSetter__):function(r,e){var t;return null!=(t=exports.getPropertyDescriptor(r,e))?t.set:void 0},o(exports,"WRITABLE",{value:1}),o(exports,"ENUMERABLE",{value:2}),o(exports,"CONFIGURABLE",{value:4}),exports.defineProperty=(E=exports.WRITABLE,v=exports.ENUMERABLE,g=exports.CONFIGURABLE,j={enumerable:!0,configurable:!0},d=exports.merge({writable:!0,value:null},j),x=exports.merge({get:void 0,set:void 0},j),O="undefined"!=typeof navigator&&null!==navigator&&/^((?!chrome).)*safari/i.test(navigator.userAgent),function(r,e,t,n,i){var u,s;if(l(r))throw new Error("utils.defineProperty object cannot be primitive");if("string"!=typeof e)throw new Error("utils.defineProperty property must be a string");if(null!=t&&(!exports.isInteger(t)||t<0))throw new Error("utils.defineProperty descriptors bitmask must be a positive integer");return void 0===i?(s=d,d.value=n,d.writable=t&E):(O&&n&&(u=n,n=function(){return this!==r&&this.hasOwnProperty(e)?this[e]:u.call(this)}),s=x,x.get="function"==typeof n?n:void 0,x.set="function"==typeof i?i:void 0),s.enumerable=t&v,s.configurable=t&g,o(r,e,s),r}),exports.overrideProperty=function(r,e,t,o){var n,i,u;if(!(n=exports.getPropertyDescriptor(r,e)))throw new Error("utils.overrideProperty object must has the given property");if(!n.configurable)throw new Error("utils.overrideProperty the given property is not configurable");return i=exports.CONFIGURABLE,n.writable&&(i|=exports.WRITABLE),n.enumerable&&(i|=exports.ENUMERABLE),void 0!==t&&void 0!==o?(null!=n.get&&(t="function"==typeof t?t(n.get):n.get),null!=n.set&&(o="function"==typeof o?o(n.set):n.set)):typeof t==(u=typeof n.value)&&"function"===u&&(t=t(n.value)),exports.defineProperty(r,e,i,t,o)},r=exports.clone=function(r){var e,o,n,u,a,l;if(s(r))return r.slice();if(c(r)){for(l=(u=i(r))===Object.prototype?{}:t(u),e=0,n=(a=w(r)).length;e<n;e++)l[o=a[e]]=r[o];return l}return r},e=exports.cloneDeep=function(t){var o,n,i,u,s;if(s=r(t),c(s))for(o=0,i=(u=w(s)).length;o<i;o++)s[n=u[o]]=e(s[n]);return s},exports.isEmpty=function(r){var e;if("string"==typeof r)return""===r;if(l(r))throw new Error("utils.isEmpty object must be a string or not primitive");if(s(r))return!r.length;for(e in r)return!1;return!0},exports.last=function(r){if(l(r))throw new Error("utils.last array cannot be primitive");return r[r.length-1]},exports.clear=function(r){var e,t,o,n,i;if(l(r))throw new Error("utils.clear object cannot be primitive");if(s(r))for(e=0,n=r.length;e<n;e+=1)r.pop();else for(t=0,o=(i=w(r)).length;t<o;t++)delete r[i[t]];return r},exports.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:((P={}).__proto__={a:1},1===P.a?function(r,e){if(l(r))throw new Error("utils.setPrototypeOf object cannot be primitive");if(null!=e&&l(e))throw new Error("utils.setPrototypeOf prototype cannot be primitive");return r.__proto__=e,r}:function(r,e){var o;if(l(r))throw new Error("utils.setPrototypeOf object cannot be primitive");if(null!=e&&l(e))throw new Error("utils.setPrototypeOf prototype cannot be primitive");return"object"==typeof r?(o=t(e),p(o,r)):p(r,e),o}),exports.has=function(r,e){var t,o;if("string"==typeof r)return!!~r.indexOf(e);if(l(r))throw new Error("utils.has object must be a string or not primitive");if(s(r))return!!~Array.prototype.indexOf.call(r,e);for(t in r)if(o=r[t],u.call(r,t)&&o===e)return!0;return!1},exports.objectToArray=function(r,e,t){var o,n,i,u,a,l;if(u=w(r),null==t&&(t=u),!c(r))throw new Error("utils.objectToArray object must be an object");if(null!=e&&"function"!=typeof e)throw new Error("utils.objectToArray valueGen must be a function");if(!s(t))throw new Error("utils.objectToArray target must be an array");for(o=n=0,a=u.length;n<a;o=++n)i=u[o],l=e?e(i,r[i],r):r[i],t[o]=l;return t},exports.arrayToObject=function(r,e,t,o){var n,i,u,a,l,f;if(null==o&&(o={}),!s(r))throw new Error("utils.arrayToObject array must be an array");if(null!=e&&"function"!=typeof e)throw new Error("utils.arrayToObject keyGen must be a function");if(null!=t&&"function"!=typeof t)throw new Error("utils.arrayToObject valueGen must be a function");if(!c(o))throw new Error("utils.arrayToObject target must be an object");for(i=u=0,l=r.length;u<l;i=++u)n=r[i],a=e?e(i,n,r):i,f=t?t(i,n,r):n,null!=a&&(o[a]=f);return o},exports.capitalize=function(r){if("string"!=typeof r)throw new Error("utils.capitalize string must be a string");return r.length?r[0].toUpperCase()+r.slice(1):""},exports.addSlashes=(A=/'|"/g,function(r){if("string"!=typeof r)throw new Error("utils.addSlashes string must be a string");return r.length?r.replace(A,"\\$&"):r}),exports.uid=function(r){var e;if(null==r&&(r=8),"number"!=typeof r||r<=0||!isFinite(r))throw new Error("utils.uid length must be a positive finite number");for(e="";!((e+=y().toString(16).slice(2)).length>=r););return e.length!==r&&(e=e.slice(0,r)),e},exports.tryFunction=function(r,e,t,o){var n;if("function"!=typeof r)throw new Error("utils.tryFunction function must be a function");if(null!=t&&!c(t))throw new Error("utils.tryFunction arguments must be an object");try{return r.apply(e,t)}catch(i){return n=i,"function"==typeof o?o(n):void 0===o?n:o}},exports.catchError=function(r,e,t){if("function"!=typeof r)throw new Error("utils.catchError function must be a function");if(null!=t&&!c(t))throw new Error("utils.catchError arguments must be an object");try{r.apply(e,t)}catch(o){return o}},exports.bindFunctionContext=function(r,e){if("function"!=typeof r)throw new Error("utils.bindFunctionContext function must be a function");switch(r.length){case 0:return function(){return r.call(e)};case 1:return function(t){return r.call(e,t)};case 2:return function(t,o){return r.call(e,t,o)};case 3:return function(t,o,n){return r.call(e,t,o,n)};case 4:return function(t,o,n,i){return r.call(e,t,o,n,i)};case 5:return function(t,o,n,i,u){return r.call(e,t,o,n,i,u)};case 6:return function(t,o,n,i,u,s){return r.call(e,t,o,n,i,u,s)};case 7:return function(t,o,n,i,u,s,a){return r.call(e,t,o,n,i,u,s,a)};default:return function(){return r.apply(e,arguments)}}},exports.errorToObject=function(r){var e;if(!c(r))throw new Error("utils.errorToObject error must be an object");return e={name:r.name,message:r.message},exports.merge(e,r),e},exports.getOwnProperties=function(r){var e;if(!c(r))throw new Error("utils.getOwnProperties object must be an object");return e=s(r)?[]:{},p(e,r),e},exports.deprecate=function(r,e){var t;return t=!1,function(){return t||(f.warn(e),t=!0),r.apply(this,arguments)}},a=exports.isEqual=(T=function(r,e){return r===e},_=function(r,e,t,o){var n,u,s,c,l;if(i(r)!==i(e))return!1;if(r.length!==e.length)return!1;if(o<=0)return!0;for(s=c=0,l=r.length;c<l;s=++c)if(n=r[s],(u=e[s])&&"object"==typeof u){if(!a(n,u,t,o-1))return!1}else if(!t(n,u))return!1;return!0},F=function(r,e,t,o){var n,u;if(i(r)!==i(e))return!1;for(n in r)if(u=r[n],r.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;for(n in e)if(u=e[n],e.hasOwnProperty(n)&&!r.hasOwnProperty(n))return!1;if(o<=0)return!0;for(n in r)if(u=r[n],r.hasOwnProperty(n))if(u&&"object"==typeof u){if(!a(u,e[n],t,o-1))return!1}else if(!t(u,e[n]))return!1;return!0},function(r,e,t,o){if(null==t&&(t=T),null==o&&(o=Infinity),"number"==typeof t&&(o=t,t=T),"function"!=typeof t)throw new Error("utils.isEqual compareFunction must be a function");if("number"!=typeof o)throw new Error("utils.isEqual maxDeep must be a number");return o<0?t(r,e):s(r)&&s(e)?_(r,e,t,o):c(r)&&c(e)?F(r,e,t,o):t(r,e)}),exports.snakeToCamel=(D=/(_\w)/g,C=function(r){return r[1].toUpperCase()},function(r){if("string"!=typeof r)throw new Error("utils.snakeToCamel value must be a string");return r.replace(D,C)}),exports.kebabToCamel=function(){var r,e;return r=/(\-\w)/g,e=function(r){return r[1].toUpperCase()},function(t){if("string"!=typeof t)throw new Error("utils.kebabToCamel value must be a string");return t.replace(r,e)}}(),exports.camelToKebab=function(){var r;return r=/([a-z])([A-Z])/g,function(e){if("string"!=typeof e)throw new Error("utils.camelToKebab value must be a string");return e.replace(r,"$1-$2").toLowerCase()}}(),Object.freeze(exports)}).call(this);
},{"../log":"fe8o","./namespace":"WmdM","./stringifying":"UEAv","./async":"u0uD"}],"juRu":[function(require,module,exports) {
const n=require("../util"),{Signal:t,callListeners:e}=require("./signal"),{InternalSignalDispatcher:i}=require("./dispatcher");function l(){n.defineProperty(this,"_signals",null,{})}n.defineProperty(l.prototype,"emit",null,function(n,t,i){const l=this._signals[n];l&&e(this,l,t,i)});class s extends t{asSignalDispatcher(){return new i(this.listeners)}}const r=new s;l.createSignal=((t,e,i)=>{const l="function"==typeof t?t.prototype:t;n.defineProperty(l,e,null,function(){const n=this._signals;if(!n)return null;let t=n[e];return t||(t=[null,null,null,null],n[e]=t,"function"==typeof i&&i(this,e)),r.listeners=t,r},null)}),exports.SignalsEmitter=l;
},{"../util":"xr+4","./signal":"XbcT","./dispatcher":"Beob"}],"WtLN":[function(require,module,exports) {
const{SignalDispatcher:e}=require("./dispatcher"),{SignalsEmitter:i}=require("./emitter");exports.SignalDispatcher=e,exports.SignalsEmitter=i;
},{"./dispatcher":"Beob","./emitter":"juRu"}],"lQvG":[function(require,module,exports) {
(function(){"use strict";var t,i,n,e={}.hasOwnProperty;n=require("../util"),(t=module.exports=function(i,n){if(!i)return t.fail(i,!0,n,"==",t)}).AssertionError=function(t){var i;function r(t){r.__super__.constructor.call(this),this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,this.scope=t.scope,this.message=r.generateMessage(this,t.message),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.stackStartFunction)}return function(t,i){for(var n in i)e.call(i,n)&&(t[n]=i[n]);function r(){this.constructor=t}r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype}(r,Error),i=function(t){var i;return n.isObject(t)&&(i=function(){try{return JSON.stringify(t)}catch(i){}}()),i||String(t)},r.generateMessage=function(t,n){return n||i(t.actual)+" "+t.operator+" "+i(t.expected)},r}(),i=function(t){var i;return i=function(n,e,r,o,s){throw new t.AssertionError({actual:n,expected:e,message:r,operator:o,scope:t._scope,stackStartFunction:s||i})}},t.scope=function(e){var r;return e=""+this._scope+e,r=function(i,n){return t(i,n)},n.merge(r,t),r.fail=i(r),r._scope=e,r},t.fail=i(t),t._scope="",t.ok=t,t.notOk=function(i,n){if(i)return this.fail(i,!0,n,"!=",t.notOk)},t.is=function(i,e,r){if(!n.is(i,e))return this.fail(i,e,r,"===",t.is)},t.isNot=function(i,e,r){if(n.is(i,e))return this.fail(i,e,r,"!==",t.isNot)},t.isDefined=function(i,n){if(null==i)return this.fail(i,null,n,"!=",t.isDefined)},t.isNotDefined=function(i,n){if(null!=i)return this.fail(i,null,n,"==",t.isNotDefined)},t.isPrimitive=function(i,e){if(!n.isPrimitive(i))return this.fail(i,"primitive",e,"is",t.isPrimitive)},t.isNotPrimitive=function(i,e){if(n.isPrimitive(i))return this.fail(i,"primitive",e,"isn't",t.isNotPrimitive)},t.isString=function(i,n){if("string"!=typeof i)return this.fail(i,"string",n,"is",t.isString)},t.isNotString=function(i,n){if("string"==typeof i)return this.fail(i,"string",n,"isn't",t.isNotString)},t.isFloat=function(i,e){if(!n.isFloat(i))return this.fail(i,"float",e,"is",t.isFloat)},t.isNotFloat=function(i,e){if(n.isFloat(i))return this.fail(i,"float",e,"isn't",t.isNotFloat)},t.isInteger=function(i,e){if(!n.isInteger(i))return this.fail(i,"integer",e,"is",t.isInteger)},t.isNotInteger=function(i,e){if(n.isInteger(i))return this.fail(i,"integer",e,"isn't",t.isNotInteger)},t.isBoolean=function(i,n){if("boolean"!=typeof i)return this.fail(i,"boolean",n,"is",t.isBoolean)},t.isNotBoolean=function(i,n){if("boolean"==typeof i)return this.fail(i,"boolean",n,"isn't",t.isNotBoolean)},t.isFunction=function(i,n){if("function"!=typeof i)return this.fail(i,"function",n,"is",t.isFunction)},t.isNotFunction=function(i,n){if("function"==typeof i)return this.fail(i,"function",n,"isn't",t.isNotFunction)},t.isObject=function(i,n){if(null===i||"object"!=typeof i)return this.fail(i,"object",n,"is",t.isObject)},t.isNotObject=function(i,n){if(null!==i&&"object"==typeof i)return this.fail(i,"object",n,"isn't",t.isNotObject)},t.isPlainObject=function(i,e){if(!n.isPlainObject(i))return this.fail(i,"plain object",e,"is",t.isPlainObject)},t.isNotPlainObject=function(i,e){if(n.isPlainObject(i))return this.fail(i,"plain object",e,"isn't",t.isNotPlainObject)},t.isArray=function(i,n){if(!Array.isArray(i))return this.fail(i,"array",n,"is",t.isArray)},t.isNotArray=function(i,n){if(Array.isArray(i))return this.fail(i,"array",n,"isn't",t.isNotArray)},t.isEqual=function(i,e,r,o){if("object"==typeof r&&(o=r,r=void 0),!n.isEqual(i,e,null!=o?o.maxDeep:void 0))return this.fail(i,e,r,"equal",t.isEqual)},t.isNotEqual=function(i,e,r,o){if("object"==typeof r&&(o=r,r=void 0),n.isEqual(i,e,null!=o?o.maxDeep:void 0))return this.fail(i,e,r,"isn't equal",t.isNotEqual)},t.instanceOf=function(i,n,e){var r;if(!(i instanceof n))return r=n.__path__||n.__name__||n.name||n,this.fail(i,r,e,"instanceof",t.instanceOf)},t.notInstanceOf=function(i,n,e){var r;if(i instanceof n)return r=n.__path__||n.__name__||n.name||n,this.fail(i,r,e,"instanceof",t.notInstanceOf)},t.lengthOf=function(i,n,e){if((null!=i?i.length:void 0)!==n)return this.fail(i,n,e,".length ===",t.lengthOf)},t.notLengthOf=function(i,n,e){if((null!=i?i.length:void 0)===n)return this.fail(i,n,e,".length !==",t.notLengthOf)},t.operator=function(i,n,e,r){if(!function(){switch(n){case">":return i>e;case">=":return i>=e;case"<":return i<e;case"<=":return i<=e;default:throw new TypeError("Unexpected operator `"+n+"`")}}())return this.fail(i,e,r,n,t.operator)},t.match=function(i,n,e){if(!n.test(i))return this.fail(i,n,e,"match",t.match)},t.notMatch=function(i,n,e){if(n.test(i))return this.fail(i,n,e,"not match",t.match)}}).call(this);
},{"../util":"xr+4"}],"jt0G":[function(require,module,exports) {
(function(){"use strict";var e,r,t,o;e=require("../assert"),t=require("../log"),r=[],o=0,exports.lock=function(){return o+=1},exports.release=function(){var n;if(o-=1,e.ok(o>=0),0===o&&r.length>0){for(exports.lock();r.length>0;)try{r.shift()()}catch(s){n=s,t.error("Uncaught error when executing event-loop",n)}exports.release()}},exports.callInLock=function(e,r,t){var o;exports.lock();try{o=e.apply(r,t)}finally{exports.release()}return o},exports.bindInLock=function(e){return function(){var r;exports.lock();try{r=e.apply(this,arguments)}finally{exports.release()}return r}},exports.setImmediate=function(n){var s;if(e.isFunction(n,"eventLoop.setImmediate callback must be a function, but "+n+" given"),0===o){exports.lock();try{n()}catch(c){s=c,t.error("Uncaught error during setImmediate in the event-loop",s)}exports.release()}else r.push(n)}}).call(this);
},{"../assert":"lQvG","../log":"fe8o"}],"JghC":[function(require,module,exports) {
(function(){"use strict";var e,n,t,o,i;i=require("../../../../../util"),n=require("../../../../../event-loop"),o=Math.sin,e=Math.cos,t=function(e,n,t,o,i,r){return e>=t&&n>=o&&e<t+i&&n<o+r},module.exports=function(r){var p,a,c,_,l,u,s,m,v,f,g,h,P,d,b;return 1,2,4,b=function(n,i,r,p,a,c,_){var l,u,s,m,v,f,g,h,P,d,M,k,I,R,w;if(f=0,R=w=I=s=M=k=g=P=v=0,!n._visible)return f;if(n._impl,(m=n._pointer)&&!m._enabled)return f;if(R=a+n._x*_,w=c+n._y*_,I=n._width*_,s=n._height*_,u=(d=n._scale)*_,1!==d&&(R+=(I-(M=I*d))/2,w+=(s-(k=s*d))/2,I=M,s=k),0!==(h=n._rotation)&&(P=o(-h),g=(v=e(-h))*(i-(M=R+I/2))-P*(r-(k=w+s/2))+M,r=P*(i-M)+v*(r-k)+k,i=g),n._clip&&!t(i,r,R,w,I,s))return f;if(!(2&f)&&n._children)for(l=n._children.topChild;l;){if(4&(f=b(l,i,r,p,R,w,u)))return f;if(2&f)break;l=l.belowSibling}return(1&f||t(i,r,R,w,I,s))&&(f=p(n,(i-R)/u,(r-w)/u)),f},v=function(e,n,t,o){return e?b(e,n,t,o,0,0,1):0},P=[],h=[],d=[],f=[],r.Renderer.onReady.connect(function(){var e,t,o,c;return e=r.Renderer.Device,t=r.Renderer.Item.Pointer.event,o=function(){return t._checkSiblings?1:3},e.onPointerPress.connect((c=function(e,n,i){var r;return(r=e._impl.capturePointer)&p&&d.push(e),r&u&&(t._ensureRelease=!0,t._ensureMove=!0,t._itemX=n,t._itemY=i,e.pointer.emit("onPress",t),t._ensureRelease&&P.push(e),t._ensureMove&&h.push(e),t._stopPropagation)?4:o()},n.bindInLock(function(e){t._stopPropagation=!1,t._checkSiblings=!1,t._preventClick=!1,v(r.windowItem,e._x,e._y,c)}))),e.onPointerRelease.connect(function(){var e;return e=function(e,n,r){var a,c;return(a=e._impl.capturePointer)&(s|u|p)&&(t._itemX=n,t._itemY=r),a&s&&e._pointer.emit("onRelease",t),a&u&&(c=P.indexOf(e))>=0&&(P[c]=null),a&p&&!t._preventClick&&i.has(d,e)&&e.pointer.emit("onClick",t),a&(s|p)&&t._stopPropagation?4:o()},n.bindInLock(function(n){var o,p,a;if(t._stopPropagation=!1,t._checkSiblings=!1,v(r.windowItem,n._x,n._y,e),t._itemX=-1,t._itemY=-1,r.Renderer.Screen.touch)for(;p=f.pop();)(o=p._impl).pointerHover=!1,o.pointerMoveFlag=0,p.pointer.emit("onExit",t);if(!t._stopPropagation)for(a=P.length-1;a>=0&&(!(p=P[a])||(p.pointer.emit("onRelease",t),!t._stopPropagation));a+=-1);i.clear(P),i.clear(h),i.clear(d)})}()),e.onPointerMove.connect(function(){var e,i;return e=0,i=function(n,i,r){var p,c;return(p=(c=n._impl).capturePointer)&(a|_|l)&&(c.pointerMoveFlag=e,t._itemX=i,t._itemY=r),p&(a|_)&&!c.pointerHover&&(c.pointerHover=!0,f.push(n),n.pointer.emit("onEnter",t)),p&l&&n._pointer.emit("onMove",t),p&(a|_|l)&&t._stopPropagation?4:o()},n.bindInLock(function(n){var o,p,a,c,_,l,u,s;for(t._stopPropagation=!1,t._checkSiblings=!1,e=e%2+1,v(r.windowItem,n._x,n._y,i),t._itemX=-1,t._itemY=-1,c=0,u=h.length;c<u&&(a=h[c],!t._stopPropagation);c++)(o=a._impl).pointerMoveFlag!==e&&a.pointer.emit("onMove",t);for(p=_=f.length-1;_>=0;p=_+=-1)(o=(a=f[p])._impl).pointerHover&&o.pointerMoveFlag!==e&&(o.pointerHover=!1,o.pointerMoveFlag=0,f.splice(p,1),a.pointer.emit("onExit",t));for(l=0,s=h.length;l<s;l++)(o=(a=h[l])._impl).pointerMoveFlag!==e&&(o.pointerMoveFlag=e)})}()),e.onPointerWheel.connect(function(){var e;return e=function(e,n,i){var r;return t._stopPropagation=!0,e._impl.capturePointer&m&&(r=e._pointer)&&!r.onWheel.isEmpty()&&(t._itemX=n,t._itemY=i,r.emit("onWheel",t),t._stopPropagation)?4:o()},n.bindInLock(function(n){t._checkSiblings=!1,v(r.windowItem,n._x,n._y,e)})}())}),g=0,{EVENTS:c={onPress:u=1<<g++,onRelease:s=1<<g++,onMove:l=1<<g++,onWheel:m=1<<g++,onClick:p=1<<g++,onEnter:a=1<<g++,onExit:_=1<<g++},DATA:{pointerHover:!1,pointerMoveFlag:0,capturePointer:0},attachItemSignal:function(e){var n,t;n=this._ref._impl,(t=c[e])&&(n.capturePointer|=t)},setItemPointerEnabled:function(e){},setItemPointerDraggable:function(e){},setItemPointerDragActive:function(e){}}}}).call(this);
},{"../../../../../util":"xr+4","../../../../../event-loop":"jt0G"}],"wKwT":[function(require,module,exports) {
(function(){"use strict";var r;r=function(r){var t,n,e,a;for(t=new Array(r),n=e=0,a=r;e<a;n=e+=1)t[n]=0;return t},exports.Int8="undefined"!=typeof Int8Array?Int8Array:r,exports.Uint8="undefined"!=typeof Uint8Array?Uint8Array:r,exports.Int16="undefined"!=typeof Int16Array?Int16Array:r,exports.Uint16="undefined"!=typeof Uint16Array?Uint16Array:r,exports.Int32="undefined"!=typeof Int32Array?Int32Array:r,exports.Uint32="undefined"!=typeof Uint32Array?Uint32Array:r,exports.Float32="undefined"!=typeof Float32Array?Float32Array:r,exports.Float64="undefined"!=typeof Float64Array?Float64Array:r}).call(this);
},{}],"9UEq":[function(require,module,exports) {
(function(){"use strict";var n,t,i,e,h,o,s,l,c,r,a,g,d,u,_,f,p,C,m,b,w,v,H,F,W;require("../../../../../../util"),g=require("../../../../../../log"),c=require("../../../../../../event-loop"),n=require("../../../../../../typed-array"),g=g.scope("Renderer","Flow"),d=function(n,t){return n>t?n:t},r=function(n,t){return n.length<t?new n.constructor(1.4*t|0):n},a=function(n,t){var i,e,h,o;if((h=r(n,t))===n){for(i=e=0,o=t;e<o;i=e+=1)n[i]=0;return n}return h},_=(p=[[],[]])[f=0],u=!1,b=new n.Float64(64),m=new n.Float64(64),s=new n.Float64(64),l=new n.Float64(64),o=new n.Float64(64),h=new n.Float64(64),C=new n.Uint8(64),w=new n.Uint8(64),H=function(n){var t,i,e,c,u,_,f,p,v,H,F,W,x,A,P,S,k,q,y,R,U,V,z,I,M,O,T,j,B,D,E,G,J,K,L,N,Q,X,Y,Z,$,nn,tn,en,hn,on,sn,ln,cn,rn,an,gn;if(k=(H=n._children).firstChild,u=(S=n._impl).autoWidth,c=S.autoHeight,u&&(u=!n._fillWidth),c&&(c=!n._fillHeight),150===S.loops)return g.error("Potential Flow loop detected. Recalculating on this item ("+n.toString()+") has been disabled."),void S.loops++;if(!(S.loops>150)){for((L=n._padding)?(on=L._top,$=L._right,f=L._bottom,T=L._left):on=$=f=T=0,D=u?Infinity:n._width-T-$,F=n.spacing.column,tn=n.spacing.row,n._alignment?(t=n._alignment._horizontal,i=n._alignment._vertical):(t="left",i="top"),E=H.length,C=a(C,E),s.length<E&&(b=r(b,E*=1.5),m=r(m,E),s=r(s,E),l=r(l,E),o=r(o,E),h=r(h,E)),y=q=0,W=A=0,I=M=x=0,rn=an=Y=0,en=ln=0,K=k,V=-1;v=K;)V+=1,K=v.nextSibling,B=v._margin,e=v._anchors,cn=v._width,U=v._height,!v._visible||e&&e._runningCount||(B?(hn=B._top,Z=B._right,_=B._bottom,O=B._left):hn=Z=_=O=0,v._fillWidth&&!u&&(cn=D-O-Z,v.width=cn),(Y=(rn+=O+I+(rn>0?F:0))+cn+Z)>D&&ln>0&&(Y=(rn=O)+cn+Z,A+=m[W],W++,M=x,x=0),v._fillHeight&&!c&&(C[W]=d(C[W],C[W]+1),en++,U=0,h[V]=_),an+U,an=A,an+=M+hn+(an>0?tn:0),I=Z,x=d(x,_),s[V]=rn,l[V]=an,o[V]=W,y=d(y,Y),q=d(q,an+U),b[W]=Y,m[W]=q-A,rn+=cn,an+=U,ln++);if(q=d(q,q+x),(R=n._height-on-f-q)>0&&en>0){for(w=a(w,j=W+1),N=(q+R)/j,sn=!0;sn;)for(sn=!1,V=z=0,X=W;z<=X;V=z+=1)0===w[V]&&(0===C[V]||m[V]>N)&&(j--,N-=(m[V]-N)/j,w[V]=1,sn=!0);for(gn=P=0,K=k,nn=-1,V=-1;v=K;)V+=1,K=v.nextSibling,e=v._anchors,!v._visible||e&&e._runningCount||(o[V]===nn+1&&0===w[nn]&&(gn+=P,P=0),nn=o[V],l[V]+=gn,0===w[nn]&&v._fillHeight&&(v.height=N,P||(P=N-m[nn],m[nn]=N)));R=0}switch(t){case"left":G=0;break;case"center":G=.5;break;case"right":G=1}switch(i){case"top":J=0;break;case"center":J=.5;break;case"bottom":J=1}for(Q=c||"top"===i?0:R*J,u||(y=n._width-T-$),c||(q=n._height-on-f),K=k,V=-1;v=K;)V+=1,K=v.nextSibling,v._visible&&(p=o[V],(e=v._anchors)&&e._runningCount||(v.x=s[V]+(y-b[p])*G+T,v.y=l[V]+Q+(m[p]-v._height)*J+on));u&&(n.width=y+T+$),c&&(n.height=q+on+f)}},F=function(){var n,t;for(u=!1,n=_,_=p[++f%p.length];n.length;)(t=n.pop())._impl.pending=!1,t._impl.updatePending=!0,H(t),t._impl.updatePending=!1},i=!1,e=[],t=function(){var n;for(i=!1;n=e.pop();)n.loops<150&&(n.loops=0)},v=function(){var n;!(n=this._impl).pending&&this._visible&&(n.loops++||(e.push(n),i||(setTimeout(t),i=!0)),n.pending=!0,_.push(this),u||(u=!0,c.setImmediate(F)))},W=function(){this._impl.updatePending||v.call(this)},module.exports=function(n){var t,i,e,h,o;return o=function(t){return this._impl.autoWidth=n.Renderer.sizeUtils.isAutoWidth(this),W.call(this)},h=function(t){return this._impl.autoHeight=n.Renderer.sizeUtils.isAutoHeight(this),W.call(this)},i=function(n){return n.onVisibleChange.connect(v,this),n.onWidthChange.connect(W,this),n.onHeightChange.connect(W,this),n.onFillWidthChange.connect(v,this),n.onFillHeightChange.connect(v,this),n.onMarginChange.connect(v,this),n.onAnchorsChange.connect(v,this)},t=function(n){return n.onVisibleChange.disconnect(v,this),n.onWidthChange.disconnect(W,this),n.onHeightChange.disconnect(W,this),n.onFillWidthChange.disconnect(v,this),n.onFillHeightChange.disconnect(v,this),n.onMarginChange.disconnect(v,this),n.onAnchorsChange.disconnect(v,this)},e=function(n,e){return n&&i.call(this,n),e&&t.call(this,e),v.call(this)},{turnOff:function(n,i){var s;for(this.onAlignmentChange.disconnect(W),this.onPaddingChange.disconnect(v),this.onVisibleChange.disconnect(v),this.onChildrenChange.disconnect(e),this.onWidthChange.disconnect(o),this.onHeightChange.disconnect(h),this._impl.autoWidth&&(this.width=0),this._impl.autoHeight&&(this.height=0),s=this.children.firstChild;s;)t.call(this,s),s=s.nextSibling},turnOn:function(){var n;for(this.onAlignmentChange.connect(W),this.onPaddingChange.connect(v),this.onVisibleChange.connect(v),this.onChildrenChange.connect(e),this.onWidthChange.connect(o),this.onHeightChange.connect(h),n=this.children.firstChild;n;)i.call(this,n),n=n.nextSibling;v.call(this)},update:v}}}).call(this);
},{"../../../../../../util":"xr+4","../../../../../../log":"fe8o","../../../../../../event-loop":"jt0G","../../../../../../typed-array":"wKwT"}],"uxrr":[function(require,module,exports) {
(function(){"use strict";var n,i,t,e,h,o,r,l,c,s,g,a,d,f,u,_,p,C,m,b;require("../../../../../../util"),l=require("../../../../../../log"),h=require("../../../../../../event-loop"),i=require("../../../../../../typed-array"),l=l.scope("Renderer"),s=(a=[[],[]])[g=0],c=!1,b=new i.Uint8(64),e=new i.Float64(64),t=new i.Uint8(64),f=new i.Float64(64),d=new i.Uint8(64),u=new i.Uint8(64),o=function(n,i){return n.length<i?new n.constructor(1.4*i|0):n},r=function(n,i){var t,e,h,r;if((h=o(n,i))===n){for(t=e=0,r=i;e<r;t=e+=1)n[t]=0;return n}return h},n={left:0,center:.5,right:1,top:0,bottom:1},p=function(i){var h,l,c,s,g,a,_,p,C,m,w,v,W,H,U,y,x,A,M,P,F,L,R,S,I,q,O,V,z,T,G,N,j,k,B,D,E,J,K,Q,X,Y,Z,$,nn,tn,en,hn,on,rn,ln,cn,sn,gn,an,dn,fn,un,_n,pn;for(A=(v=i.children).firstChild,L=(x=i._impl).gridType,g=x.autoWidth,s=x.autoHeight,0,g&&(g=!i._fillWidth),s&&(s=!i._fillHeight),H=i.spacing.column,gn=i.spacing.row,3===L?(y=i.columns,dn=i.rows):1===L?(y=1,dn=Infinity):2===L&&(y=Infinity,dn=1),(c=i._alignment)?(h=n[c._horizontal],l=n[c._vertical]):(h=0,l=0),(X=i._padding)?(un=X._top,cn=X._right,_=X._bottom,N=X._left):un=cn=_=N=0,D=Infinity===y?v.length:y,e=r(e,D),t=r(t,D),E=Infinity===dn?Math.ceil(v.length/y):dn,f=r(f,E),d=r(d,E),b=o(b,v.length),I=z=0,T=-1,K=A,w=-1;m=K;)w+=1,K=m.nextSibling,!m._visible||m._anchors&&m._anchors._runningCount?b[w]=0:(b[w]=1,(W=I%y)>z&&(z=W),(sn=Math.floor(I/y)%dn)>T&&(T=sn),I++);for(I=U=an=0,K=A,w=-1;m=K;)w+=1,K=m.nextSibling,b[w]&&(pn=m._width,S=m._height,B=m._margin,W=I%y,sn=Math.floor(I/y)%dn,m._fillWidth&&(pn=0,U++,t[W]=1),m._fillHeight&&(S=0,an++,d[sn]=1),B&&(pn+=B._left,pn+=B._right,S+=B._top,S+=B._bottom),pn>e[W]&&(e[W]=pn),S>f[sn]&&(f[sn]=S),I++);if(R=0,g||U>0||0!==h)for(I=q=0,nn=z;q<=nn;I=q+=1)R+=e[I];if(F=0,s||an>0||0!==l)for(I=O=0,tn=T;O<=tn;I=O+=1)F+=f[I];if(!g&&(P=i._width-H*z-N-cn-R)>0&&U>0){for(u=r(u,z+1),Y=(R+P)/(j=z+1),_n=!0;_n;)for(_n=!1,I=V=0,en=z;V<=en;I=V+=1)0===u[I]&&(0===t[I]||e[I]>Y)&&(j--,Y-=(e[I]-Y)/j,u[I]=1,_n=!0);for(I=k=0,hn=z;k<=hn;I=k+=1)0===u[I]&&(e[I]=Y);P=0}if(!s&&(M=i._height-gn*T-un-_-F)>0&&an>0){for(u=r(u,T+1),Y=(F+M)/(j=T+1),_n=!0;_n;)for(_n=!1,I=J=0,on=T;J<=on;I=J+=1)0===u[I]&&(0===d[I]||f[I]>Y)&&(j--,Y-=(f[I]-Y)/j,u[I]=1,_n=!0);for(I=Q=0,rn=T;Q<=rn;I=Q+=1)0===u[I]&&(f[I]=Y);M=0}for(Z=g||0===h?0:P*h,$=s||0===l?0:M*l,I=p=C=0,K=A,w=-1;m=K;)w+=1,K=m.nextSibling,b[w]&&(B=m._margin,W=I%y,sn=Math.floor(I/y)%dn,0===W?(p=0,0===sn?C=0:C+=f[sn-1]+gn):p+=e[W-1]+H,G=ln=0,B&&(G=B._left,ln=B._right),fn=a=0,B&&(fn=B._top,a=B._bottom),m._fillWidth&&(pn=e[W]-G-ln,m.width=pn),m._fillHeight&&(S=f[sn]-fn-a,m.height=S),m.x=p+Z+G+N+e[W]*h-(m._width+G+ln)*h,m.y=C+$+fn+un+f[sn]*l-(m._height+fn+a)*l,I++);g&&(i.width=R+H*z+N+cn),s&&(i.height=F+gn*T+un+_)},C=function(){var n,i;for(c=!1,n=s,s=a[++g%a.length];n.length;)(i=n.pop())._impl.pending=!1,i._impl.updatePending=!0,p(i),i._impl.updatePending=!1},_=function(){var n;if(!(n=this._impl).pending&&this._visible){if(n.pending=!0,n.updatePending){if(n.gridUpdateLoops>100)return;if(100==++n.gridUpdateLoops)return void l.error("Potential Grid/Column/Row loop detected. Recalculating on this item ("+this.toString()+") has been disabled.")}else n.gridUpdateLoops=0;s.push(this),c||(c=!0,h.setImmediate(C))}},m=function(){this._impl.updatePending||_.call(this)},module.exports=function(n){var i,t,e,h,o;return o=function(i){return this._impl.autoWidth=n.Renderer.sizeUtils.isAutoWidth(this),m.call(this)},h=function(i){return this._impl.autoHeight=n.Renderer.sizeUtils.isAutoHeight(this),m.call(this)},t=function(n){return n.onVisibleChange.connect(_,this),n.onWidthChange.connect(m,this),n.onHeightChange.connect(m,this),n.onFillWidthChange.connect(_,this),n.onFillHeightChange.connect(_,this),n.onMarginChange.connect(_,this),n.onAnchorsChange.connect(_,this)},i=function(n){return n.onVisibleChange.disconnect(_,this),n.onWidthChange.disconnect(m,this),n.onHeightChange.disconnect(m,this),n.onFillWidthChange.disconnect(_,this),n.onFillHeightChange.disconnect(_,this),n.onMarginChange.disconnect(_,this),n.onAnchorsChange.disconnect(_,this)},e=function(n,e){return n&&t.call(this,n),e&&i.call(this,e),_.call(this)},{COLUMN:1,ROW:2,ALL:3,update:_,turnOff:function(){var n;for(this.onAlignmentChange.disconnect(m),this.onPaddingChange.disconnect(m),this.onVisibleChange.disconnect(_),this.onChildrenChange.disconnect(e),this.onWidthChange.disconnect(o),this.onHeightChange.disconnect(h),n=this.children.firstChild;n;)i.call(this,n),n=n.nextSibling},turnOn:function(n){var i;for(this._impl.gridType=n,this.onAlignmentChange.connect(m),this.onPaddingChange.connect(m),this.onVisibleChange.connect(_),this.onChildrenChange.connect(e),this.onWidthChange.connect(o),this.onHeightChange.connect(h),i=this.children.firstChild;i;)t.call(this,i),i=i.nextSibling;_.call(this)}}}}).call(this);
},{"../../../../../../util":"xr+4","../../../../../../log":"fe8o","../../../../../../event-loop":"jt0G","../../../../../../typed-array":"wKwT"}],"YSW+":[function(require,module,exports) {
(function(){"use strict";var t;t=require("../../../../util"),module.exports=function(e){var n,i,l,a;return a=e.pointer=require("./item/pointer")(e),i=require("./item/layout/flow")(e),l=require("./item/layout/grid")(e),function(){},n=t.merge({bindings:null,anchors:null,capturePointer:0,childrenCapturesPointer:0,layout:null,loops:0,pending:!1,updatePending:!1,gridType:0,gridUpdateLoops:0,autoWidth:!0,autoHeight:!0},a.DATA),e.ITEM_DATA=n,{DATA:n,createData:e.utils.createDataCloner(n),create:function(t){},setItemParent:function(t){},insertItemBefore:function(t){var n,i,l,a,u,r;for(e.setItemParent.call(this,null),this._parent=null,(u=t.parent).children,r=[],n=t;n;)n!==this&&(e.setItemParent.call(n,null),n._parent=null,r.push(n)),n=n.aboveSibling;for(e.setItemParent.call(this,u),this._parent=u,i=0,a=r.length;i<a;i++)l=r[i],e.setItemParent.call(l,u),l._parent=u},setItemVisible:function(t){},setItemClip:function(t){},setItemWidth:function(t){},setItemHeight:function(t){},setItemX:function(t){},setItemY:function(t){},setItemScale:function(t){},setItemRotation:function(t){},setItemOpacity:function(t){},setItemLayout:function(t){var e;null!=(e=this._impl.layout)&&e.turnOff.call(this),"flow"===t?(this._impl.layout=i,i.turnOn.call(this)):"column"===t?(this._impl.layout=l,l.turnOn.call(this,l.COLUMN)):"row"===t?(this._impl.layout=l,l.turnOn.call(this,l.ROW)):"grid"===t&&(this._impl.layout=l,l.turnOn.call(this,l.COLUMN|l.ROW))},setItemColumnSpacing:function(t){var e;return null!=(e=this._impl.layout)?e.update.call(this):void 0},setItemRowSpacing:function(t){var e;return null!=(e=this._impl.layout)?e.update.call(this):void 0},setItemColumns:function(t){var e;return null!=(e=this._impl.layout)?e.update.call(this):void 0},setItemRows:function(t){var e;return null!=(e=this._impl.layout)?e.update.call(this):void 0},setItemAlignmentHorizontal:function(t){var e;return null!=(e=this._impl.layout)?e.update.call(this):void 0},setItemAlignmentVertical:function(t){var e;return null!=(e=this._impl.layout)?e.update.call(this):void 0},attachItemSignal:function(t,e){if("pointer"===t)return a.attachItemSignal.call(this,e)},setItemPointerEnabled:function(t){return a.setItemPointerEnabled.call(this,t)},setItemPointerDraggable:function(t){return a.setItemPointerDraggable.call(this,t)},setItemPointerDragActive:function(t){return a.setItemPointerDragActive.call(this,t)},setItemKeysFocus:function(t){}}}}).call(this);
},{"../../../../util":"xr+4","./item/pointer":"JghC","./item/layout/flow":"9UEq","./item/layout/grid":"uxrr"}],"+A0V":[function(require,module,exports) {
(function(){"use strict";module.exports=function(e){var t;return{DATA:t={source:""},createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t)},setImageSource:function(e){return this._impl.source=e}}}}).call(this);
},{}],"yk96":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){var e;return t.items,{DATA:e={},createData:t.utils.createDataCloner("Item",e),create:function(e){return t.Types.Item.create.call(this,e)},setText:function(t){},setTextWrap:function(t){},updateTextContentSize:function(){},setTextColor:function(t){},setTextLinkColor:function(t){},setTextLineHeight:function(t){},setTextFontFamily:function(t){},setTextFontPixelSize:function(t){},setTextFontWordSpacing:function(t){},setTextFontLetterSpacing:function(t){},setTextAlignmentHorizontal:function(t){},setTextAlignmentVertical:function(t){}}}}).call(this);
},{}],"yDry":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){var e;return t.items,{DATA:e={},createData:t.utils.createDataCloner("Item",e),create:function(e){return t.Types.Item.create.call(this,e)},updateNativeSize:function(){}}}}).call(this);
},{}],"xuz/":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){return{loadFont:function(t,n,o,u){}}}}).call(this);
},{}],"mBbZ":[function(require,module,exports) {
(function(){"use strict";module.exports=function(e){return{initDeviceNamespace:function(){},logDevice:function(e){return console.log(e)},showDeviceKeyboard:function(){},hideDeviceKeyboard:function(){}}}}).call(this);
},{}],"ma+O":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){return{initScreenNamespace:function(){},setScreenStatusBarColor:function(t){}}}}).call(this);
},{}],"0Y+d":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){return{initNavigatorNamespace:function(){}}}}).call(this);
},{}],"Ceg+":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){var i,e,r,l,o,s;return t.items,l=Math.round,e=function(){},r=function(i){var e,r,o,s,n,c;return e=i._impl,o=t.pixelRatio,i.width<=0||i.height<=0?(e.isRectVisible=!1,null):(e.isRectVisible=!0,c=l(i.width*o),r=l(i.height*o),s=l(i.radius*o),n=l(Math.min(2*i.border.width*o,c,r)),"data:image/svg+xml;utf8,<svg width='"+c+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg'><clipPath id='clip'><rect rx='"+s+"' width='"+c+"' height='"+r+"' /></clipPath><rect clip-path='url(#clip)' fill='"+e.color+"' stroke='"+e.borderColor+"' stroke-width='"+n+"' rx='"+s+"' width='"+c+"' height='"+r+"' /></svg>")},o=function(){t.setImageSource.call(this,r(this),e)},s=function(){(!this._impl.isRectVisible||this.radius>0||this.border.width>0)&&o.call(this)},{DATA:i={color:"transparent",borderColor:"transparent",isRectVisible:!1},createData:t.utils.createDataCloner("Image",i),create:function(i){return t.Types.Image.create.call(this,i),this.onWidthChange.connect(s),this.onHeightChange.connect(s)},setRectangleColor:function(t){return this._impl.color=t,o.call(this)},setRectangleRadius:o,setRectangleBorderColor:function(t){return this._impl.borderColor=t,o.call(this)},setRectangleBorderWidth:o}}}).call(this);
},{}],"u1pG":[function(require,module,exports) {
(function(){"use strict";module.exports=function(n){var t;return{DATA:t={bindings:null,reversed:!1},createData:n.utils.createDataCloner(t),create:function(n){},setAnimationLoop:function(n){},setAnimationReversed:function(n){this._impl.reversed=n},startAnimation:function(){},stopAnimation:function(){},resumeAnimation:function(){},pauseAnimation:function(){}}}}).call(this);
},{}],"7GKH":[function(require,module,exports) {
(function(){"use strict";module.exports=function(t){var n,r;return t.Types,t.items,r={Linear:function(t,n,r,u){return r*(t/u)+n},InQuad:function(t,n,r,u){return r*(t/=u)*t+n},OutQuad:function(t,n,r,u){return-r*(t/=u)*(t-2)+n},InOutQuad:function(t,n,r,u){return(t/=u/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},InCubic:function(t,n,r,u){return r*(t/=u)*t*t+n},OutCubic:function(t,n,r,u){return r*((t=t/u-1)*t*t+1)+n},InOutCubic:function(t,n,r,u){return(t/=u/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},InQuart:function(t,n,r,u){return r*(t/=u)*t*t*t+n},OutQuart:function(t,n,r,u){return-r*((t=t/u-1)*t*t*t-1)+n},InOutQuart:function(t,n,r,u){return(t/=u/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},InQuint:function(t,n,r,u){return r*(t/=u)*t*t*t*t+n},OutQuint:function(t,n,r,u){return r*((t=t/u-1)*t*t*t*t+1)+n},InOutQuint:function(t,n,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},InSine:function(t,n,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+n},OutSine:function(t,n,r,u){return r*Math.sin(t/u*(Math.PI/2))+n},InOutSine:function(t,n,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+n},InExpo:function(t,n,r,u){return 0===t?n:r*Math.pow(2,10*(t/u-1))+n},OutExpo:function(t,n,r,u){return t===u?n+r:r*(1-Math.pow(2,-10*t/u))+n},InOutExpo:function(t,n,r,u){return 0===t?n:t===u?n+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},InCirc:function(t,n,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+n},OutCirc:function(t,n,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+n},InOutCirc:function(t,n,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},InElastic:function(t,n,r,u){var i,e,o;return o=1.70158,e=0,i=r,0===t?n:1==(t/=u)?n+r:(e||(e=.3*u),i<Math.abs(r)?(i=r,o=e/4):o=e/(2*Math.PI)*Math.asin(r/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*(2*Math.PI)/e)+n)},OutElastic:function(t,n,r,u){var i,e,o;return o=1.70158,e=0,i=r,0===t?n:1==(t/=u)?n+r:(e||(e=.3*u),i<Math.abs(r)?(i=r,o=e/4):o=e/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*u-o)*(2*Math.PI)/e)+r+n)},InOutElastic:function(t,n,r,u){var i,e,o;return o=1.70158,e=0,i=r,0===t?n:2==(t/=u/2)?n+r:(e||(e=u*(.3*1.5)),i<Math.abs(r)?(i=r,o=e/4):o=e/(2*Math.PI)*Math.asin(r/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*(2*Math.PI)/e)*-.5+n:i*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*(2*Math.PI)/e)*.5+r+n)},InBack:function(t,n,r,u,i){return null==i&&(i=1.70158),r*(t/=u)*t*((i+1)*t-i)+n},OutBack:function(t,n,r,u,i){return null==i&&(i=1.70158),r*((t=t/u-1)*t*((i+1)*t+i)+1)+n},InOutBack:function(t,n,r,u,i){return null==i&&(i=1.70158),(t/=u/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+n:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+n},InBounce:function(t,n,u,i){return u-r.OutBounce(i-t,0,u,i)+n},OutBounce:function(t,n,r,u){return(t/=u)<1/2.75?r*(7.5625*t*t)+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},InOutBounce:function(t,n,u,i){return t<i/2?.5*r.InBounce(2*t,0,u,i)+n:.5*r.OutBounce(2*t-i,0,u,i)+.5*u+n},Steps:function(t,n,r,u){return r*Math.floor(t/u*this.steps)/(this.steps-1)+n}},{DATA:n={progress:0,propertySetter:null,isIntegerProperty:!1,easing:null,steps:1,startDelay:0},createData:t.utils.createDataCloner("Animation",n),create:function(n){return n.easing=r.Linear,t.Types.Animation.create.call(this,n)},setPropertyAnimationTarget:function(t){},setPropertyAnimationProperty:function(n){this._impl.propertySetter=t.utils.SETTER_METHODS_NAMES[n],this._impl.isIntegerProperty=!!t.utils.INTEGER_PROPERTIES[n]},setPropertyAnimationDuration:function(t){},setPropertyAnimationStartDelay:function(t){return this._impl.startTime+=t-this._impl.startDelay,this._impl.startDelay=t},setPropertyAnimationLoopDelay:function(t){},setPropertyAnimationFrom:function(t){return this._impl.from=t},setPropertyAnimationTo:function(t){return this._impl.to=t},setPropertyAnimationUpdateProperty:function(t){},setPropertyAnimationEasingType:function(t){return this._impl.easing=r[t]||r.Linear},setPropertyAnimationEasingSteps:function(t){return this._impl.steps=t},getPropertyAnimationProgress:function(){return this._impl.progress}}}}).call(this);
},{}],"ABfx":[function(require,module,exports) {
(function(){"use strict";var t;require("../../../../../util"),require("../../../../../assert"),t=require("../../../../../event-loop"),module.exports=function(e){var i,n,r,a,o,s,m,u,p;return e.Types,n=e.Renderer,a=Date.now,Math.round,s=[],o=a(),u=function(){var e,i,r;for(o=a(),t.lock(),i=0,r=s.length;i<r;)(e=s[i])._running&&!e._paused?(m(e,n.PropertyAnimation.ON_PENDING),i++):(s.splice(i,1),e._impl.pending=!1,r--);s.length>0&&requestAnimationFrame(u),t.release()},m=function(t,i){var r,a,s,m,u,p,l,_;r=t._impl,(s=(o-r.startTime)/t._duration)<0?s=0:s>1&&(s=1),r.progress=s,u=1!==s||t._running&&t._loop,a=r.reversed?r.to:r.from,l=r.reversed?r.from:r.to,_=1===s?l:r.easing(t._duration*s,a,l-a,t._duration),p=t._target,m=t._property,u||(i|=n.PropertyAnimation.ON_STOP),_==_&&p&&m&&((t._updateProperty&i)>0||!r.propertySetter?(t._updatePending=!0,p[m]=_,t._updatePending=!1):e[r.propertySetter].call(p,_)),1===s&&(u?r.startTime+=t._loopDelay+t._duration:(r.startTime=0,t.running=!1))},r=function(t){var e;(e=t._impl).pending||(0===s.length&&requestAnimationFrame(u),s.push(t),e.pending=!0)},{DATA:i={type:"number",pending:!1,startTime:0,pauseTime:0,from:0,to:0},createData:e.utils.createDataCloner("PropertyAnimation",i),create:function(t){return e.Types.PropertyAnimation.create.call(this,t)},startAnimation:(p=e.startAnimation,function(){var t;p.call(this),"number"===this._impl.type&&((t=this._impl).from=this._from,t.to=this._to,r(this),t.startTime=a(),m(this,n.PropertyAnimation.ON_START),t.startTime+=this._startDelay)}),stopAnimation:function(t){return function(){var e;t.call(this),"number"===(e=this._impl).type&&0!==e.startTime&&(m(this,n.PropertyAnimation.ON_STOP),e.startTime=0)}}(e.stopAnimation),resumeAnimation:function(t){return function(){var e;t.call(this),"number"===this._impl.type&&(e=this._impl,r(this),e.startTime+=Date.now()-e.pauseTime,e.pauseTime=0)}}(e.resumeAnimation),pauseAnimation:function(t){return function(){var e;t.call(this),"number"===(e=this._impl).type&&(e.pauseTime=Date.now())}}(e.pauseAnimation)}}}).call(this);
},{"../../../../../util":"xr+4","../../../../../assert":"lQvG","../../../../../event-loop":"jt0G"}],"JLX2":[function(require,module,exports) {
const{SignalDispatcher:s}=require("../signal");class t extends Array{constructor(...t){super(...t),this.onPush=new s,this.onPop=new s}push(...s){const t=super.push(...s);return s.forEach((t,e)=>{this.onPush.emit(t,this.length-s.length+e)}),t}pop(){if(0===this.length)return super.pop();const s=super.pop();return this.onPop.emit(s,this.length),s}shift(){if(0===this.length)return super.shift();const s=super.shift();return this.onPop.emit(s,0),s}unshift(...s){const t=super.unshift(...s);return s.forEach((s,t)=>{this.onPush.emit(s,t)}),t}splice(s,t,...e){const r=this.slice(s,s+t),h=super.splice(s,t,...e);return r.forEach((t,e)=>{this.onPop.emit(t,s+e)}),e.forEach((t,e)=>{this.onPush.emit(t,s+e)}),h}reverse(){this.forEach((s,t)=>{this.onPop.emit(s,t)});const s=super.reverse();return this.forEach((s,t)=>{this.onPush.emit(s,t)}),s}sort(s){this.forEach((s,t)=>{this.onPop.emit(s,t)});const t=super.sort(s);return this.forEach((s,t)=>{this.onPush.emit(s,t)}),t}}module.exports=t;
},{"../signal":"WtLN"}],"fqjs":[function(require,module,exports) {
(function(){"use strict";var t,e,n,i,o,s,r,h,c;r=require("../util"),s=require("../log"),n=require("../assert"),e=require("../observable-array"),s=s.scope("Binding"),o=Array.isArray,h=Object.create(null),c=function(t){return"on"+(t="$"===t[0]?"$"+r.capitalize(t.slice(1)):r.capitalize(t))+"Change"},i=function(t){return h[t]||(h[t]=c(t))},t=function(){var t,n,s;function r(t,e,n,s){this.binding=t,this.prop=n,this.parent=s,this.handlerName=i(this.prop),this.isConnected=!1,o(e)?(this.itemId="",this.child=r.factory(this.binding,e[0],e[1],this),this.item=this.child.getValue()):(this.itemId=e,this.child=null,this.item=this.binding.getItemById(e)),this.connect(),Object.seal(this)}return t=[],r.factory=function(e,n,i,o){var s;return null==o&&(o=null),t.length>0&&(s=t.pop())?(r.call(s,e,n,i,o),s):new r(e,n,i,o)},r.prototype.getSignalChangeListener=(s=function(t,e){void 0!==e&&"string"==typeof t&&this.parent.prop!==t||this.parent.updateItem()},n=function(){this.binding.update()},function(){return this.parent?s:n}),r.prototype.update=function(){return this.getSignalChangeListener().call(this)},r.prototype.connect=function(){var t,n;(n=this.item)&&(n instanceof e?(this.isConnected=!0,t=this.getSignalChangeListener(),n.onPush.connect(t,this),n.onPop.connect(t,this)):(t=n[this.handlerName])&&(this.isConnected=!0,t.connect(this.getSignalChangeListener(),this)))},r.prototype.disconnect=function(){var t,n;(n=this.item)&&this.isConnected&&(t=this.getSignalChangeListener(),n instanceof e?(n.onPush.disconnect(t,this),n.onPop.disconnect(t,this)):n[this.handlerName].disconnect(t,this)),this.isConnected=!1},r.prototype.updateItem=function(){var t,e;t=this.item,e=this.child?this.child.getValue():this.binding.getItemById(this.itemId),t&&!this.isConnected&&(this.connect(),t=null),t!==e&&(this.disconnect(),this.item=e,this.connect(),this.parent||this.binding.update()),this.parent&&this.parent.updateItem()},r.prototype.getValue=function(){return this.item?this.item[this.prop]:null},r.prototype.destroy=function(){var e;this.disconnect(),null!=(e=this.child)&&e.destroy(),t.push(this)},r}(),module.exports=function(){function e(t,e){this.ctx=e,n.lengthOf(t,2),n.isFunction(t[0]),n.isArray(t[1]),this.func=t[0],this.args=null,this.connections||(this.connections=[]),this.updatePending=!1,this.updateLoop=0}return e.New=function(n,i,s){var r,h,c,u,a;for(null==s&&(s=new e(n,i)),Object.seal(s),r=s.connections,c=0,u=(a=n[1]).length;c<u;c++)h=a[c],o(h)&&r.push(t.factory(s,h[0],h[1]));return s},e.prototype.getItemById=function(t){throw new Error("Not implemented")},e.prototype.getValue=function(){throw new Error("Not implemented")},e.prototype.getDefaultValue=function(){switch(typeof this.getValue()){case"string":return"";case"number":return 0;case"boolean":return!1;default:return null}},e.prototype.setValue=function(t){throw new Error("Not implemented")},e.prototype.onError=function(t){},e.prototype.update=function(){var t;if(this.updatePending){if(this.updateLoop>50)return;if(50==++this.updateLoop)return void s.error(this.getLoopDetectedErrorMessage())}else this.updateLoop=0;(t=r.tryFunction(this.func,this.ctx,this.args))instanceof Error&&(this.onError(t),t=this.getDefaultValue()),this.updatePending=!0,this.setValue(t),this.updatePending=!1},e.prototype.getLoopDetectedErrorMessage=function(){return"Potential loop detected"},e.prototype.destroy=function(){for(var t;t=this.connections.pop();)t.destroy();this.args=null},e}()}).call(this);
},{"../util":"xr+4","../log":"fe8o","../assert":"lQvG","../observable-array":"JLX2"}],"g1G0":[function(require,module,exports) {
(function(){"use strict";var t,n,e,o={}.hasOwnProperty;e=require("../../../../log"),n=require("../../../../event-loop"),t=require("../../../../binding"),module.exports=function(r){var i;return i=function(i){var p;function s(t,n,e,o){this.obj=t,this.prop=n,s.__super__.constructor.call(this,e,o)}return function(t,n){for(var e in n)o.call(n,e)&&(t[e]=n[e]);function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(s,t),p=[],s.factory=function(t,n,e,o){var r;return(r=p.pop())&&s.call(r,t,n,e,o),s.New(t,n,e,o,r)},s.New=function(e,o,r,i,p){return null==p&&(p=new s(e,o,r,i)),n.setImmediate(function(){return t.New(r,i,p),p.update()}),p},s.prototype.getItemById=function(t){return"object"==typeof t?t:"this"===t?this.ctx:"windowItem"===t?r.windowItem:r.Renderer[t]||null},s.prototype.update=function(){n.lock(),s.__super__.update.call(this),n.release()},s.prototype.getValue=function(){return this.obj[this.prop]},s.prototype.setValue=function(t){null!=t&&t==t||(t=this.getDefaultValue()),this.obj[this.prop]=t},s.prototype.getLoopDetectedErrorMessage=function(){return"Potential loop detected. Property binding `"+this.prop+"` on `"+this.ctx+"` has been disabled."},s.prototype.onError=function(t){(void 0!==this.obj.running?!1!==this.obj.running:void 0===this.obj.parent||null!==this.obj.parent)&&e.error("Failed property `"+this.prop+"` binding in style `"+this.ctx+"`: `"+t+"`")},s.prototype.destroy=function(){this.obj._impl.bindings[this.prop]=null,s.__super__.destroy.call(this),p.push(this)},s}(),{setItemBinding:function(t,n,e){var o,r;null==(o=this._impl).bindings&&(o.bindings={}),null!=(r=o.bindings[t])&&r.destroy(),null!=n&&(o.bindings[t]=i.factory(this,t,n,e))}}}}).call(this);
},{"../../../../log":"fe8o","../../../../event-loop":"jt0G","../../../../binding":"fqjs"}],"VWzf":[function(require,module,exports) {
(function(){"use strict";var t,i,n,e;t=require("../../../../assert"),n=require("../../../../log"),e=require("../../../../util"),i=require("../../../../event-loop"),n=n.scope("Renderer","Anchors"),Array.isArray,module.exports=function(r){var h,o,s,l,a,c,g,u,f,p,d,b,C,_,m,S,v,y,z,H,W,x,I,w,k;return o=function(){return 0},10,W=(I=[[],[]])[x=0],H=!1,k=function(){var t,i;for(H=!1,i=W,W=I[++x%I.length];i.length;)(t=i.pop()).pending=!1,t.update()},w=function(){this.pending||(this.pending=!0,W.push(this),H||(H=!0,i.setImmediate(k)))},g={left:"x",top:"y",right:"x",bottom:"y",horizontalCenter:"x",verticalCenter:"y",fillWidthSize:"width",fillHeightSize:"height"},p={left:["onMarginChange"],top:["onMarginChange"],right:["onMarginChange","onWidthChange"],bottom:["onMarginChange","onHeightChange"],horizontalCenter:["onMarginChange","onWidthChange"],verticalCenter:["onMarginChange","onHeightChange"],fillWidthSize:["onMarginChange"],fillHeightSize:["onMarginChange"]},b={left:{parent:[],children:[],sibling:["onXChange"]},top:{parent:[],children:[],sibling:["onYChange"]},right:{parent:["onWidthChange"],sibling:["onXChange","onWidthChange"]},bottom:{parent:["onHeightChange"],sibling:["onYChange","onHeightChange"]},horizontalCenter:{parent:["onWidthChange"],sibling:["onXChange","onWidthChange"]},verticalCenter:{parent:["onHeightChange"],sibling:["onYChange","onHeightChange"]},fillWidthSize:{parent:["onWidthChange"],children:[],sibling:["onWidthChange"]},fillHeightSize:{parent:["onHeightChange"],children:[],sibling:["onHeightChange"]}},f={left:function(t){return 0},top:function(t){return 0},right:function(t){return-t._width},bottom:function(t){return-t._height},horizontalCenter:function(t){return-t._width/2},verticalCenter:function(t){return-t._height/2},fillWidthSize:function(t){return 0},fillHeightSize:function(t){return 0}},d={left:{parent:function(t){return 0},children:function(t){return 0},sibling:function(t){return t._x}},top:{parent:function(t){return 0},children:function(t){return 0},sibling:function(t){return t._y}},right:{parent:function(t){return t._width},sibling:function(t){return t._x+t._width}},bottom:{parent:function(t){return t._height},sibling:function(t){return t._y+t._height}},horizontalCenter:{parent:function(t){return t._width/2},sibling:function(t){return t._x+t._width/2}},verticalCenter:{parent:function(t){return t._height/2},sibling:function(t){return t._y+t._height/2}},fillWidthSize:{parent:function(t){return t._width},children:function(t){var i,n,e;for(e=0,n=0,i=t.firstChild;i;)i._visible&&(e=i._x+i._width)>n&&(n=e),i=i.nextSibling;return n},sibling:function(t){return t._width}},fillHeightSize:{parent:function(t){return t._height},children:function(t){var i,n,e;for(e=0,n=0,i=t.firstChild;i;)i._visible&&(e=i._y+i._height)>n&&(n=e),i=i.nextSibling;return n},sibling:function(t){return t._height}}},u={left:function(t){return t._left},top:function(t){return t._top},right:function(t){return-t._right},bottom:function(t){return-t._bottom},horizontalCenter:function(t){return t._left-t._right},verticalCenter:function(t){return t._top-t._bottom},fillWidthSize:function(t){return-t._left-t._right},fillHeightSize:function(t){return-t._top-t._bottom}},y=function(t){var i,n,e,r,h,o,s;if(t)for(i=0,e=(h=b[this.line].parent).length;i<e;i++)t[h[i]].disconnect(w,this);if(s=this.targetItem=this.item._parent)for(n=0,r=(o=b[this.line].parent).length;n<r;n++)s[o[n]].connect(w,this);w.call(this)},v=function(t){var i,n,e,r,h,o,s;if(t)for(i=0,e=(h=b[this.line].sibling).length;i<e;i++)t[h[i]].disconnect(w,this);if(s=this.targetItem=this.item._nextSibling)for(n=0,r=(o=b[this.line].sibling).length;n<r;n++)s[o[n]].connect(w,this);w.call(this)},z=function(t){var i,n,e,r,h,o,s;if(t)for(i=0,e=(h=b[this.line].sibling).length;i<e;i++)t[h[i]].disconnect(w,this);if(s=this.targetItem=this.item._previousSibling)for(n=0,r=(o=b[this.line].sibling).length;n<r;n++)s[o[n]].connect(w,this);w.call(this)},_=function(t){t.onVisibleChange.connect(w,this),"fillWidthSize"===this.source&&(t.onXChange.connect(w,this),t.onWidthChange.connect(w,this)),"fillHeightSize"===this.source&&(t.onYChange.connect(w,this),t.onHeightChange.connect(w,this)),w.call(this)},m=function(t){t.onVisibleChange.disconnect(w,this),"fillWidthSize"===this.source&&(t.onXChange.disconnect(w,this),t.onWidthChange.disconnect(w,this)),"fillHeightSize"===this.source&&(t.onYChange.disconnect(w,this),t.onHeightChange.disconnect(w,this)),w.call(this)},S=function(t,i){if(t&&_.call(this,t),i)return m.call(this,i)},h=function(){var t;function i(t,i,r){var h,s,l,a,c,u,C,m,H,W,x,I;for(this.item=t,this.source=i,a=this.item,x=this.source,I=r[0],null==(m=r[1])&&(m=x),this.target=I,this.line=m,this.pending=!1,this.updateLoops=0,"parent"===I||a._parent===I?this.type="parent":this.type="children"===I?"children":"sibling",l=0,u=(H=p[x]).length;l<u;l++)a[s=H[l]].connect(w,this);switch(this.prop=g[x],this.getSourceValue=f[x],this.getTargetValue=d[m][this.type],this.targetItem=null,Object.seal(this),"function"!=typeof this.getTargetValue&&(this.getTargetValue=o,n.error("Unknown anchor `"+this+"` given")),I){case"parent":this.targetItem=a._parent,a.onParentChange.connect(y,this),y.call(this,null);break;case"children":for(this.targetItem=a.children,a.onChildrenChange.connect(S,this),h=this.targetItem.firstChild;h;)_.call(this,h),h=h.nextSibling;break;case"nextSibling":this.targetItem=a._nextSibling,a.onNextSiblingChange.connect(v,this),v.call(this,null);break;case"previousSibling":this.targetItem=a._previousSibling,a.onPreviousSiblingChange.connect(z,this),z.call(this,null);break;default:if(!(e.isObject(I)&&s in I))return void n.error("Unknown anchor `"+this+"` given");if(this.targetItem=I)for(c=0,C=(W=b[m][this.type]).length;c<C;c++)s=W[c],this.targetItem[s].connect(w,this);w.call(this)}}return t=[],i.factory=function(n,e,r){var h;return t.length>0&&(h=t.pop())?(i.call(h,n,e,r),h):new i(n,e,r)},i.prototype.update=function(){var t,i,e,r;if(this.item&&!(this.updateLoops>=10)){switch(this.target){case"parent":r=this.item._parent;break;case"children":r=this.item.children;break;case"nextSibling":r=this.item._nextSibling;break;case"previousSibling":r=this.item._previousSibling;break;default:r=this.targetItem}r&&r===this.targetItem&&(r?((t=this.item._parent)&&(t=r!==this.item._children),t&&(t=this.item._parent!==r),t&&(t=this.item._parent!==r._parent),t&&n.error("Invalid anchor point; you can anchor only to a parent or a sibling; item '"+this.item.toString()+".anchors."+this.source+": "+this.target+"'"),e=this.getSourceValue(this.item)+this.getTargetValue(r)):e=0,(i=this.item._margin)&&(e+=u[this.source](i)),this.updateLoops++,this.item[this.prop]=e,10===this.updateLoops?(n.error("Potential anchors loop detected; recalculating on this anchor ("+this+") has been disabled"),this.updateLoops++):this.updateLoops<10&&this.updateLoops--)}},i.prototype.destroy=function(){var i,n,e,r,h,o,s,l;switch(this.target){case"parent":this.item.onParentChange.disconnect(y,this);break;case"children":for(this.item.onChildrenChange.disconnect(S,this),i=this.item.children.firstChild;i;)m.call(this,i,-1),i=i.nextSibling;break;case"nextSibling":this.item.onNextSiblingChange.disconnect(v,this);break;case"previousSibling":this.item.onPreviousSiblingChange.disconnect(z,this)}for(e=0,h=(s=p[this.source]).length;e<h;e++)n=s[e],this.item[n].disconnect(w,this);if(this.targetItem)for(r=0,o=(l=b[this.line][this.type]).length;r<o;r++)n=l[r],this.targetItem[n].disconnect(w,this);this.item=this.targetItem=null,t.push(this)},i.prototype.toString=function(){return this.item.toString()+".anchors."+this.source+": "+this.target+"."+this.line},i}(),a={centerIn:["horizontalCenter","verticalCenter"],fillWidth:["fillWidthSize","left"],fillHeight:["fillHeightSize","top"],fill:["fillWidthSize","fillHeightSize","left","top"]},c={__proto__:null},C=function(t){return!!a[t]},s=function(){var i;function n(i,n,e){var r,o,s,l,g,u;for(t.lengthOf(e,1),this.anchors=[],e=[e[0],""],this.pending=!1,null==(o=null!=(u=c[e[0]])?u[n]:void 0)&&(o=a[n]),s=0,l=o.length;s<l;s++)g=o[s],e[1]=g,r=h.factory(i,g,e),this.anchors.push(r)}return i=[],n.factory=function(t,e,r){var h;return(h=i.pop())?(n.call(h,t,e,r),h):new n(t,e,r)},n.prototype.update=function(){var t,i,n;for(t=0,i=(n=this.anchors).length;t<i;t++)n[t].update()},n.prototype.destroy=function(){var t,n,e;for(t=0,n=(e=this.anchors).length;t<n;t++)e[t].destroy();i.push(this)},n}(),l=function(t,i,n){return C(i)?s.factory(t,i,n):h.factory(t,i,n)},{setItemAnchor:function(i,n){var e,r;null!==n&&t.isArray(n),e=null!=(r=this._impl).anchors?r.anchors:r.anchors={},(n||e[i])&&(e[i]&&(e[i].destroy(),e[i]=null),n&&(e[i]=l(this,i,n)))}}}}).call(this);
},{"../../../../assert":"lQvG","../../../../log":"fe8o","../../../../util":"xr+4","../../../../event-loop":"jt0G"}],"m+TT":[function(require,module,exports) {
(function(){var t;t=require("../../../util"),module.exports=function(e){return{INTEGER_PROPERTIES:{__proto__:null,x:!0,y:!0,width:!0,height:!0},SETTER_METHODS_NAMES:{__proto__:null,x:"setItemX",y:"setItemY",width:"setItemWidth",height:"setItemHeight",opacity:"setItemOpacity",rotation:"setItemRotation",scale:"setItemScale",offsetX:"setImageOffsetX",offsetY:"setImageOffsetY",sourceWidth:"setImageSourceWidth",sourceHeight:"setImageSourceHeight"},createDataCloner:function(r,n){return function(){var o,i;return i=r,null!=n&&(r=e.Types[r].DATA,i=t.clone(r),t.merge(i,n),t.merge(n,i)),o=JSON.stringify(i),Function("return "+o)}},radToDeg:(n=180/Math.PI,function(t){return t*n}),degToRad:(r=Math.PI/180,function(t){return t*r})};var r,n}}).call(this);
},{"../../../util":"xr+4"}],"84Gw":[function(require,module,exports) {
(function(){"use strict";require("../../../util"),exports.Types={Item:require("./level0/item"),Image:require("./level0/image"),Text:require("./level0/text"),Native:require("./level0/native"),FontLoader:require("./level0/loader/font"),Device:require("./level0/device"),Screen:require("./level0/screen"),Navigator:require("./level0/navigator"),Rectangle:require("./level1/rectangle"),Animation:require("./level1/animation"),PropertyAnimation:require("./level1/animation/property"),NumberAnimation:require("./level1/animation/number")},exports.Extras={Binding:require("./level1/binding"),Anchors:require("./level1/anchors")},exports.items={},exports.utils=require("./utils")(exports),exports.pixelRatio=1,exports.setWindow=function(e){}}).call(this);
},{"../../../util":"xr+4","./level0/item":"YSW+","./level0/image":"+A0V","./level0/text":"yk96","./level0/native":"yDry","./level0/loader/font":"xuz/","./level0/device":"mBbZ","./level0/screen":"ma+O","./level0/navigator":"0Y+d","./level1/rectangle":"Ceg+","./level1/animation":"u1pG","./level1/animation/property":"7GKH","./level1/animation/number":"ABfx","./level1/binding":"g1G0","./level1/anchors":"VWzf","./utils":"m+TT"}],"2vQI":[function(require,module,exports) {
(function(){"use strict";var e,t,n;console.assert,n=require("../util"),e=require("../signal").SignalDispatcher,t=require("../event-loop"),module.exports=function(r){var i,o,a,l,s,c,u,p,m,f,y,d,g,T,w,v;for((s=require("./impl/base")).Renderer=r,s.windowItem=null,s.serverUrl="",s.resources=null,s.onWindowItemReady=new e,i={Class:!0,Transition:!0},l=0,p=(o=["Item","Image","Text","Native","FontLoader","Device","Screen","Navigator","Rectangle","Animation","PropertyAnimation","NumberAnimation"]).length;l<p;l++)y=o[l],T=s.Types[y]=s.Types[y](s),n.merge(s,T);for(d&&n.mergeDeep(s,d),c=0,m=o.length;c<m;c++)y=o[c],"function"==typeof s.Types[y]&&(T=s.Types[y]=s.Types[y](s),n.merge(s,T));for(u=0,f=o.length;u<f;u++)y=o[u],s.Types[y].createData&&(s.Types[y].createData=s.Types[y].createData());for(y in g=s.Extras)a=g[y],a=s.Extras[y]=a(s),n.merge(s,a);return s.createObject=function(e,t){var n,r,o;if(!i[t])for(r=e;t&&null==s.Types[t]&&(r=Object.getPrototypeOf(r));)t=r.constructor.name;return e._impl=(null!=(o=s.Types[t])&&"function"==typeof o.createData?o.createData():void 0)||{},null==(n=e._impl).bindings&&(n.bindings={}),Object.seal(e._impl)},s.initializeObject=function(e,t){var n,r,o;if(!i[t]){for(n=e;t&&null==s.Types[t];)t=(n=Object.getPrototypeOf(n)).constructor.name;return null!=(r=s.Types[t])&&null!=(o=r.create)?o.call(e,e._impl):void 0}},w=null,s.setWindow=(v=s.setWindow,function(e){n.defineProperty(s,"windowItem",n.ENUMERABLE,e),(w=r.Class.New()).target=e,w.running=!0,v.call(s,e),s.onWindowItemReady.emit(e),e.keys.focus=!0}),s.setWindowSize=function(e,n){if(s.windowItem)return t.lock(),w.changes={width:e,height:n},t.release()},s.addTypeImplementation=function(e,t){return s.Types[e]=t,n.merge(s,t)},s}}).call(this);
},{"../util":"xr+4","../signal":"WtLN","../event-loop":"jt0G","./impl/base":"84Gw"}],"jRFR":[function(require,module,exports) {
(function(){"use strict";var t,n,i,e,r=function(t,n){for(var i in n)l.call(n,i)&&(t[i]=n[i]);function e(){this.constructor=t}return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},l={}.hasOwnProperty;n=require("../../assert"),e=require("../../util"),t=require("../../signal").SignalsEmitter,i=(i=require("../../log")).scope("Renderer"),Array.isArray,module.exports=function(l,a){var o,s,u,c,h,p,f,g,d,_,y;return h=function(){},g=function(t){var n,i;return i=t.constructor.name,n=[],t.id&&n.push("id="+t.id),t._path&&n.push("file="+t._path),i+"("+n.join(", ")+")"},function(t){var n,i;for(n="",i=t;i&&!(n=i.constructor.__file__);)i=i._parent;return n||""},p=function(e){var o,s,c;function h(){t.call(this),this.id="",this._path="",this._impl=null,this._bindings=null,this instanceof l.Class||(this._classList=[],this._classQueue=[],this._extensions=[]),a.createObject(this,this.constructor.name)}return r(h,t),s=function(t){var n,e,r,l;for(r in t)if(l=t[r],r=(e=f.splitAttribute(r))[e.length-1],n=f.getObjectByPath(this,e),"function"==typeof l&&"function"==typeof n[r])n[r](f.bindSignalListener(this,l));else{if(Array.isArray(l)&&2===l.length&&"function"==typeof l[0]&&Array.isArray(l[1]))continue;r in n?n[r]=l:i.error("Object '"+n+"' has no property '"+r+"'")}for(r in t)l=t[r],r=(e=f.splitAttribute(r))[e.length-1],n=f.getObjectByPath(this,e),Array.isArray(l)&&2===l.length&&"function"==typeof l[0]&&Array.isArray(l[1])&&n.createBinding(r,l)},c=function(t){var n,i,e,r,a,s;if("string"==typeof t.id&&(this.id=t.id),Array.isArray(t.children))for(e=0,r=(a=t.children).length;e<r;e++)(n=a[e])instanceof l.Item?n.parent=this:this instanceof l.Extension?this._children=t.children:n instanceof l.Extension&&!(null!=(s=n._bindings)?s.target:void 0)&&(n.target=this);(i=o(t)).target=this,i.running=!0},o=function(t){var n;return(n=l.Class.New())._priority=-1,n.changes=t,n},h.createProperty=function(t,i){n.isString(i,"Property must be a string, but '"+i+"' given"),n.notLengthOf(i,0,"Property cannot be an empty string"),n.notOk(i in t,t+" already has a property '"+i+"'"),f.defineProperty({object:t,name:i})},h.createSignal=function(i,e){n.isString(e),n.notLengthOf(e,0),n.notOk(e in i,i+" already has a signal '"+e+"'"),t.createSignal(i,e)},h.setOpts=function(t,n){return null!=n.id&&(t.id=n.id),t instanceof l.Class||t instanceof u?s.call(t,n):c.call(t,n),t},h.initialize=function(t,n){a.initializeObject(t,t.constructor.name),n&&h.setOpts(t,n)},h.prototype.createBinding=function(t,e,r){var l;null==r&&(r=this),n.isString(t),null!=e&&n.isArray(e),t in this?(e||this._bindings&&this._bindings.hasOwnProperty(t))&&(l=null!=this._bindings?this._bindings:this._bindings={})[t]!==e&&(l[t]=e,a.setItemBinding.call(this,t,e,r)):i.warn("Binding on the '"+t+"' property can't be created, because this object ("+this.toString()+") doesn't have such property")},h.prototype.toString=function(){return g(this)},h}(),u=function(t){function n(t){n.__super__.constructor.call(this,t)}return r(n,p),n}(),c=function(i){function e(t){n.instanceOf(t,p),e.__super__.constructor.call(this),this._ref=t,this._impl={bindings:null},this._bindings=null,this._extensions=[]}return r(e,t),e.prototype.createBinding=p.prototype.createBinding,e.prototype.toString=function(){return g(this._ref)},e}(),s=function(t){function n(t){n.__super__.constructor.call(this,t)}return r(n,c),n}(),o=function(t){function n(t){n.__super__.constructor.call(this,t)}return r(n,c),n}(),a.DeepObject=s,f={Object:p,FixedObject:u,DeepObject:s,MutableDeepObject:c,CustomObject:o,getPropHandlerName:(y=Object.create(null),d=function(t){return y[t]||(y[t]="on"+e.capitalize(t)+"Change")}),getPropInternalName:_=function(){var t;return t=Object.create(null),function(n){return t[n]||(t[n]="_"+n)}}(),getInnerPropName:function(){var t;return(t=Object.create(null))[""]="",function(n){return null!=t[n]?t[n]:t[n]="_"+n}}(),splitAttribute:function(){var t;return t=Object.create(null),function(n){return null!=t[n]?t[n]:t[n]=n.split(".")}}(),getObjectByPath:function(t,n){var i,e;for(e=n.length-1,i=0;i<e;){if(!(t=t[n[i]]))return null;i++}return t},bindSignalListener:function(t,n){return function(i,e){return n.call(t,i,e)}},defineProperty:function(i){var r,l,a,o,s,u,c,p,f,g,y,b,m,v,O,j,P;return n.isPlainObject(i),p=i.name,f=i.namespace,j=i.valueConstructor,s=i.implementation,u=i.implementationValue,a=i.developmentSetter,m=i.object||i.constructor.prototype,r=i.getter,l=i.setter,O=d(p),i.hasOwnProperty("constructor")?t.createSignal(i.constructor,O,i.signalInitializer):t.createSignal(m,O,i.signalInitializer),c=_(p),y=Function("return this."+c),j&&(y=function(){return null!=this[c]?this[c]:this[c]=new j(this)}),j?b=a||h:null!=f?(g="on"+e.capitalize(f)+"Change",f+e.capitalize(p),P="return function(val){\n",null!=a&&(P+="debug.call(this, val);\n"),P+="var oldVal = this."+c+";\n",P+="if (oldVal === val) return;\n",null!=s&&(P+=null!=u?"impl.call(this._ref, implValue.call(this._ref, val));\n":"impl.call(this._ref, val);\n"),P+="this."+c+" = val;\n",P+="this.emit('"+O+"', oldVal);\n",P+="this._ref.emit('"+g+"', '"+p+"', oldVal);\n",P+="};",b=new Function("impl","implValue","debug",P)(s,u,a)):b=function(){var t;return t="return function(val){\n",null!=a&&(t+="debug.call(this, val);\n"),t+="var oldVal = this."+c+";\n",t+="if (oldVal === val) return;\n",null!=s&&(t+=null!=u?"impl.call(this, implValue.call(this, val));\n":"impl.call(this, val);\n"),t+="this."+c+" = val;\n",t+="this.emit('"+O+"', oldVal);\n",t+="};",new Function("impl","implValue","debug",t)}()(s,u,a),o=null!=r?r(y):y,v=null!=l?l(b):b,m[c]=i.defaultValue,e.defineProperty(m,p,null,o,v),m},setPropertyValue:function(t,i,e){var r,a,o;n.instanceOf(t,l.Item),n.isString(i),r=_(i),o=d(i),e!==(a=t[r])&&(t[r]=e,t.emit(o,a))}}}}).call(this);
},{"../../assert":"lQvG","../../util":"xr+4","../../signal":"WtLN","../../log":"fe8o"}],"aX08":[function(require,module,exports) {
(function(){"use strict";var t,n,i;i=require("../../assert"),n=["width","anchors.fill","anchors.fillWidth","fillWidth"],t=["height","anchors.fill","anchors.fillHeight","fillHeight"],module.exports=function(e){var r;return r=function(t,n){var r,l,s,h,u,f,o,a,c;for(i.instanceOf(t,e.Item),h=0,f=(c=t._extensions).length;h<f;h++)if((s=c[h])instanceof e.Class)for(r=s.changes._attributes,l=s.changes._bindings,u=0,o=n.length;u<o;u++)if(null!=r[a=n[u]]||null!=l[a])return!0;return!1},{isAutoWidth:function(t){return!r(t,n)},isAutoHeight:function(n){return!r(n,t)}}}}).call(this);
},{"../../assert":"lQvG"}],"jPDc":[function(require,module,exports) {
(function(){"use strict";var e,r,a,l,s,t,n,i,o,u,d,g;e=require("../../assert"),exports.toRGBAHex=(t={"":0,transparent:0,black:255,silver:3233857791,gray:2155905279,white:4294967295,maroon:2147483903,red:4278190335,purple:2147516671,fuchsia:4278255615,green:8388863,lime:16711935,olive:2155872511,yellow:4294902015,navy:33023,blue:65535,teal:8421631,aqua:16777215,orange:4289003775,aliceblue:4042850303,antiquewhite:4209760255,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,blanchedalmond:4293182719,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,limegreen:852308735,linen:4210091775,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,oldlace:4260751103,olivedrab:1804477439,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,whitesmoke:4126537215,yellowgreen:2597139199,rebeccapurple:1714657791},r=/^#[0-9a-fA-F]{3}$/,a=/^#[0-9a-fA-F]{6}$/,i=/^rgb\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/,n=/^rgba\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/,s=/^hsl\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*%\s*,\s*([0-9.]+)\s*%\s*\)$/,l=/^hsla\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*%\s*,\s*([0-9.]+)\s*%\s*,\s*([0-9.]+)\s*\)$/,d=function(e){return(e=parseFloat(e))<0?e=0:e>255&&(e=255),Math.round(e)},o=function(e){return d(Math.round(255*parseFloat(e)))},g=function(e,r,a){return a<0&&(a+=1),a>1&&(a-=1),6*a<1?e+(r-e)*a*6:2*a<1?r:3*a<2?e+(r-e)*(2/3-a)*6:e},u=function(e,r,a){var l,s,t,n,i,o,u,d;return i=o=0,t=parseFloat(e)%360/360,d=parseFloat(r)/100,n=parseFloat(a)/100,0===d?u=s=l=n:(u=g(i=2*n-(o=n<=.5?n*(d+1):n+d-n*d),o,t+1/3),s=g(i,o,t),l=g(i,o,t-1/3)),Math.round(255*u)<<16|Math.round(255*s)<<8|Math.round(255*l)},function(g,h){var p,m,b,c,k,y;if(null==h&&(h="transparent"),e.isString(g),k=b=m=p=0,void 0!==(y=t[g]))return y;if(r.test(g))k=parseInt(g[1],16),b=parseInt(g[2],16),m=parseInt(g[3],16),k|=k<<4,b|=b<<4,m|=m<<4,p=255;else if(a.test(g))k=parseInt(g.substr(1,2),16),b=parseInt(g.substr(3,2),16),m=parseInt(g.substr(5,2),16),p=255;else if(c=i.exec(g))k=d(c[1]),b=d(c[2]),m=d(c[3]),p=255;else if(c=n.exec(g))k=d(c[1]),b=d(c[2]),m=d(c[3]),p=o(c[4]);else if(c=s.exec(g))m=u(c[1],c[2],c[3]),p=255;else{if(!(c=l.exec(g)))return exports.toRGBAHex(h);m=u(c[1],c[2],c[3]),p=o(c[4])}return(k<<24|b<<16|m<<8|p)>>>0})}).call(this);
},{"../../assert":"lQvG"}],"5krt":[function(require,module,exports) {
(function(){"use strict";var t,r,e,n,o={}.hasOwnProperty;e=require("../../../../log"),n=require("../../../../util"),t=require("../../../../signal").SignalsEmitter,r=require("../../../../assert"),module.exports=function(i,u,c){return function(i){function s(){s.__super__.constructor.call(this),this._height=0,this._color="Dark",Object.preventExtensions(this)}return function(t,r){for(var e in r)o.call(r,e)&&(t[e]=r[e]);function n(){this.constructor=t}n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype}(s,t),c.defineProperty({constructor:s,name:"height"}),c.defineProperty({constructor:s,name:"color",implementation:u.setScreenStatusBarColor,implementationValue:function(t){return"Light"!==(t=n.capitalize(t.toLowerCase()))&&"Dark"!==t&&(e.warn("Unknown Screen.StatusBar.color `"+t+"` given"),t="Dark"),t},developmentSetter:function(t){return r.isString(t)}}),s}()}}).call(this);
},{"../../../../log":"fe8o","../../../../util":"xr+4","../../../../signal":"WtLN","../../../../assert":"lQvG"}],"NLAG":[function(require,module,exports) {
(function(){"use strict";var t,r={}.hasOwnProperty;t=require("../../../../signal").SignalsEmitter,module.exports=function(n,e,o){return function(n){function e(){e.__super__.constructor.call(this),this._height=0,Object.preventExtensions(this)}return function(t,n){for(var e in n)r.call(n,e)&&(t[e]=n[e]);function o(){this.constructor=t}o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype}(e,t),o.defineProperty({constructor:e,name:"height"}),e}()}}).call(this);
},{"../../../../signal":"WtLN"}],"bLcb":[function(require,module,exports) {
(function(){"use strict";var t,n,e,r={}.hasOwnProperty;e=require("../../../util"),t=require("../../../signal").SignalsEmitter,n=require("../../../assert"),module.exports=function(i,o,u){var s,a,l,c;return l=require("./screen/statusBar")(i,o,u),s=require("./screen/navigationBar")(i,o,u),a=function(i){function o(){o.__super__.constructor.call(this),this._impl={bindings:null},this._touch=!1,this._width=1024,this._height=800,this._orientation="Portrait",this._statusBar=new l,this._navigationBar=new s,Object.preventExtensions(this)}return function(t,n){for(var e in n)r.call(n,e)&&(t[e]=n[e]);function i(){this.constructor=t}i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype}(o,t),e.defineProperty(o.prototype,"touch",null,function(){return this._touch},null),e.defineProperty(o.prototype,"width",null,function(){return this._width},null),e.defineProperty(o.prototype,"height",null,function(){return this._height},null),u.defineProperty({constructor:o,name:"orientation",developmentSetter:function(t){return n.isString(t)}}),e.defineProperty(o.prototype,"statusBar",null,function(){return this._statusBar},null),e.defineProperty(o.prototype,"navigationBar",null,function(){return this._navigationBar},null),o}(),c=new a,o.initScreenNamespace.call(c,function(){o.setWindowSize(c.width,c.height)}),c}}).call(this);
},{"../../../util":"xr+4","../../../signal":"WtLN","../../../assert":"lQvG","./screen/statusBar":"5krt","./screen/navigationBar":"NLAG"}],"OiVh":[function(require,module,exports) {
(function(){"use strict";var e,t,n=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty,r=[].slice;t=require("../../../util"),e=require("../../../signal").SignalsEmitter,module.exports=function(o,i,l){var u,a,c,s,p,f,h;return u=function(o){function l(){l.__super__.constructor.call(this),this._platform="Unix",this._desktop=!0,this._phone=!1,this._pixelRatio=1,this._pointer=new c,this._keyboard=new a,Object.preventExtensions(this)}return n(l,e),t.defineProperty(l.prototype,"platform",null,function(){return this._platform},null),t.defineProperty(l.prototype,"desktop",null,function(){return this._desktop},null),t.defineProperty(l.prototype,"tablet",null,function(){return!this.desktop&&!this.phone},null),t.defineProperty(l.prototype,"phone",null,function(){return this._phone},null),t.defineProperty(l.prototype,"mobile",null,function(){return this.tablet||this.phone},null),t.defineProperty(l.prototype,"pixelRatio",null,function(){return this._pixelRatio},null),l.prototype.log=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],i.logDevice(e.join(" "))},t.defineProperty(l.prototype,"pointer",null,function(){return this._pointer},null),e.createSignal(l,"onPointerPress"),e.createSignal(l,"onPointerRelease"),e.createSignal(l,"onPointerMove"),e.createSignal(l,"onPointerWheel"),t.defineProperty(l.prototype,"keyboard",null,function(){return this._keyboard},null),e.createSignal(l,"onKeyPress"),e.createSignal(l,"onKeyHold"),e.createSignal(l,"onKeyRelease"),e.createSignal(l,"onKeyInput"),l}(),c=function(t){function o(){o.__super__.constructor.call(this),this._x=0,this._y=0,this._movementX=0,this._movementY=0,this._deltaX=0,this._deltaY=0,Object.preventExtensions(this)}return n(o,e),l.defineProperty({constructor:o,name:"x",defaultValue:0}),l.defineProperty({constructor:o,name:"y",defaultValue:0}),l.defineProperty({constructor:o,name:"movementX",defaultValue:0}),l.defineProperty({constructor:o,name:"movementY",defaultValue:0}),l.defineProperty({constructor:o,name:"deltaX",defaultValue:0}),l.defineProperty({constructor:o,name:"deltaY",defaultValue:0}),o}(),a=function(t){function o(){o.__super__.constructor.call(this),this._visible=!1,this._height=0,this._key="",this._text="",Object.preventExtensions(this)}return n(o,e),l.defineProperty({constructor:o,name:"visible",defaultValue:!1}),l.defineProperty({constructor:o,name:"height",defaultValue:0}),l.defineProperty({constructor:o,name:"key",defaultValue:""}),l.defineProperty({constructor:o,name:"text",defaultValue:""}),o.prototype.show=function(){return i.showDeviceKeyboard.call(s)},o.prototype.hide=function(){return i.hideDeviceKeyboard.call(s)},o}(),s=new u,f=h=0,p=function(e){e.movementX=e.x-f,e.movementY=e.y-h,f=e.x,h=e.y},s.onPointerPress.connect(p),s.onPointerRelease.connect(p),s.onPointerMove.connect(p),i.initDeviceNamespace.call(s),s}}).call(this);
},{"../../../util":"xr+4","../../../signal":"WtLN"}],"iSrG":[function(require,module,exports) {
(function(){"use strict";var t,e,n,r={}.hasOwnProperty;n=require("../../../util"),t=require("../../../signal").SignalsEmitter,e=require("../../../assert"),module.exports=function(o,i,u){var l,s;return l=new(function(o){function i(){i.__super__.constructor.call(this),this._impl={bindings:null},this._language="en",this._browser=!0,this._online=!0,Object.preventExtensions(this)}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(i,t),n.defineProperty(i.prototype,"language",null,function(){return this._language},null),n.defineProperty(i.prototype,"browser",null,function(){return this._browser},null),n.defineProperty(i.prototype,"native",null,function(){return!this._browser},null),u.defineProperty({constructor:i,name:"online",developmentSetter:function(t){return e.isBoolean(t)}}),i}()),null!=(s=i.initNavigatorNamespace)&&s.call(l),l}}).call(this);
},{"../../../util":"xr+4","../../../signal":"WtLN","../../../assert":"lQvG"}],"rImO":[function(require,module,exports) {
(function(){"use strict";var t,n={}.hasOwnProperty;require("../../util"),require("../../signal"),t=require("../../assert"),module.exports=function(e,r,o){return function(e){function r(){r.__super__.constructor.call(this),this._target=null,this._running=!1}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,o.Object),r.__name__="Extension",o.defineProperty({constructor:r,name:"target",defaultValue:null}),o.defineProperty({constructor:r,name:"running",defaultValue:!1,setter:function(n){return function(e){var r;t.isBoolean(e),r=this._running,n.call(this,e),r&&!e&&this._disable(),!r&&e&&this._enable()}}}),r.prototype._enable=function(){},r.prototype._disable=function(){},r}()}}).call(this);
},{"../../util":"xr+4","../../signal":"WtLN","../../assert":"lQvG"}],"6aTz":[function(require,module,exports) {
(function(){"use strict";var e,t,n,r,i,o,l,u,s,c,a,f,h,p,d,g,y,v,_,m,A,S,W,I,k,x,b,q,w,P,T,R,C,O,L,U,V,$={}.hasOwnProperty;V=require("../../../../util"),f=require("../../../../signal").SignalsEmitter,T=require("../../../../event-loop"),A=require("../../../../assert"),d=g=null,U=function(e,t,n,r,i,o){for(var l;n<t.length;){if((l=t[n]).isIterator)return l(e,t,n+3,r,i,o);if(!l(e,t[n+1],t[n+2]))return!1;n+=3}return r.call(i,e),!0},(_=function(e,t,n,r,i,o){var l,u,s,c;for(u=0,s=(c=e.children).length;u<s;u++){if((!((l=c[u])instanceof d)||"blank"!==l.name)&&U(l,t,n,r,i,o)&&o)return!0;if(l instanceof d&&_(l,t,n,r,i,o)&&o)return!0}return!1}).isIterator=!0,_.priority=0,_.toString=function(){return"anyDescendant"},(P=function(e,t,n,r,i,o){var l;if(l=e._parent){if(U(l,t,n,r,i,o))return!0;if("blank"===l.name)return P(l,t,n,r,i,o)}return!1}).isIterator=!0,P.priority=0,P.toString=function(){return"directParent"},(v=function(e,t,n,r,i,o){var l,u,s,c;for(u=0,s=(c=e.children).length;u<s;u++)if((l=c[u])instanceof d&&"blank"===l.name){if(v(l,t,n,r,i,o)&&o)return!0}else if(U(l,t,n,r,i,o)&&o)return!0;return!1}).isIterator=!0,v.priority=0,v.toString=function(){return"anyChild"},(m=function(e,t,n,r,i,o){var l;return!!(l=e._parent)&&(!!U(l,t,n,r,i,o)||m(l,t,n,r,i,o))}).isIterator=!0,m.priority=0,m.toString=function(){return"anyParent"},(W=function(e,t){return e instanceof d?e.name===t:"#text"===t&&e instanceof g||void 0}).isIterator=!1,W.priority=1,W.toString=function(){return"byName"},(S=function(e,t){return e instanceof t}).isIterator=!1,S.priority=0,S.toString=function(){return"byInstance"},(w=function(e,t){return e===t}).isIterator=!1,w.priority=0,w.toString=function(){return"byTag"},(I=function(e,t){return e instanceof d&&void 0!==e.props[t]}).isIterator=!1,I.priority=100,I.toString=function(){return"byProp"},(q=function(e,t,n){return e instanceof d&&e.props[t]==n}).isIterator=!1,q.priority=100,q.toString=function(){return"byPropValue"},(b=function(e,t,n){var r;return e instanceof d&&"string"==typeof(r=e.props[t])&&0===r.indexOf(n)}).isIterator=!1,b.priority=100,b.toString=function(){return"byPropStartsWithValue"},(x=function(e,t,n){var r;return e instanceof d&&"string"==typeof(r=e.props[t])&&r.indexOf(n,r.length-n.length)>-1}).isIterator=!1,x.priority=100,x.toString=function(){return"byPropEndsWithValue"},(k=function(e,t,n){var r;return e instanceof d&&"string"==typeof(r=e.props[t])&&r.indexOf(n)>-1}).isIterator=!1,k.priority=100,k.toString=function(){return"byPropContainsValue"},p=/^#?[a-zA-Z0-9|\-:_]+/,o=/^([ ]*)>([ ]*)|^([ ]+)/,t=/^\[([^\]]+?)\]/,r=/^\[([^=]+?)=([^\]]+?)\]/,e=/^\.([a-zA-Z0-9|\-_]+)/,a=/\^$/,l=/\$$/,i=/\*$/,h=/(?:'|")?([^'"]*)/,n={__proto__:null,true:!0,false:!1,null:null,undefined:void 0},C=0,s=1<<C++,c=1<<C++,u=1<<C++,O=[],L=[],R=function(f,g){var y,A,T,R,C,U,V,$,E,z,D,Z,j,F,N,B,G,H,J,K,M;if(null==g&&(g=0),H=!!(g&c),N=null!=(B=O[g])?B[f]:void 0)return N;for(C=H?m:_,T=H?P:v,y=H?"unshift":"push",J=H?"push":"unshift",F=[E=[]],K=f.trim();K.length;)if("*"===K[0])K=K.slice(1),E[y](S,d,null);else if("&"===K[0])K=K.slice(1),g&s||E[y](w,null,null);else if(U=p.exec(K))K=K.slice(U[0].length),j=U[0],E[y](W,j,null);else if(U=r.exec(K))K=K.slice(U[0].length),U[0],j=U[1],M=(M=U[2])in n?n[M]:h.exec(M)[1],($=a.test(j)?b:l.test(j)?x:i.test(j)?k:q)!==q&&(j=j.slice(0,-1)),E[y]($,j,M);else if(U=t.exec(K))K=K.slice(U[0].length),E[y](I,U[1],null);else if(U=e.exec(K))K=K.slice(U[0].length),E[y](k,"class",U[1]);else if(U=o.exec(K))K=K.slice(U[0].length),""===(R=U[0].trim())?E[y](C,null,null):">"===R&&E[y](T,null,null);else{if(","!==K[0])throw new Error("queryAll: unexpected selector '"+K+"' in '"+f+"'");E=[],F.push(E),K=(K=K.slice(1)).trim()}for(z=0,Z=F.length;z<Z;z++)E=F[z],(V=!H||g&s?E[0]:E[E.length-3])!==w&&(g&s&&!(null!=V?V.isIterator:void 0)?E[y](C,null,null):H&&!(null!=V?V.isIterator:void 0)?E[J](C,null,null):H||(null!=V?V.isIterator:void 0)||E[J](C,null,null),g&u&&E[J](w,null,null));if((A=O[g])||(A=O[g]={},L[g]=0),A[f]=F,(L[g]+=1)>2e3){for(D in G=0,A)if(delete A[D],(G+=1)>=100)break;L[g]-=G}return F},y=function(e){var t,n,r;function i(e,t){i.__super__.constructor.call(this),this._forceUpdate=!0,this.node=e,this.queries=t,this.uid=n+++"",this.nodes=[],this.nodesToAdd=[],this.nodesToRemove=[],this.nodesWillChange=!1,Object.seal(this)}return function(e,t){for(var n in t)$.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,f),t=function(){},n=0,r=[],i.create=function(e,t){var n;return r.length?((n=r.pop()).node=e,n.queries=t,n._forceUpdate=!0):n=new i(e,t),(null!=e._watchers?e._watchers:e._watchers=[]).push(n),n},f.createSignal(i,"onAdd"),f.createSignal(i,"onRemove"),i.prototype.test=function(e){var n,r,i,o;for(r=0,i=(o=this.queries).length;r<i;r++)if((n=o[r])[n.length-2]=this.node,U(e,n,0,t,null,!0))return!0;return!1},i.prototype.disconnect=function(){var e,t,n,i,o;for(A.ok(this.node),this,o=this.uid,e=this.node,t=this.nodes,n=this.nodesToAdd,i=this.nodesToRemove,V.remove(e._watchers,this);e=n.pop();)delete e._inWatchers[o];for(;e=i.pop();)this.emit("onRemove",e);for(;e=t.pop();)delete e._inWatchers[o],this.emit("onRemove",e);this.onAdd.disconnectAll(),this.onRemove.disconnectAll(),this.node=this.queries=null,r.push(this)},i}(),module.exports=function(e,t){var n,r,i,o,l,a,f,h,p,v,_,m,S,W,I,k;return d=t,g=e.Text,{getSelectorCommandsLength:module.exports.getSelectorCommandsLength,queryAll:i=function(e,t,n,r){var i,o,l,u,s;for(null==t&&(t=[]),null==n&&(n=t),null==r&&(r=0),A.isString(e),A.notLengthOf(e,0),"function"!=typeof t&&A.isArray(t),s=R(e,r),i=Array.isArray(t)?t.push:t,l=0,u=s.length;l<u;l++)(o=s[l])[0](this,o,3,i,n,!1);if(Array.isArray(t))return t},queryAllParents:function(e,t,n){var r,o,l;if(null==t&&(t=[]),null==n&&(n=t),"function"!=typeof t&&A.isArray(t),r=Array.isArray(t)?t.push:t,o=function(t){r.call(n,t),i.call(t,e,o,null,l)},i.call(this,e,o,null,l=c|s),Array.isArray(t))return t},query:(I=null,k=function(e){return I=e},r=function(e,t){var n,r,i,o;for(null==t&&(t=0),A.isString(e),A.notLengthOf(e,0),r=0,i=(o=R(e,t)).length;r<i;r++)if((n=o[r])[0](this,n,3,k,null,!0))return I;return null}),queryParents:function(e){return r.call(this,e,c|s)},watch:function(e){var t,r;return A.isString(e),A.notLengthOf(e,0),t=R(e,c|u),r=y.create(this,t),n(this),r},checkWatchersDeeply:(_=!1,v=[],W=[],S=[],C=0,a=1<<C++,o=1<<C++,l=1<<C++,h=function(e){e.nodesWillChange||(W.push(e),e.nodesWillChange=!0)},p=function(e,t){var n;for(n=e;n=n._parent;)if(n===t)return!0;return!1},f=function(e,t,n,r){var i,l,u,s,c,g,y,v,_,m,A,S,W,I,k,x,b;if(n|=e._checkWatchers,b=e._watchers)for(u=0,g=b.length;u<g;u++)for(I=b[u],t.push(I),!r&&I._forceUpdate&&(r=!0),k=I.node,A=I.nodes,C=m=A.length;C-- >0;)(i=A[C])===k||p(i,k)||(delete i._inWatchers[I.uid],A[C]=A[m-1],A.pop(),I.nodesToRemove.push(i),h(I),m--);if(r||n&a)for(l=e._inWatchers,s=0,y=t.length;s<y;s++)I=t[s],(!r||I._forceUpdate||n&a)&&(x=I.uid,l&&l[x]||!I.test(e)?l&&l[x]&&!I.test(e)&&(delete l[x],V.removeFromUnorderedArray(I.nodes,e),I.nodesToRemove.push(e),h(I)):(l||(l=e._inWatchers={}),l[x]=!0,I.nodesToAdd.push(e),h(I)));if(n&o&&e instanceof d)for(c=0,v=(S=e.children).length;c<v;c++)i=S[c],(r||n&a||i._checkWatchers>0)&&f(i,t,n,r);if(b)for(C=_=0,W=b.length;_<W;C=_+=1)I=t.pop();e._checkWatchers=0},m=function(){var e,t,n,r,i;for(_=!1;e=v.pop();)e._parent||f(e,S,0,!1);for(;i=W.pop();){for(n=i.nodesToAdd,r=i.nodesToRemove;t=r.pop();)i.emit("onRemove",t);for(;t=n.pop();)i.nodes.push(t),i.emit("onAdd",t);i.nodesWillChange=!1}},n=function(e,t){var n;for(null==t&&(t=e._parent),e._checkWatchers|=a,e instanceof d&&(e._checkWatchers|=o),n=e;t&&!((n=t)._checkWatchers&o);)n._checkWatchers|=o,t=n._parent;t||n._checkWatchers&l||(v.push(n),n._checkWatchers|=l),_||(_=!0,T.setImmediate(m))})}},module.exports.getSelectorCommandsLength=function(e,t,n){var r,i,o,l,u;for(null==t&&(t=0),null==n&&(n=Infinity),u=0,o=R(e,0),C=r=0,i=o.length;r<i;C=++r)if(l=o[C],!(C<t)){if(C>=n)break;u+=l.length}return u},module.exports.getSelectorPriority=function(e,t,n){var r,i,o,l,u,s,c;for(null==t&&(t=0),null==n&&(n=Infinity),c=0,u=R(e,0),C=r=0,o=u.length;r<o;C=++r)if(s=u[C],!(C<t)){if(C>=n)break;for(i=0,l=s.length;i<l;i+=3)c+=s[i].priority}return c}}).call(this);
},{"../../../../util":"xr+4","../../../../signal":"WtLN","../../../../event-loop":"jt0G","../../../../assert":"lQvG"}],"+F8w":[function(require,module,exports) {
(function(){"use strict";var t,n,i,e,r,s=function(t,n){for(var i in n)o.call(n,i)&&(t[i]=n[i]);function e(){this.constructor=t}return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},o={}.hasOwnProperty;i=require("../../../assert"),r=require("../../../util"),t=require("../../../signal").SignalsEmitter,e=require("../../../log"),n=require("../../../document/element/element/tag/query"),e=e.scope("Rendering","Class"),module.exports=function(o,c,h){var l,u,a,_,f,g,d,p,y,v,m,b,P,O,q,j,I,w,x,A,C,U,S,k,B,L,N;return a=function(){function t(){this._attributes=Object.create(null),this._bindings=Object.create(null)}return t.prototype.setAttribute=function(t,n){this._attributes[t]=n},t.prototype.setBinding=function(t,n){this._attributes[t]=n,this._bindings[t]=!0},t}(),_=function(t){var n,e,o;function c(){c.__super__.constructor.call(this),this._classUid=String(o++),this._priority=0,this._inheritsPriority=0,this._nestingPriority=0,this._changes=null,this._document=null,this._children=null,this._nesting=null}return s(c,t),c.__name__="Class",c.New=function(t){var n;return n=new c,h.Object.initialize(n,t),n},o=0,h.defineProperty({constructor:c,name:"target",developmentSetter:function(t){if(null!=t)return i.instanceOf(t,h.Object)},setter:function(t){return function(n){var i,e,s,o,c;(e=this._target)!==n&&((i=this._running)&&(this.running=!1),e&&(r.remove(e._extensions,this),this._running&&!(null!=(s=this._document)?s._query:void 0)&&S(this,e)),t.call(this,n),n&&(n._extensions.push(this),-1===this._priority||(null!=(o=this._bindings)?o.running:void 0)||(null!=(c=this._document)?c._query:void 0)||(this.running=!0)),i&&(this.running=!0))}}}),n={__proto__:null,id:!0,properties:!0,signals:!0,children:!0},r.defineProperty(c.prototype,"changes",null,function(){return this._changes||(this._changes=new a)},function(t){var e,r,s,o;for(s in null==t&&(t={}),i.isObject(t),(r=this._running&&!!this._target)&&N(v,this._target,this),this._changes=new a,e=this._changes,t)o=t[s],Array.isArray(o)&&2===o.length&&"function"==typeof o[0]&&Array.isArray(o[1])?e.setBinding(s,o):n[s]||e.setAttribute(s,o);r&&N(m,this._target,this)}),h.defineProperty({constructor:c,name:"priority",defaultValue:0,developmentSetter:function(t){return i.isInteger(t)},setter:function(t){return function(n){t.call(this,n),L(this)}}}),c.prototype._enable=function(){var t,n,e,r,s,o;if(i.ok(this._running),t=null!=(r=this._document)?r._query:void 0,this._target&&!t)N(C,this._target,this),(null!=(o=this._document)?o._query:void 0)||w(this,this._target);else if(t)for(n=0,e=(s=this._document._classesInUse).length;n<e;n++)s[n].running=!0},c.prototype._disable=function(){var t,n,e,r;if(i.notOk(this._running),this._target)(null!=(r=this._document)?r._query:void 0)||S(this,this._target),N(A,this._target,this);else if(this._document&&this._document._query)for(t=0,n=(e=this._document._classesInUse).length;t<n;t++)e[t].running=!1},r.defineProperty(c.prototype,"children",null,function(){return this._children||(this._children=new e(this))},function(t){var n,e,r,s,o;for(o=(e=this.children).length;o--;)e.pop(o);if(t)for(i.isArray(t),r=0,s=t.length;r<s;r++)n=t[r],e.append(n)}),r.defineProperty(c.prototype,"nesting",null,null,function(t){i.notOk(this._running),this._nesting=t}),e=function(){function t(t){this._ref=t,this.length=0}return t.prototype.append=function(t){return i.instanceOf(t,h.Object),i.isNot(t,this._ref),t instanceof c&&k(this._ref,t),this[this.length++]=t,t},t.prototype.pop=function(t){var n;return null==t&&(t=this.length-1),i.operator(t,">=",0),i.operator(t,"<",this.length),n=this[t],delete this[t],--this.length,n},t}(),c.prototype.clone=function(){var t,n,i,e,s,o;if(n=y.call(this),e=this._document)for(s in(i=n.document).query=e.query,o=e._signals)t=o[s],i._signals[s]=r.clone(t);return n},c}(o.Extension),w=function(t,n){var i,e,r,s;if(e=t._children)for(r=0,s=e.length;r<s;r++)(i=e[r])instanceof o.Item?null==i.parent&&(i.parent=n):(i instanceof _&&k(t,i),null==i.target&&(i.target=n))},S=function(t,n){var i,e,r,s;if(e=t._children)for(r=0,s=e.length;r<s;r++)(i=e[r])instanceof o.Item?i.parent===n&&(i.parent=null):i.target===n&&(i.target=null)},k=function(t,n){var i;n._inheritsPriority=t._inheritsPriority+t._priority,n._nestingPriority=t._nestingPriority+1+((null!=(i=n._document)?i._priority:void 0)||0),L(n)},L=function(t){var n,i,e,r,s,o,c,h,l,u,a,f,g,d;if(t._running&&I(t)&&(d=t._target,N(v,d,t),B(d),N(m,d,t)),r=t._children)for(o=0,l=r.length;o<l;o++)(e=r[o])instanceof _&&k(t,e);if(s=t._document){for(n=t._inheritsPriority,i=t._nestingPriority,c=0,u=(f=s._classesInUse).length;c<u;c++)(e=f[c])._inheritsPriority=n,e._nestingPriority=i,L(e);for(h=0,a=(g=s._classesPool).length;h<a;h++)(e=g[h])._inheritsPriority=n,e._nestingPriority=i}},I=function(t){var n,i,e;return!!(e=t._target)&&((i=(n=e._classList).indexOf(t))>0&&d(t,n[i-1])<0||i<n.length-1&&d(t,n[i+1])>0)},d=function(t,n){return n._priority+n._inheritsPriority-(t._priority+t._inheritsPriority)||n._nestingPriority-t._nestingPriority},B=function(t){return t._classList.sort(d)},p=function(t,n){return n.clone()},y=function(){var t,n,i,e,r,s,o,c,h,l,u,a,f;if((e=_.New()).id=this.id,e._classUid=this._classUid,e._priority=this._priority,e._inheritsPriority=this._inheritsPriority,e._nestingPriority=this._nestingPriority,e._changes=this._changes,e._nesting=this._nesting,this._bindings)for(l in u=this._bindings)f=u[l],e.createBinding(l,f);if(i=this._children)for(r=s=0,c=i.length;s<c;r=++s)t=i[r],n=p(0,t),e.children.append(n);if("function"==typeof this._nesting)for(o=0,h=(a=this._nesting()).length;o<h;o++)t=a[o],e.children.append(t);return e},U=h.splitAttribute,q=h.getObjectByPath,function(t,n,i){var e,r;r=U(n),(e=q(t,r))&&(e[r[r.length-1]]=i)},C=function(t,n){return i.notOk(r.has(t._classList,n)),t._classList.unshift(n),I(n)&&B(t),m(t,n)},A=function(t,n){return i.ok(r.has(t._classList,n)),v(t,n),r.remove(t._classList,n)},u=[["x","anchors.left","anchors.right","anchors.horizontalCenter","anchors.centerIn"],["y","anchors.top","anchors.bottom","anchors.verticalCenter","anchors.centerIn"],["width","anchors.fill","anchors.fillWidth","fillWidth"],["height","anchors.fill","anchors.fillHeight","fillHeight"]],l=Object.create(null),function(){var t,n,i,e,r,s,o,c,h,a;for(e=0,o=u.length;e<o;e++)for(r=0,c=(n=u[e]).length;r<c;r++)for(a=n[r],i=null!=l[a]?l[a]:l[a]=[],s=0,h=n.length;s<h;s++)(t=n[s])!==a&&i.push(t)}(),P=function(t,n){var i;return(i=t._changes)&&void 0!==i._attributes[n]?n:""},b=function(t,n){var i,e,r,s,o,c;if((s=t._changes)&&(r=s._attributes,e=l[n]))for(o=0,c=e.length;o<c;o++)if(void 0!==r[i=e[o]])return i;return""},O=function(t,n){var i,e,r,s,o,c;if(s=t._changes){if(void 0!==(r=s._attributes)[n])return n;if(e=l[n])for(o=0,c=e.length;o<c;o++)if(void 0!==r[i=e[o]])return i}return""},j=function(t,n){var i,e;return e=Object.getPrototypeOf(t),(i=h.getInnerPropName(n))in e?e[i]:e[n]},m=function(t,n){var r,s,o,c,l,u,a,f,g,d,p,y,v,m,P,I,w,x,A,C;if(i.instanceOf(t,h.Object),i.instanceOf(n,_),a=(u=t._classList).indexOf(n),f=u.length,-1!==a&&(l=n._changes))for(s in o=l._attributes,c=l._bindings,o){for(A=o[s],P=null,C=!0,r="",d=p=a-1;p>=0;d=p+=-1)if(O(u[d],s)){C=!1;break}if(C){for(d=y=a+1,I=f;y<I;d=y+=1)if(r=b(u[d],s)){if(P=U(r),m=q(t,P),v=P[P.length-1],!m)continue;g=j(m,v),!!u[d].changes._bindings[r]&&m.createBinding(v,null,t),m[v]=g;break}if(s===r&&P||(v=(P=U(s))[P.length-1],m=q(t,P)),!(m&&v in m)){e.error("Attribute '"+s+"' doesn't exist in '"+t+"'");continue}c[s]?m.createBinding(v,A,t):"function"==typeof A&&(null!=(w=m[v])?w.connect:void 0)?m[v].connect(A,t):((null!=(x=m._bindings)?x[v]:void 0)&&m.createBinding(v,null,t),m[v]=A)}}},v=function(t,n){var e,r,s,o,c,l,u,a,f,g,d,p,y,v,m,I,w,x,A,C,S;if(i.instanceOf(t,h.Object),i.instanceOf(n,_),u=(l=t._classList).indexOf(n),a=l.length,-1!==u&&(c=n._changes))for(r in s=c._attributes,o=c._bindings,s){for(S=s[r],C=!0,p=y=u-1;y>=0;p=y+=-1)if(O(l[p],r)){C=!1;break}if(C)for(d=P;d;){for(w=null,e="",g=void 0,f=!1,p=v=u+1,x=a;v<x;p=v+=1)if(e=d(l[p],r)){g=l[p].changes._attributes[e],f=!!l[p].changes._bindings[e];break}if(d===P?(e||(e=r),d=b):d=null,e){if(o[r]){if(w=U(r),I=q(t,w),m=w[w.length-1],!I)continue;I.createBinding(m,null,t)}(r===e&&w||(w=U(e),I=q(t,w),m=w[w.length-1],I))&&(f?I.createBinding(m,g,t):"function"==typeof S&&(null!=(A=I[m])?A.connect:void 0)?I[m].disconnect(S,t):(void 0===g&&(g=j(I,m)),I[m]=g))}}}},x=function(t){var n;(0,(n=t._classQueue)[0])(t=n[1],n[2]),n.shift(),n.shift(),n.shift(),n.length>0&&x(t)},N=function(t,n,i){var e;(e=n._classQueue).push(t,n,i),3===e.length&&x(n)},g=function(t){function n(t){n.__super__.constructor.call(this),this._element=t,Object.seal(this)}return s(n,t),h.defineProperty({constructor:n,name:"element",defaultValue:null}),n}(h.Object),_.ElementTarget=g,f=function(){return function(t){this._ref=t._ref,this._parent=t,this._multiplicity=0,Object.preventExtensions(this)}}(),function(e){var o,c,l,u,a,g,d;function p(t){this._query="",this._classesInUse=[],this._classesPool=[],this._nodeWatcher=null,this._priority=0,p.__super__.constructor.call(this,t),t.onTargetChange.connect(d,this),d.call(this,t._target)}return s(p,e),p.__name__="ClassDocument",h.defineProperty({constructor:_,name:"document",valueConstructor:p}),d=function(t){var n;t&&t.onElementChange.disconnect(this.reloadQuery,this),(n=this._ref._target)&&n.onElementChange.connect(this.reloadQuery,this),t!==n&&this.reloadQuery()},t.createSignal(p,"onNodeAdd"),t.createSignal(p,"onNodeRemove"),h.defineProperty({constructor:p,name:"query",defaultValue:"",namespace:"document",parentConstructor:p,developmentSetter:function(t){return i.isString(t)},setter:function(t){return function(e){var r,s;i.notOk(this._parent),this._query!==e&&(this._query||S(this,this._target),t.call(this,e),this.reloadQuery(),this._ref._priority<1&&(r=n.getSelectorPriority(e,0,1),s=this._priority,this._priority=r,this._ref._nestingPriority+=r-s,L(this._ref)),e||w(this,this._target))}}}),l=function(t,n){var i,e,r,s,o;for(e=0,r=(s=t._extensions).length;e<r;e++)if((i=s[e])instanceof _&&(null!=(o=i._document)?o._parent:void 0)===n)return i},o=function(t){var n,i,e,r,s,o;for(o=this._ref._classUid,i=0,e=(r=t._extensions).length;i<e;i++)if((n=r[i])instanceof _&&n!==this._ref&&n._classUid===o&&n._document instanceof f)return void n._document._multiplicity++;(n=this._classesPool.pop())||((n=y.call(this._ref))._document=new f(this)),this._classesInUse.push(n),n.target=t,(null!=(s=n._bindings)?s.running:void 0)||(n.running=!0)},c=function(t){var n;(n=l(t,this))&&(n._document._multiplicity>0?n._document._multiplicity--:(n.target=null,r.remove(this._classesInUse,n),this._classesPool.push(n)))},g=function(t,n){t&&c.call(this,t),n&&o.call(this,n)},u=function(t){var n;t.onStyleChange.connect(g,this),(n=t._style)&&o.call(this,n),this.emit("onNodeAdd",t)},a=function(t){var n;t.onStyleChange.disconnect(g,this),(n=t._style)&&c.call(this,n),this.emit("onNodeRemove",t)},p.prototype.reloadQuery=function(){var t,n,i,e,r,s;for(null!=(e=this._nodeWatcher)&&e.disconnect(),this._nodeWatcher=null;t=this._classesInUse.pop();)t.target=null,this._classesPool.push(t);(i=this._query)&&(r=this._ref.target)&&(n=r.element)&&n.watch&&((s=this._nodeWatcher=n.watch(i)).onAdd.connect(u,this),s.onRemove.connect(a,this))},p}(h.DeepObject),_}}).call(this);
},{"../../../assert":"lQvG","../../../util":"xr+4","../../../signal":"WtLN","../../../log":"fe8o","../../../document/element/element/tag/query":"6aTz"}],"Utkc":[function(require,module,exports) {
(function(){"use strict";var t,e,n={}.hasOwnProperty;require("../../../util"),e=require("../../../assert"),t=require("../../../signal").SignalsEmitter,module.exports=function(i,o,r){return function(s){function u(){u.__super__.constructor.call(this),this._loop=!1,this._paused=!1,this._reversed=!1}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(u,i.Extension),u.__name__="Animation",t.createSignal(u,"onStart"),t.createSignal(u,"onStop"),r.defineProperty({constructor:u,name:"paused",developmentSetter:function(t){return e.isBoolean(t)},setter:function(t){return function(e){this._paused!==e&&(t.call(this,e),e?o.pauseAnimation.call(this):o.resumeAnimation.call(this))}}}),r.defineProperty({constructor:u,name:"reversed",implementation:o.setAnimationReversed,developmentSetter:function(t){return e.isBoolean(t)}}),r.defineProperty({constructor:u,name:"loop",implementation:o.setAnimationLoop,developmentSetter:function(t){return e.isBoolean(t)}}),u.prototype.start=function(){return this.running=!0,this},u.prototype.stop=function(){return this.running=!1,this},u.prototype.pause=function(){return this.running&&(this.paused=!0),this},u.prototype.resume=function(){return this.paused=!1,this},u.prototype._enable=function(){if(o.startAnimation.call(this),this.emit("onStart"),this._paused)return o.pauseAnimation.call(this)},u.prototype._disable=function(){return this._paused&&(this.paused=!1),o.stopAnimation.call(this),this.emit("onStop")},u}()}}).call(this);
},{"../../../util":"xr+4","../../../assert":"lQvG","../../../signal":"WtLN"}],"C8pE":[function(require,module,exports) {
(function(){"use strict";var t,e,n={}.hasOwnProperty;t=require("../../../../../../assert"),e=(e=require("../../../../../../log")).scope("Renderer","PropertyAnimation","Easing"),module.exports=function(r,u,i){return function(r){var o,a,c,s,p;function l(t){this._type="Linear",this._steps=1,l.__super__.constructor.call(this,t)}for(function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function u(){this.constructor=t}u.prototype=e.prototype,t.prototype=new u,t.__super__=e.prototype}(l,i.DeepObject),o=["Linear","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","InOutQuart","InQuint","OutQuint","InOutQuint","InSine","OutSine","InOutSine","InExpo","OutExpo","InOutExpo","InCirc","OutCirc","InOutCirc","InElastic","OutElastic","InOutElastic","InBack","OutBack","InOutBack","InBounce","OutBounce","InOutBounce","Steps"],a=Object.create(null),s=0,p=o.length;s<p;s++)a[c=o[s]]=c,a[c.toLowerCase()]=c;return i.defineProperty({constructor:l,name:"type",defaultValue:"Linear",namespace:"easing",implementation:u.setPropertyAnimationEasingType,developmentSetter:function(e){if(e)return t.isString(e)},setter:function(t){return function(n){var r;n||(n="Linear"),(r=a[n])||(r=a[n.toLowerCase()]),r||(e.warn("Easing type '"+n+"' not recognized"),r="Linear"),t.call(this,r)}}}),i.defineProperty({constructor:l,name:"steps",defaultValue:1,namespace:"easing",implementation:u.setPropertyAnimationEasingSteps,developmentSetter:function(e){if(e)return t.isInteger(e),t.operator(e,">",0)}}),l}()}}).call(this);
},{"../../../../../../assert":"lQvG","../../../../../../log":"fe8o"}],"2FpY":[function(require,module,exports) {
(function(){"use strict";var t,e,r={}.hasOwnProperty;e=require("../../../../../util"),t=require("../../../../../assert"),require("../../../../../log").scope("Renderer","PropertyAnimation"),module.exports=function(n,o,i){return function(a){var s,u,p,l,y;function c(){c.__super__.constructor.call(this),this._property="",this._autoFrom=!0,this._duration=250,this._startDelay=0,this._loopDelay=0,this._updateProperty=c.ON_START|c.ON_STOP,this._easing=null,this._updatePending=!1}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(c,n.Animation),c.__name__="PropertyAnimation",l=0,c.NEVER=0,c.ON_START=1<<l++,c.ON_STOP=1<<l++,c.ON_PENDING=1<<l++,c.ALWAYS=7,c.ON_END=c.ON_STOP,u=e.lookupGetter(c.prototype,"running"),p=e.lookupSetter(c.prototype,"running"),e.defineProperty(c.prototype,"running",null,u,(y=p,function(t){t&&this._autoFrom&&this._target&&(this.from=this._target[this._property],this._autoFrom=!0),y.call(this,t)})),i.defineProperty({constructor:c,name:"target",defaultValue:null,implementation:o.setPropertyAnimationTarget,setter:function(t){return function(r){var n;(n=this._target)&&(this._running&&this._disable(),e.remove(n._extensions,this)),r&&r._extensions.push(this),t.call(this,r),r&&this._running&&this._enable()}}}),i.defineProperty({constructor:c,name:"property",defaultValue:"",implementation:o.setPropertyAnimationProperty,developmentSetter:function(e){return t.isString(e)}}),i.defineProperty({constructor:c,name:"duration",defaultValue:250,implementation:o.setPropertyAnimationDuration,developmentSetter:function(e){return t.isFloat(e)},setter:function(t){return function(e){e<0?t.call(this,0):t.call(this,e)}}}),i.defineProperty({constructor:c,name:"startDelay",defaultValue:0,implementation:o.setPropertyAnimationStartDelay,developmentSetter:function(e){return t.isFloat(e)}}),i.defineProperty({constructor:c,name:"loopDelay",defaultValue:0,implementation:o.setPropertyAnimationLoopDelay,developmentSetter:function(e){return t.isFloat(e)}}),i.defineProperty({constructor:c,name:"delay",defaultValue:0,developmentSetter:function(e){return t.isFloat(e)},getter:function(t){return function(t){if(this._startDelay===this._loopDelay)return this._startDelay;throw new Error("startDelay and loopDelay are different")}},setter:function(t){return function(e){this.startDelay=e,this.loopDelay=e,t.call(this,e)}}}),i.defineProperty({constructor:c,name:"updateProperty",defaultValue:c.ON_START|c.ON_STOP,implementation:o.setPropertyAnimationUpdateProperty,developmentSetter:function(e){var r;return r="PropertyAnimation::updateProperty needs to be a bitmask of PropertyAnimation.ON_START, PropertyAnimation.ON_STOP, PropertyAnimation.ON_PENDING or PropertyAnimation.NEVER, PropertyAnimation.ALWAYS",t.isInteger(e,r),t.operator(e,">=",c.NEVER,r),t.operator(e,"<=",c.ALWAYS,r)}}),i.defineProperty({constructor:c,name:"from",implementation:o.setPropertyAnimationFrom,setter:function(t){return function(e){this._autoFrom=!1,t.call(this,e)}}}),i.defineProperty({constructor:c,name:"to",implementation:o.setPropertyAnimationTo}),e.defineProperty(c.prototype,"progress",null,function(){return o.getPropertyAnimationProgress.call(this)},null),e.defineProperty(c.prototype,"updatePending",null,function(){return this._updatePending},null),s=require("./property/easing")(n,o,i),e.defineProperty(c.prototype,"easing",null,function(){return this._easing||(this._easing=new s(this))},function(t){return"string"==typeof t?this.easing.type=t:e.isObject(t)?e.merge(this.easing,t):t?void 0:this.easing.type="Linear"}),c}()}}).call(this);
},{"../../../../../util":"xr+4","../../../../../assert":"lQvG","../../../../../log":"fe8o","./property/easing":"C8pE"}],"xqCq":[function(require,module,exports) {
(function(){"use strict";var t={}.hasOwnProperty;require("../../../../../../../util"),module.exports=function(r,n,o){return function(n){function i(){i.__super__.constructor.call(this),this._from=0,this._to=0}return function(r,n){for(var o in n)t.call(n,o)&&(r[o]=n[o]);function i(){this.constructor=r}i.prototype=n.prototype,r.prototype=new i,r.__super__=n.prototype}(i,r.PropertyAnimation),i.__name__="NumberAnimation",i.New=function(t){var r;return r=new i,o.Object.initialize(r,t),r},i}()}}).call(this);
},{"../../../../../../../util":"xr+4"}],"6ZTd":[function(require,module,exports) {
(function(){"use strict";var n,t={}.hasOwnProperty;require("../../../../../util"),n=require("../../../../../assert"),require("../../../../../log").scope("Renderer","SequentialAnimation"),module.exports=function(i,e,r){return function(e){var s,h,o,u;function c(){c.__super__.constructor.call(this),this._children=[],this._runningChildIndex=-1,this.onStart.connect(s),this.onStop.connect(h)}return function(n,i){for(var e in i)t.call(i,e)&&(n[e]=i[e]);function r(){this.constructor=n}r.prototype=i.prototype,n.prototype=new r,n.__super__=i.prototype}(c,i.Animation),c.__name__="SequentialAnimation",c.New=function(n){var t;return t=new c,r.Object.initialize(t,n),t},r.defineProperty({constructor:c,name:"target",setter:function(n){return function(t){var i,e,r;for(i=0,e=(r=this._children).length;i<e;i++)r[i].target=t;n.call(this,t)}}}),u=function(){return this._runningChildIndex>=this._children.length||this._runningChildIndex<0},o=function(){var n;this._running&&(this._runningChildIndex>=0&&this._children[this._runningChildIndex].onStop.disconnect(o,this),this._runningChildIndex+=this._reversed?-1:1,this._loop&&u.call(this)&&(this._runningChildIndex=this._reversed?this._children.length-1:0),u.call(this)?this.running=!1:((n=this._children[this._runningChildIndex]).onStop.connect(o,this),n.running=!0,n.paused=this._paused))},s=function(){this._children.length?o.call(this):this.running=!1},h=function(){var n;null!=(n=this._children[this._runningChildIndex])&&(n.running=!1),this._runningChildIndex=-1},r.defineProperty({constructor:c,name:"paused",setter:function(n){return function(t){var i;n.call(this,t),null!=(i=this._children[this._runningChildIndex])&&(i.paused=t)}}}),r.defineProperty({constructor:c,name:"reversed",developmentSetter:function(t){return n.isBoolean(t)},setter:function(n){return function(t){n.call(this,t)}}}),c}()}}).call(this);
},{"../../../../../util":"xr+4","../../../../../assert":"lQvG","../../../../../log":"fe8o"}],"Jgr6":[function(require,module,exports) {
(function(){"use strict";var n,t={}.hasOwnProperty;require("../../../../../util"),n=require("../../../../../assert"),require("../../../../../log").scope("Renderer","ParallelAnimation"),module.exports=function(r,e,i){return function(e){var o,c,s,l;function h(){h.__super__.constructor.call(this),this._children=[],this._runningChildren=0,this.onStart.connect(s),this.onStop.connect(l)}return function(n,r){for(var e in r)t.call(r,e)&&(n[e]=r[e]);function i(){this.constructor=n}i.prototype=r.prototype,n.prototype=new i,n.__super__=r.prototype}(h,r.Animation),h.__name__="ParallelAnimation",h.New=function(n){var t;return t=new h,i.Object.initialize(t,n),t},i.defineProperty({constructor:h,name:"target",setter:function(n){return function(t){var r,e,i;for(r=0,e=(i=this._children).length;r<e;r++)i[r].target=t;n.call(this,t)}}}),c=function(){this.loop?(l.call(this),s.call(this)):this.running=!1},o=function(){this._runningChildren-=1,0===this._runningChildren&&c.call(this)},s=function(){var n,t,r,e;if(this._children.length)for(this._runningChildren=this._children.length,t=0,r=(e=this._children).length;t<r;t++)(n=e[t]).onStop.connect(o,this),n.running=!0;else this.running=!1},l=function(){var n,t,r,e;for(t=0,r=(e=this._children).length;t<r;t++)(n=e[t]).onStop.disconnect(o,this),n.running=!1},i.defineProperty({constructor:h,name:"paused",setter:function(n){return function(t){var r,e,i;for(n.call(this,t),r=0,e=(i=this._children).length;r<e;r++)i[r].paused=t}}}),i.defineProperty({constructor:h,name:"reversed",developmentSetter:function(t){return n.isBoolean(t)},setter:function(n){return function(t){var r,e,i;for(n.call(this,t),r=0,e=(i=this._children).length;r<e;r++)i[r].reversed=t}}}),h}()}}).call(this);
},{"../../../../../util":"xr+4","../../../../../assert":"lQvG","../../../../../log":"fe8o"}],"Ro6R":[function(require,module,exports) {
(function(){"use strict";var t,e,n,r={}.hasOwnProperty;n=require("../../../util"),t=require("../../../assert"),require("../../../signal"),e=(e=require("../../../log")).scope("Renderer","Transition"),module.exports=function(i,o,s){return function(o){var a,u;function p(){p.__super__.constructor.call(this),this._running=!0,this._ready=!1,this._animation=null,this._property="",this._animationClass=i.Class.New({priority:-2,changes:{updateProperty:i.PropertyAnimation.NEVER}})}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(p,i.Extension),p.__name__="Transition",p.New=function(t){var e;return e=new p,s.Object.initialize(e,t),e},a=function(t){var e,r,i;e=this.animation,i=this._target[this.property],(r=e&&this.running&&this._ready&&!e.updatePending)&&(r=n.isFloat(t)&&n.isFloat(i)),r&&(e.stop(),e.from=t,e.to=i,e.start())},u=function(){return this._ready=!0},s.defineProperty({constructor:p,name:"target",defaultValue:null,setter:function(t){return function(r){var i,o,p,l,c,h;(l=this.target)!==r&&(this,i=this.animation,c=this.property,i&&(i.stop(),i.target=r),t.call(this,r),l&&n.remove(l._extensions,this),this._ready=!1,r instanceof s.Object?p=r:r instanceof s.MutableDeepObject?p=r._ref:setImmediate(u.bind(this)),p&&(p._extensions.push(this),this._ready=!0),c&&(o=s.getPropHandlerName(c),l&&null!=(h=l[o])&&h.disconnect(a,this),r&&(o in r?r[o].connect(a,this):e.error("'"+c+"' property signal not found"))))}}}),s.defineProperty({constructor:p,name:"animation",defaultValue:null,developmentSetter:function(e){if(null!=e)return t.instanceOf(e,i.PropertyAnimation)},setter:function(t){return function(e){var n;(n=this.animation)!==e&&(t.call(this,e),n&&(this._animationClass.disable(),n.target=null,n.stop()),e&&(this._animationClass.target=e,this._animationClass.running=!0,e.target=this.target,e.property=this.property))}}}),s.defineProperty({constructor:p,name:"property",defaultValue:"",setter:function(t){return function(n){var r,i,o,u,p,l,c,h,f;if((h=this.property)!==n){if(this,r=this.animation,(f=this.target)&&-1!==n.indexOf(".")){for(c=(o=n.split(".")).length,u=p=0,l=o.length;p<l;u=++p)if(i=o[u],u<c-1&&!(f=f[i])){e.error("No object found for the '"+n+"' property");break}n=o[c-1],this.target=f}r&&(r.stop(),r.property=n),t.call(this,n),f&&(h&&f[s.getPropHandlerName(h)].disconnect(a,this),n&&f[s.getPropHandlerName(n)].connect(a,this))}}}}),p}()}}).call(this);
},{"../../../util":"xr+4","../../../assert":"lQvG","../../../signal":"WtLN","../../../log":"fe8o"}],"dDWa":[function(require,module,exports) {
(function(){"use strict";module.exports=function(){function t(){this.a=this.d=1,this.b=this.c=this.e=this.f=0}return t.prototype.transform=function(t,s,i,r,h,n){var o,a,e,u,c,f;return o=this.a,a=this.b,e=this.c,u=this.d,c=this.e,f=this.f,this.a=o*t+e*s,this.b=a*t+u*s,this.c=o*i+e*r,this.d=a*i+u*r,this.e=o*h+e*n+c,this.f=a*h+u*n+f,this},t.prototype.rotate=function(t){var s,i;return s=Math.cos(t),i=Math.sin(t),this.transform(s,i,-i,s,0,0)},t.prototype.scale=function(t){return this.transform(t,0,0,t,0,0)},t.prototype.translate=function(t,s){return this.transform(1,0,0,1,t,s)},t.prototype.multiply=function(t){return this.transform(t.a,t.b,t.c,t.d,t.e,t.f)},t.prototype.getRotation=function(){var t;return t=Math.sqrt(this.a*this.a+this.b*this.b),this.b>0?Math.acos(this.a/t):-Math.acos(this.a/t)},t.prototype.getScale=function(){return Math.sqrt(this.a*this.a+this.b*this.b)},t.prototype.getTranslate=function(){return{x:this.e,y:this.f}},t}()}).call(this);
},{}],"ibDz":[function(require,module,exports) {
(function(){var e,t,n,r,i;exports.onSetParent=(e=function(e){var t,n,r;for(r=e;r;){if((t=r._documentStyle)&&(n=t.item))return n;r=r.parent}return null},t=function(e,n){var r,i,o,l,u;if(i=e._documentStyle)i.setItemParent(n);else if(e.children)for(o=0,l=(u=e.children).length;o<l;o++)r=u[o],t(r,n)},function(n,r){var i;return i=e(r),t(n,i)}),exports.onSetIndex=(n=function(e){var t,r,i,o,l;if(r=e._documentStyle)r.findItemIndex();else if(e.children)for(i=0,o=(l=e.children).length;i<o;i++)t=l[i],n(t)},function(e){return n(e)}),exports.onSetVisible=(r=function(e,t){var n,i,o,l,u;if(i=e._documentStyle)i.setVisibility(t);else if(e.children)for(o=0,l=(u=e.children).length;o<l;o++)(n=u[o]).visible&&r(n,t)},i=function(e){for(var t;e;){if(t=e._documentStyle){t.textProp&&t.updateText();break}e=e.parent}},function(e,t){return r(e,t),i(e)}),exports.onSetText=function(e){var t;null!=(t=e._documentStyle)&&t.updateText()},exports.onSetProp=function(e,t,n,r){var i;if(i=e._documentStyle)return i.setProp(t,n,r)}}).call(this);
},{}],"2WS1":[function(require,module,exports) {
(function(){"use strict";var t,e,r,n,o={}.hasOwnProperty;n=require("../../../util"),e=require("../../../assert"),t=require("../../../signal").SignalsEmitter,r=require("../styles"),e=e.scope("View.Element.Text"),module.exports=function(i){return function(_){var s,u,c,l,p;function a(){a.__super__.constructor.call(this),this._text="",this.constructor===a&&Object.seal(this)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(a,i),a.__name__="Text",a.__path__="File.Element.Text",u=a.JSON_CTOR_ID=i.JSON_CTORS.push(a)-1,l=i.JSON_ARGS_LENGTH,c=l++,s=a.JSON_ARGS_LENGTH=l,a._fromJSON=function(t,e){return null==e&&(e=new a),i._fromJSON(t,e),e._text=t[c],e},a.prototype.clone=function(t){return null==t&&(t=new a),a.__super__.clone.call(this,t),t._text=this._text,t},p=n.CONFIGURABLE,n.defineProperty(a.prototype,"text",p,function(){return this._text},function(t){var n;return e.isString(t),(n=this._text)!==t&&(this._text=t,this.emit("onTextChange",n),i.Tag.query.checkWatchersDeeply(this),r.onSetText(this),!0)}),t.createSignal(a,"onTextChange"),a.prototype.toJSON=function(t){return t||((t=new Array(s))[0]=u),a.__super__.toJSON.call(this,t),t[c]=this.text,t},a}()}}).call(this);
},{"../../../util":"xr+4","../../../assert":"lQvG","../../../signal":"WtLN","../styles":"ibDz"}],"I1Xt":[function(require,module,exports) {
(function(){"use strict";var n,r,e,t,i;n={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},i=function(n){return""!==n&&"blank"!==n&&!/^(?:[A-Z]|n-)/.test(n)},t=function(n){return!/^(?:n-|style:)/.test(n)},r=function(n){var r,t,i,u,o;if(n.children){for(u="",t=0,i=(o=n.children).length;t<i;t++)r=o[t],u+=e(r);return u}return""},e=function(e){var u,o,a,f,l,c;if(!1===e._visible)return"";if(void 0!==e._text)return e._text;if(!(o=e.name)||!i(o))return r(e);for(a in c="<"+o,l=e.props)f=l[a],l.hasOwnProperty(a)&&null!=f&&"function"!=typeof f&&t(a)&&(c+=" "+a+'="'+f+'"');return!(u=r(e))&&n[o]?c+" />":c+">"+u+"</"+o+">"},module.exports={getInnerHTML:r,getOuterHTML:e}}).call(this);
},{}],"hspS":[function(require,module,exports) {
(function(){"use strict";var t,r,e;e=require("../../../../util"),t=require("../../../../assert"),r=require("../../styles"),module.exports=function(i){return function(){var n;function o(t){e.defineProperty(this,"_ref",0,t)}return n=e.CONFIGURABLE|e.WRITABLE,e.defineProperty(o.prototype,"constructor",n,o),e.defineProperty(o.prototype,"item",n,function(r,e){var i,n,o;for(n in null==e&&(e=[]),t.isArray(e),e[0]=e[1]=void 0,i=0,this,this){if(o=this[n],this.hasOwnProperty(n)&&i===r){e[0]=n,e[1]=o;break}i++}return e}),e.defineProperty(o.prototype,"has",n,function(r){return t.isString(r),t.notLengthOf(r,0),this.hasOwnProperty(r)}),e.defineProperty(o.prototype,"set",n,function(e,n){var o;return t.isString(e),t.notLengthOf(e,0),(o=this[e])!==n&&(this[e]=n,this._ref.emit("onPropsChange",e,o),i.query.checkWatchersDeeply(this._ref),r.onSetProp(this._ref,e,n,o),!0)}),o}()}}).call(this);
},{"../../../../util":"xr+4","../../../../assert":"lQvG","../../styles":"ibDz"}],"a9No":[function(require,module,exports) {
(function(){"use strict";var t,e,n={}.hasOwnProperty;e=require("../../../../util"),t=require("../../../../signal").SignalsEmitter,module.exports=function(i,s){return function(r){var l,o,a,u,h;function c(){var t,e,n,i,s;if(c.__super__.constructor.call(this),e=this.constructor._fields,n=this.constructor._fieldsByName,e)for(i=0,s=e.length;i<s;i++)this[(t=e[i]).internalName]=t.defaultValue;Object.seal(this),n&&this.onPropsChange.connect(function(t){if(n[t])return this[t]=this.props[t]})}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype}(c,s),u=c.customTags={},o=c.JSON_CTOR_ID=i.JSON_CTORS.push(c)-1,h=s.JSON_ARGS_LENGTH,a=h++,l=c.JSON_ARGS_LENGTH=h,c._fromJSON=function(t,e){var n,i,r;for(n in i=t[a],e||(e=new(0,u[t[s.JSON_NAME]])),s._fromJSON(t,e),i)r=i[n],e[n]=r;return e},c.registerAs=function(t){u[t]=this},c.defineProperty=function(n){var i,s,r,l,o,a,u,h;if(o=n.name,i=null!=(a=n.defaultValue)?a:null,this===c)throw new Error("Cannot define a property on CustomTag; create new class");l="_"+o,h="on"+e.capitalize(o)+"Change",null==this._fields&&(this._fields=[]),null==this._fieldsByName&&(this._fieldsByName={}),s={name:o,internalName:l,signalName:h,defaultValue:i},this._fields.push(s),this._fieldsByName[o]=s,t.createSignal(this,h),r=function(){return this[l]},u=function(t){var e;(e=this[l])!==t&&(this[l]=t,this.emit(h,e))},e.defineProperty(this.prototype,o,e.CONFIGURABLE,r,u)},c.defineStyleProperty=function(t){var n,i,s,r,l,o,a,u,h;if(s=t.name,h=null!=(r=t.styleName)?r:s,this===c)throw new Error("Cannot define a property on CustomTag; create your own class");i="_"+h,a="on"+e.capitalize(s)+"Change",u="on"+e.capitalize(h)+"Change",null==this._styleAliases&&(this._styleAliases=[]),null==this._styleAliasesByName&&(this._styleAliasesByName={}),this._styleAliases.push({name:s,signalName:a,styleName:h}),this._styleAliasesByName[a]={styleName:u},this._styleAliasesByName[s]={styleName:h},o=function(){var t;return null!=(t=this._style)?t[u]:void 0},n=function(){var t;return null!=(t=this._style)?t[i]:void 0},l=function(t){var e;return null!=(e=this._style)?e[h]=t:void 0},e.defineProperty(this.prototype,a,e.CONFIGURABLE,o,null),e.defineProperty(this.prototype,s,e.CONFIGURABLE,n,l)},c.prototype.clone=function(t){var e,n,i,s;if(null==t&&(t=new this.constructor),c.__super__.clone.call(this,t),n=this.constructor._fields)for(i=0,s=n.length;i<s;i++)t[(e=n[i]).internalName]=this[e.internalName];return t},c.prototype.toJSON=function(t){var e,n,i,s,r;if(t||((t=new Array(l))[0]=o),c.__super__.toJSON.call(this,t),s=t[a]={},n=this.constructor._fields)for(i=0,r=n.length;i<r;i++)s[(e=n[i]).internalName]=this[e.internalName];return t},c}()}}).call(this);
},{"../../../../util":"xr+4","../../../../signal":"WtLN"}],"RxB4":[function(require,module,exports) {
(function(){"use strict";var t,e,r,n,i,o={}.hasOwnProperty;i=require("../../../util"),r=require("../../../assert"),t=require("../../../signal").SignalsEmitter,e=require("../../../typed-array"),n=require("./tag/stringify"),r=r.scope("View.Element.Tag"),module.exports=function(s){return function(p){var u,l,a,c,h,_,f,g,y;function O(){O.__super__.constructor.call(this),this.name="blank",this.children=[],this.props=new _(this),this.constructor===O&&Object.seal(this)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(O,s),O.Props=_=require("./tag/props")(O),O.__name__="Tag",O.__path__="File.Element.Tag",a=O.JSON_CTOR_ID=s.JSON_CTORS.push(O)-1,f=s.JSON_ARGS_LENGTH,c=O.JSON_NAME=f++,l=f++,h=f++,u=O.JSON_ARGS_LENGTH=f,O.CustomTag=require("./tag/custom")(s,O),O._fromJSON=function(t,e){var r,n,o,p,u,a,_;for(u=t[c],e||(e=new O),s._fromJSON(t,e),e.name=u,i.merge(e.props,t[h]),a=null,o=0,p=(_=t[l]).length;o<p;o++)r=_[o],n=s.fromJSON(r),e.children.push(n),n._parent=e,(n._previousSibling=a)&&(a._nextSibling=n),a=n;return e},t.createSignal(O,"onChildrenChange"),t.createSignal(O,"onPropsChange"),O.prototype.clone=function(t){return null==t&&(t=new this.constructor),O.__super__.clone.call(this,t),t.name=this.name,i.merge(t.props,this.props),t},O.prototype.cloneDeep=function(){var t,e,r,n,i,o,s;for(e=this.clone(),o=null,n=0,i=(s=this.children).length;n<i;n++)r=(t=s[n])instanceof O?t.cloneDeep():t.clone(),e.children.push(r),r._parent=e,(r._previousSibling=o)&&(o._nextSibling=r),o=r;return e},O.prototype.getCopiedElement=(y=new e.Uint16(256),function(t,e){var n,i,o;if(r.instanceOf(this,O),r.instanceOf(t,s),r.instanceOf(e,s),t===this)return e;for(f=0,n=t;(o=n._parent)&&(y[f++]=o.children.indexOf(n),(n=o)!==this););for(n=e;f-- >0;)i=y[f],n=n.children[i];return n}),O.prototype.getChildByAccessPath=function(t){var e,n;for(r.isArray(t),e=this,n=t.length-1;n>=0;n+=-1)if(f=t[n],!(e=e.children[f]))return null;return e},O.query=g=require("./tag/query")(s,O),O.prototype.queryAll=g.queryAll,O.prototype.query=g.query,O.prototype.watch=g.watch,O.prototype.stringify=function(){return n.getOuterHTML(this)},O.prototype.stringifyChildren=function(){return n.getInnerHTML(this)},O.prototype.replace=function(t,e){var n;return r.instanceOf(t,s),r.instanceOf(e,s),r.is(t.parent,this),n=this.children.indexOf(t),t.parent=void 0,e.parent=this,e.index=n,null},O.prototype.toJSON=function(t){var e,r,n,i,o;for(t||((t=new Array(u))[0]=a),O.__super__.toJSON.call(this,t),t[c]=this.name,r=t[l]=[],t[h]=this.props,n=0,i=(o=this.children).length;n<i;n++)e=o[n],r.push(e.toJSON());return t},O}()}}).call(this);
},{"../../../util":"xr+4","../../../assert":"lQvG","../../../signal":"WtLN","../../../typed-array":"wKwT","./tag/stringify":"I1Xt","./tag/props":"hspS","./tag/custom":"a9No","./tag/query":"6aTz"}],"7MrE":[function(require,module,exports) {
(function(){"use strict";var i,t,e,n,s,r={}.hasOwnProperty;s=require("../../util"),e=require("../../assert"),t=require("../../signal").SignalsEmitter,n=require("./styles"),Array.isArray,e=e.scope("View.Element"),i=function(i){var l,h,o,u,p,_;function a(){a.__super__.constructor.call(this),this._parent=null,this._nextSibling=null,this._previousSibling=null,this._style=null,this._documentStyle=null,this._visible=!0,this._watchers=null,this._inWatchers=null,this._checkWatchers=0,this.constructor===a&&Object.seal(this)}return function(i,t){for(var e in t)r.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype}(a,t),a.__name__="Element",a.__path__="File.Element",a.JSON_CTORS=[],h=a.JSON_CTOR_ID=a.JSON_CTORS.push(a)-1,p=1,o=p++,l=a.JSON_ARGS_LENGTH=p,a.fromJSON=function(i){return"string"==typeof i&&(i=JSON.parse(i)),e.isArray(i),a.JSON_CTORS[i[0]]._fromJSON(i)},a._fromJSON=function(i,t){return null==t&&(t=new a),t._visible=1===i[o],t},a.Text=require("./element/text")(a),a.Tag=u=require("./element/tag")(a),_=s.CONFIGURABLE,s.defineProperty(a.prototype,"index",_,function(){var i;return(null!=(i=this.parent)?i.children.indexOf(this):void 0)||0},function(i){var t,s,r,l,h,o,u;return e.instanceOf(this.parent,a),e.isInteger(i),e.operator(i,">=",0),!!(r=this._parent)&&(s=this.index,i>(t=r.children).length&&(i=t.length),s!==i&&s!==i-1&&(null!=(l=this._previousSibling)&&(l._nextSibling=this._nextSibling),null!=(h=this._nextSibling)&&(h._previousSibling=this._previousSibling),t.splice(s,1),i>s&&i--,t.splice(i,0,this),this._previousSibling=t[i-1]||null,this._nextSibling=t[i+1]||null,null!=(o=this._previousSibling)&&(o._nextSibling=this),null!=(u=this._nextSibling)&&(u._previousSibling=this),e.is(this.index,i),e.is(t[i],this),e.is(this._previousSibling,t[i-1]||null),e.is(this._nextSibling,t[i+1]||null),n.onSetIndex(this),!0))}),_=s.CONFIGURABLE,s.defineProperty(a.prototype,"nextSibling",_,function(){return this._nextSibling},null),_=s.CONFIGURABLE,s.defineProperty(a.prototype,"previousSibling",_,function(){return this._previousSibling},null),_=s.CONFIGURABLE,s.defineProperty(a.prototype,"parent",_,function(){return this._parent},function(i){var t,r,l,h,o,p,_;return e.instanceOf(this,a),null!=i&&e.instanceOf(i,a),e.isNot(this,i),(l=this._parent)!==i&&(this._parent&&(h=this._parent.children,e.ok(s.has(h,this)),this._nextSibling?this._previousSibling?(t=h.indexOf(this),h.splice(t,1)):(e.ok(h[0]===this),h.shift()):(e.ok(h[h.length-1]===this),h.pop()),this._parent.emit("onChildrenChange",null,this),null!=(p=this._previousSibling)&&(p._nextSibling=this._nextSibling),null!=(_=this._nextSibling)&&(_._previousSibling=this._previousSibling),this._previousSibling=null,this._nextSibling=null),this._parent=o=i,o&&(e.notOk(s.has(this._parent.children,this)),t=(r=this._parent.children).push(this)-1,o.emit("onChildrenChange",this),0===t?this._previousSibling=null:(this._previousSibling=r[t-1],this._previousSibling._nextSibling=this)),e.is(this._parent,i),e.is(this._nextSibling,null),e.is(this._previousSibling,(null!=i?i.children[i.children.length-2]:void 0)||null),this._previousSibling&&e.is(this._previousSibling._nextSibling,this),this.emit("onParentChange",l),u.query.checkWatchersDeeply(this,l),u.query.checkWatchersDeeply(this),n.onSetParent(this,i),!0)}),t.createSignal(a,"onParentChange"),_=s.CONFIGURABLE,s.defineProperty(a.prototype,"style",_,function(){return this._style},function(i){var t;return(t=this._style)!==i&&(this._style=i,this.emit("onStyleChange",t,i),!0)}),t.createSignal(a,"onStyleChange"),_=s.CONFIGURABLE,s.defineProperty(a.prototype,"visible",_,function(){return this._visible},function(i){var t;return e.isBoolean(i),(t=this._visible)!==i&&(this._visible=i,this.emit("onVisibleChange",t),n.onSetVisible(this,i),!0)}),t.createSignal(a,"onVisibleChange"),a.prototype.queryAllParents=u.query.queryAllParents,a.prototype.queryParents=u.query.queryParents,a.prototype.getAccessPath=function(i){var t,n,s;for(null!=i&&e.instanceOf(i,u),t=[],p=0,n=this,s=this;(s=n._parent)&&(t.push(s.children.indexOf(n)),n=s,s!==i););return t},a.prototype.clone=function(i){return null==i&&(i=new a),i._visible=this._visible,i},a.prototype.toJSON=function(i){return i||((i=new Array(l))[0]=h),i[o]=this.visible?1:0,i},a}(),module.exports=i}).call(this);
},{"../../util":"xr+4","../../assert":"lQvG","../../signal":"WtLN","./styles":"ibDz","./element/text":"2WS1","./element/tag":"RxB4"}],"BiIz":[function(require,module,exports) {
(function(){"use strict";var t,n,e={}.hasOwnProperty;t=require("../../../../assert"),n=require("../../../../util"),module.exports=function(o,r,u){return function(o){return function(c){function i(t){i.__super__.constructor.call(this,t),this._column=0,this._row=0,Object.preventExtensions(this)}return function(t,n){for(var o in n)e.call(n,o)&&(t[o]=n[o]);function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(i,u.DeepObject),i.__name__="Spacing",u.defineProperty({constructor:o,name:"spacing",defaultValue:0,valueConstructor:i,setter:function(t){return function(e){var o;o=this.spacing,n.isObject(e)?(null!=e.column&&(o.column=e.column),null!=e.row&&(o.row=e.row)):o.column=o.row=e,t.call(this,e)}}}),u.defineProperty({constructor:i,name:"column",defaultValue:0,namespace:"spacing",parentConstructor:o,implementation:r["set"+o.name+"ColumnSpacing"],developmentSetter:function(n){return t.isFloat(n)}}),u.defineProperty({constructor:i,name:"row",defaultValue:0,namespace:"spacing",parentConstructor:o,implementation:r["set"+o.name+"RowSpacing"],developmentSetter:function(n){return t.isFloat(n)}}),i.prototype.valueOf=function(){if(this.column===this.row)return this.column;throw new Error("column and row spacing are different")},i.prototype.toJSON=function(){return{column:this.column,row:this.row}},i}()}}}).call(this);
},{"../../../../assert":"lQvG","../../../../util":"xr+4"}],"8B6V":[function(require,module,exports) {
(function(){"use strict";var t,e={}.hasOwnProperty;t=require("../../../../assert"),require("../../../../util"),module.exports=function(n,r,o){return function(n){return function(i){function u(t){u.__super__.constructor.call(this,t),this._horizontal="left",this._vertical="top",Object.preventExtensions(this)}return function(t,n){for(var r in n)e.call(n,r)&&(t[r]=n[r]);function o(){this.constructor=t}o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype}(u,o.DeepObject),u.__name__="Alignment",o.defineProperty({constructor:n,name:"alignment",defaultValue:null,valueConstructor:u,setter:function(){return null}}),o.defineProperty({constructor:u,name:"horizontal",defaultValue:"left",namespace:"alignment",parentConstructor:n,implementation:r["set"+n.name+"AlignmentHorizontal"],developmentSetter:function(e){return t.isString(e)},setter:function(t){return function(e){return null==e&&(e="left"),t.call(this,e)}}}),o.defineProperty({constructor:u,name:"vertical",defaultValue:"top",namespace:"alignment",parentConstructor:n,implementation:r["set"+n.name+"AlignmentVertical"],developmentSetter:function(e){return t.isString(e)},setter:function(t){return function(e){return null==e&&(e="top"),t.call(this,e)}}}),u.prototype.toJSON=function(){return{horizontal:this.horizontal,vertical:this.vertical}},u}()}}}).call(this);
},{"../../../../assert":"lQvG","../../../../util":"xr+4"}],"XIpW":[function(require,module,exports) {
(function(){"use strict";var t,e,r,n,i={}.hasOwnProperty;require("../../../../util"),n=require("../../../../log"),r=require("../../../../assert"),n=n.scope("Renderer"),t={top:!0,bottom:!0,verticalCenter:!0},e={left:!0,right:!0,horizontalCenter:!0},module.exports=function(l,o,h,s){return function(l){return function(s){var u,f,c;function _(t){_.__super__.constructor.call(this,t),this._runningCount=0,this._top=null,this._bottom=null,this._verticalCenter=null,this._left=null,this._right=null,this._horizontalCenter=null,this._centerIn=null,this._fill=null,this._fillWidth=null,this._fillHeight=null,Object.preventExtensions(this)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(_,h.DeepObject),_.__name__="Anchors",h.defineProperty({constructor:l,name:"anchors",valueConstructor:_,developmentSetter:function(t){return r.isObject(t)},setter:function(t){return function(e){var r;r=this.anchors,null!=e.left&&(r.left=e.left),null!=e.right&&(r.right=e.right),null!=e.horizontalCenter&&(r.horizontalCenter=e.horizontalCenter),null!=e.top&&(r.top=e.top),null!=e.bottom&&(r.bottom=e.bottom),null!=e.verticalCenter&&(r.verticalCenter=e.verticalCenter),null!=e.centerIn&&(r.centerIn=e.centerIn),null!=e.fill&&(r.fill=e.fill),null!=e.fillWidth&&(r.fillWidth=e.fillWidth),null!=e.fillHeight&&(r.fillHeight=e.fillHeight),t.call(this,e)}}}),f=o["set"+l.name+"Anchor"],c=Object.create(null),(u=function(r,i,o){var s,u;return null==i&&(i=0),s="_"+r,u=function(l){return function(o){var h,u,f,_;return null==o&&(o=null),_=this[s],"string"==typeof o&&((u=c[o])||(u=c[o]=o.split(".")),o=u),null!=o&&(h=t[r]?t:e,Array.isArray(o)&&o.length>0&&o.length<3||n.error("`anchors."+r+"` expects an array; `'"+o+"'` given"),o[0],f=o[1],2&i&&void 0!==f&&n.error("`anchors."+r+"` expects only a target to be defined; `'"+o+"'` given;\npointing to the line is not required (e.g `anchors.centerIn = parent`)"),1&i&&(t[f]||e[f]||n.error("`anchors."+r+"` expects an anchor line to be defined; `'"+o+"'` given;\nuse one of the `"+Object.keys(h)+"`")),4&i&&(t[f]||n.error("`anchors."+r+"` can't be anchored to the vertical edge; `'"+o+"'` given;\nuse one of the `"+Object.keys(t)+"`")),8&i&&(e[f]||n.error("`anchors."+r+"` can't be anchored to the horizontal edge; `'"+o+"'` given;\nuse one of the `"+Object.keys(e)+"`")),"this"===o[0]&&(o[0]=this)),!!_!=!!o&&(this._runningCount+=o?1:-1),l.call(this,o)}},h.defineProperty({constructor:_,name:r,defaultValue:null,implementation:function(t){return f.call(this,r,t)},namespace:"anchors",parentConstructor:l,setter:u,getter:function(){return o}})})("left",41,function(){var t;if(this._ref)return this._ref.x-((null!=(t=this._ref._margin)?t._left:void 0)||0)}),u("right",41,function(){var t;if(this._ref)return this._ref._x+this._ref._width+((null!=(t=this._ref._margin)?t._right:void 0)||0)}),u("horizontalCenter",41,function(){if(this._ref)return this._ref._x+this._ref._width/2}),u("top",21,function(){var t;if(this._ref)return this._ref._y-((null!=(t=this._ref._margin)?t._top:void 0)||0)}),u("bottom",21,function(){var t;if(this._ref)return this._ref._y+this._ref._height+((null!=(t=this._ref._margin)?t._bottom:void 0)||0)}),u("verticalCenter",21,function(){if(this._ref)return this._ref._y+this._ref._height/2}),u("centerIn",50,function(){if(this._ref)return[this.horizontalCenter,this.verticalCenter]}),u("fill",2,function(){if(this._ref)return[this._ref._x,this._ref._y,this._ref._width,this._ref._height]}),u("fillWidth",2,function(){if(this._ref)return[this._ref._x,this._ref._width]}),u("fillHeight",2,function(){if(this._ref)return[this._ref._y,this._ref._height]}),_}()}}}).call(this);
},{"../../../../util":"xr+4","../../../../log":"fe8o","../../../../assert":"lQvG"}],"jwc1":[function(require,module,exports) {
(function(){"use strict";var t={}.hasOwnProperty;require("../../../../util"),require("../../../../signal").SignalsEmitter,require("../../../../assert"),module.exports=function(r,e,o,n){return function(r,e){return function(n){var i,u;function s(t){s.__super__.constructor.call(this,t),this._left=0,this._top=0,this._right=0,this._bottom=0,Object.preventExtensions(this)}return function(r,e){for(var o in e)t.call(e,o)&&(r[o]=e[o]);function n(){this.constructor=r}n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype}(s,o.DeepObject),s.__name__="Margin",u=(null!=e?e.propertyName:void 0)||"margin",o.defineProperty({constructor:r,name:u,defaultValue:0,valueConstructor:s,setter:function(){return null}}),(i=function(t){var e;return e=function(t){return function(r){return t.call(this,Number(r)||0)}},o.defineProperty({constructor:s,name:t,defaultValue:0,namespace:u,parentConstructor:r,setter:e})})("left"),i("top"),i("right"),i("bottom"),s.prototype.valueOf=function(){if(this.left===this.top&&this.top===this.right&&this.right===this.bottom)return this.left;throw new Error("margin values are different")},s.prototype.toJSON=function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},s}()}}}).call(this);
},{"../../../../util":"xr+4","../../../../signal":"WtLN","../../../../assert":"lQvG"}],"jn9n":[function(require,module,exports) {
(function(){"use strict";var e,t,n,r={}.hasOwnProperty;n=require("../../../../util"),e=require("../../../../signal").SignalsEmitter,t=require("../../../../assert"),module.exports=function(i,o,s,u){return function(u){return function(c){var l,a,p,h,f,_,d,v,y,g,m,P,b,I;function S(e){S.__super__.constructor.call(this,e),this._enabled=!0,this._draggable=!1,this._dragActive=!1,this._pressed=!1,this._hover=!1,this._pressedInitialized=!1,this._hoverInitialized=!1,Object.preventExtensions(this)}for(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(S,s.DeepObject),S.__name__="Pointer",s.defineProperty({constructor:u,name:"pointer",valueConstructor:S}),s.defineProperty({constructor:S,name:"enabled",defaultValue:!0,namespace:"pointer",parentConstructor:u,implementation:o.setItemPointerEnabled,developmentSetter:function(e){return t.isBoolean(e)}}),a={onClick:!0,onPress:!0,onRelease:!0},l={onEnter:!0,onExit:!0,onMove:!0},v=function(e,t){(a[t]||l[t])&&(_(e),l[t]&&f(e)),o.attachItemSignal.call(e,"pointer",t)},S.SIGNALS=Object.keys(a).concat(Object.keys(l)).concat(["onWheel"]),h=0,d=(y=S.SIGNALS).length;h<d;h++)g=y[h],e.createSignal(S,g,v);return m=function(e){return e.stopPropagation=!1,this.pressed=!0},P=function(){return this.pressed=!1},_=function(e){e._pressedInitialized||(e._pressedInitialized=!0,e.onPress.connect(m),e.onRelease.connect(P))},s.defineProperty({constructor:S,name:"pressed",defaultValue:!1,namespace:"pointer",parentConstructor:u,signalInitializer:_,getter:function(e){return function(){return _(this),e.call(this)}}}),b=function(){return this.hover=!0},I=function(){return this.hover=!1},f=function(e){e._hoverInitialized||(e._hoverInitialized=!0,e.onEnter.connect(b),e.onExit.connect(I))},s.defineProperty({constructor:S,name:"hover",defaultValue:!1,namespace:"pointer",parentConstructor:u,signalInitializer:f,getter:function(e){return function(){return f(this),e.call(this)}}}),S.Event=p=function(){function e(){this._itemX=0,this._itemY=0,this._stopPropagation=!0,this._checkSiblings=!1,this._ensureRelease=!0,this._ensureMove=!0,this._preventClick=!1,Object.preventExtensions(this)}return e.prototype=Object.create(i.Device.pointer),e.prototype.constructor=e,n.defineProperty(e.prototype,"itemX",null,function(){return this._itemX},null),n.defineProperty(e.prototype,"itemY",null,function(){return this._itemY},null),n.defineProperty(e.prototype,"stopPropagation",null,function(){return this._stopPropagation},function(e){return t.isBoolean(e),this._stopPropagation=e}),n.defineProperty(e.prototype,"checkSiblings",null,function(){return this._checkSiblings},function(e){return t.isBoolean(e),this._checkSiblings=e}),n.defineProperty(e.prototype,"ensureRelease",null,function(){return this._ensureRelease},function(e){return t.isBoolean(e),this._ensureRelease=e}),n.defineProperty(e.prototype,"ensureMove",null,function(){return this._ensureMove},function(e){return t.isBoolean(e),this._ensureMove=e}),n.defineProperty(e.prototype,"preventClick",null,function(){return this._preventClick},function(e){return t.isBoolean(e),this._preventClick=e}),e}(),S.event=new p,S}()}}}).call(this);
},{"../../../../util":"xr+4","../../../../signal":"WtLN","../../../../assert":"lQvG"}],"8/0Z":[function(require,module,exports) {
(function(){"use strict";var e,t,n={}.hasOwnProperty;require("../../../../util"),e=require("../../../../signal").SignalsEmitter,t=require("../../../../assert"),module.exports=function(o,r,u,s){return function(s){return function(c){var i,l,a,f,p,y,m,d;function _(e){_.__super__.constructor.call(this,e),this._focus=!1,Object.preventExtensions(this)}for(function(e,t){for(var o in t)n.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(_,u.DeepObject),_.__name__="Keys",i=o.Device,u.defineProperty({constructor:s,name:"keys",valueConstructor:_}),_.focusedItem=null,_.Event=l=function(){function e(){Object.preventExtensions(this)}return e.prototype=Object.create(i.keyboard),e.prototype.constructor=e,e}(),_.SIGNALS=["onPress","onHold","onRelease","onInput"],f=0,y=(m=_.SIGNALS).length;f<y;f++)d=m[f],e.createSignal(_,d);return a=null,u.defineProperty({constructor:_,name:"focus",defaultValue:!1,implementation:r.setItemKeysFocus,namespace:"keys",parentConstructor:s,developmentSetter:function(e){return t.isBoolean(e)},setter:function(e){return function(t){this._focus!==t&&(t&&a!==this&&(null!=a&&(a.focus=!1),a=this,_.focusedItem=this._ref),e.call(this,t),t||a!==this||(a=null,_.focusedItem=null))}}}),i.onKeyPress.connect(function(e){return null!=a?a.emit("onPress",p):void 0}),i.onKeyHold.connect(function(e){return null!=a?a.emit("onHold",p):void 0}),i.onKeyRelease.connect(function(e){return null!=a?a.emit("onRelease",p):void 0}),i.onKeyInput.connect(function(e){return null!=a?a.emit("onInput",p):void 0}),_.event=p=new l,_}()}}}).call(this);
},{"../../../../util":"xr+4","../../../../signal":"WtLN","../../../../assert":"lQvG"}],"6G0o":[function(require,module,exports) {
(function(){"use strict";var i,e,t,n,l=function(i,e){for(var t in e)o.call(e,t)&&(i[t]=e[t]);function n(){this.constructor=i}return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i},o={}.hasOwnProperty;t=require("../../../assert"),n=require("../../../util"),e=require("../../../signal").SignalsEmitter,i=require("../../utils/Matrix"),Array.isArray,t=t.scope("Renderer.Item"),module.exports=function(o,r,s){return function(h){var a,u,b,g,_,p,d,c,f,S;function m(){t.instanceOf(this,m),m.__super__.constructor.call(this),this._parent=null,this._children=null,this._previousSibling=null,this._nextSibling=null,this._belowSibling=null,this._aboveSibling=null,this._width=0,this._height=0,this._x=0,this._y=0,this._z=0,this._visible=!0,this._clip=!1,this._scale=1,this._rotation=0,this._opacity=1,this._anchors=null,this._layout=null,this._fillWidth=!1,this._fillHeight=!1,this._keys=null,this._pointer=null,this._margin=null,this._padding=null,this._columns=2,this._rows=Infinity,this._spacing=null,this._alignment=null,this._classes=null,this._query="",this._element=null}return l(m,h),m.__name__="Item",m.__path__="Renderer.Item",u=require("../../../document/element"),m.New=function(i){var e;return e=new m,s.Object.initialize(e,i),e},n.defineProperty(m.prototype,"query",null,function(){return this._query},function(i){""===this._query&&(this._query=i)}),s.defineProperty({constructor:m,name:"element",defaultValue:null,developmentSetter:function(i){if(null!=i)return t.instanceOf(i,u)}}),e.createSignal(m,"onAnimationFrame",(S=Date.now(),f=[],c=function(){var i,e,t,n;for(n=S,t=(S=Date.now())-n,i=0,e=f.length;i<e;i++)f[i].emit("onAnimationFrame",t);return requestAnimationFrame(c)},"function"==typeof requestAnimationFrame&&requestAnimationFrame(c),function(i){return f.push(i)})),n.defineProperty(m.prototype,"children",null,function(){return this._children||(this._children=new a(this))},function(i){var e,n;for(t.isArray(i,"Item.children needs to be an array, but "+i+" given"),this.clear(),e=0,n=i.length;e<n;e++)i[e],i.parent=this}),e.createSignal(m,"onChildrenChange"),a=function(i){function e(i){this._firstChild=null,this._lastChild=null,this._bottomChild=null,this._topChild=null,this._length=0,e.__super__.constructor.call(this,i)}return l(e,i),n.defineProperty(e.prototype,"firstChild",null,function(){return this._firstChild},null),n.defineProperty(e.prototype,"lastChild",null,function(){return this._lastChild},null),n.defineProperty(e.prototype,"bottomChild",null,function(){return this._bottomChild},null),n.defineProperty(e.prototype,"topChild",null,function(){return this._topChild},null),n.defineProperty(e.prototype,"length",null,function(){return this._length},null),e.prototype.get=function(i){var e;if(t.operator(i,">=",0,"Item.children.get index cannot be lower than zero, "+i+" given"),t.operator(i,"<",this.length,"Item.children.get index must be lower than children.length, "+i+" given"),i<this.length/2)for(e=this.firstChild;i>0;)e=e.nextSibling,i--;else for(e=this.lastChild;i>0;)e=e.previousSibling,i--;return e},e.prototype.index=function(i){return this.has(i)?i.index:-1},e.prototype.has=function(i){return this._ref===i._parent},e.prototype.clear=function(){for(var i;i=this.last;)i.parent=null},e}(s.MutableDeepObject),function(i,e,t){null==t&&(t=-1),i.parent=null,t>=0&&e.children._length<t?r.insertItemBefore.call(i,e.children[t]):r.setItemParent.call(i,e),i._parent=e,i.emit("onParentChange",null)},p=function(i,e,t){var n,l;for(n=t._topChild;n;){if(n._z<=e)return(i._aboveSibling=n._aboveSibling)&&(i._aboveSibling._belowSibling=i),i._belowSibling=n,void(n._aboveSibling=i);if(!(l=n._belowSibling))return i._aboveSibling=n,n._belowSibling=i,void(i._belowSibling=null);n=l}},b=function(i){var e;(e=i._aboveSibling)?r.insertItemBefore.call(i,e):r.setItemParent.call(i,i._parent)},s.defineProperty({constructor:m,name:"parent",defaultValue:null,setter:function(i){return function(i){var e,n,l,o,r,s,h,a,u;null==i&&(i=null),o=null!=(e=this._parent)?e.children:void 0,u=null!=i?i.children:void 0,e!==i&&(t.isNot(this,i,"Item.parent cannot be set with context item, "+i+" given"),(h=this._pointer)&&(h.hover=h.pressed=!1),null!==i&&t.instanceOf(i,m,"Item.parent needs to be an Item or null, but "+i+" given"),s=this._previousSibling,r=this._nextSibling,null!==s&&(s._nextSibling=r),null!==r&&(r._previousSibling=s),null!==i?(a=this._previousSibling=u.lastChild)&&(a._nextSibling=this):this._previousSibling=null,null!==r&&(this._nextSibling=null),o&&(o._length-=1,o.firstChild===this&&(o._firstChild=r),o.lastChild===this&&(o._lastChild=s)),u&&(1==++u._length&&(u._firstChild=this),u._lastChild=this),l=this._belowSibling,n=this._aboveSibling,null!==l&&(l._aboveSibling=n),null!==n&&(n._belowSibling=l),this._belowSibling=this._aboveSibling=null,u&&p(this,this._z,u),o&&(n||(o._topChild=l),l||(o._bottomChild=n)),u&&(this._aboveSibling||(u._topChild=this),this._belowSibling||(u._bottomChild=this)),this._parent=i,b(this),t.is(this.nextSibling,null),i&&(t.is(i.children.lastChild,this),t.isDefined(i.children.firstChild),t.isDefined(i.children.lastChild),t.isDefined(i.children.topChild),t.isDefined(i.children.bottomChild)),e&&0===e.children.length&&(t.isNotDefined(e.children.firstChild),t.isNotDefined(e.children.lastChild),t.isNotDefined(e.children.topChild),t.isNotDefined(e.children.bottomChild)),null!==e&&e.emit("onChildrenChange",null,this),null!==i&&i.emit("onChildrenChange",this,null),this.emit("onParentChange",e),null!==s&&s.emit("onNextSiblingChange",this),null!==r&&r.emit("onPreviousSiblingChange",this),null===i&&null===s||(a&&a.emit("onNextSiblingChange",null),this.emit("onPreviousSiblingChange",s)),null!==r&&this.emit("onNextSiblingChange",r))}}}),n.defineProperty(m.prototype,"previousSibling",null,function(){return this._previousSibling},function(i){var e;null==i&&(i=null),t.isNot(this,i,"Item.previousSibling cannot be set with context Item, "+i+" given"),i!==this._previousSibling&&(i?(t.instanceOf(i,m,"Item.previousSibling must be an Item or null, but "+i+" given"),(e=i._nextSibling)||i._parent===this._parent?this.nextSibling=e:this.parent=i._parent):(t.isDefined(this._parent,"Cannot null Item.previousSibling when Item has no parent"),this.nextSibling=this._parent.children.firstChild),t.is(this._previousSibling,i))}),e.createSignal(m,"onPreviousSiblingChange"),g=function(i,e){for(var t;i;){if((t=i._nextSibling)===e)return!0;i=t}return!1},_=function(i,e){for(var t;i;){if((t=i._previousSibling)===e)return!0;i=t}return!1},d=function(i,e,t,n){var l,o;if(e._z===t)(i._belowSibling=e._belowSibling)&&(i._belowSibling._aboveSibling=i),i._aboveSibling=e,e._belowSibling=i;else for(o=n._bottomChild;l=o;){if(o=l._aboveSibling,l._z>t||l._z===t&&g(i,l)){i._aboveSibling=l,(i._belowSibling=l._belowSibling)&&(i._belowSibling._aboveSibling=i),l._belowSibling=i;break}o||(i._aboveSibling=null,i._belowSibling=l,l._aboveSibling=i)}},n.defineProperty(m.prototype,"nextSibling",null,function(){return this._nextSibling},function(i){var e,n,l,o,r,s,h,a,u,g,_,c;null==i&&(i=null),t.isNot(this,i,"Item.nextSibling cannot be set with context Item, "+i+" given"),i?(t.instanceOf(i,m,"Item.nextSibling needs to be an Item or null, but "+i+" given"),t.isDefined(i._parent,"Item.nextSibling value needs to have a parent, given "+i+" has no parent")):t.isDefined(this._parent,"Cannot null Item.nextSibling when Item has no parent"),i!==this._nextSibling&&(h=null!=(u=this._parent)?u._children:void 0,g=this._previousSibling,a=this._nextSibling,i?e=(n=i._parent)._children:(n=u,e=h),this._parent=n,null!=g&&(g._nextSibling=a),null!=a&&(a._previousSibling=g),_=c=null,l=o=null,i?((_=i._previousSibling)&&(c=_._nextSibling,_._nextSibling=this),o=(l=i)._previousSibling,l._previousSibling=this):(_=e.lastChild)&&(_._nextSibling=this),this._previousSibling=_,this._nextSibling=l,h&&(h._length-=1,g||(h._firstChild=a),a||(h._lastChild=g)),e._length+=1,e.firstChild===i&&(e._firstChild=this),i||(e._lastChild=this),s=this._belowSibling,r=this._aboveSibling,null!==s&&(s._aboveSibling=r),null!==r&&(r._belowSibling=s),this._belowSibling=this._aboveSibling=null,l?d(this,l,this._z,e):p(this,this._z,e),h&&(r||(h._topChild=s),s||(h._bottomChild=r)),this._aboveSibling||(e._topChild=this),this._belowSibling||(e._bottomChild=this),b(this),t.is(this._nextSibling,i),t.is(this._parent,n),i&&t.is(this._parent,i._parent),this._previousSibling&&t.is(this._previousSibling._nextSibling,this),this._nextSibling&&t.is(this._nextSibling._previousSibling,this),g&&t.is(g._nextSibling,a),a&&t.is(a._previousSibling,g),u!==n?(u&&u.emit("onChildrenChange",null,this),n.emit("onChildrenChange",this,null),this.emit("onParentChange",u)):n.emit("onChildrenChange",null,null),g&&g.emit("onNextSiblingChange",this),a&&a.emit("onPreviousSiblingChange",this),this.emit("onPreviousSiblingChange",g),_&&_.emit("onNextSiblingChange",c),this.emit("onNextSiblingChange",a),l&&l.emit("onPreviousSiblingChange",o))}),e.createSignal(m,"onNextSiblingChange"),n.defineProperty(m.prototype,"belowSibling",null,function(){return this._belowSibling},null),n.defineProperty(m.prototype,"aboveSibling",null,function(){return this._aboveSibling},null),n.defineProperty(m.prototype,"index",null,function(){var i,e;for(i=0,e=this;e=e.previousSibling;)i++;return i},function(i){var e,n;t.isInteger(i,"Item.index needs to be a integer, but "+i+" given"),t.isDefined(this._parent,"When setting Item.index, item needs to have a parent, "+this+" has no parent"),t.operator(i,">=",0,"Item.index needs to greater than zero, "+i+" given"),t.operator(i,"<=",this._parent._children.length,"Item.index needs to be lower than parent.children.length, "+i+" given"),i>=(e=this.parent.children).length?this.nextSibling=null:(n=e.get(i))!==this&&(this.nextSibling=n)}),s.defineProperty({constructor:m,name:"visible",defaultValue:!0,implementation:r.setItemVisible,developmentSetter:function(i){return t.isBoolean(i,"Item.visible needs to be a boolean, but "+i+" given")}}),s.defineProperty({constructor:m,name:"clip",defaultValue:!1,implementation:r.setItemClip,developmentSetter:function(i){return t.isBoolean(i,"Item.clip needs to be a boolean, but "+i+" given")}}),s.defineProperty({constructor:m,name:"width",defaultValue:0,implementation:r.setItemWidth,developmentSetter:function(i){return t.isFloat(i,"Item.width needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"height",defaultValue:0,implementation:r.setItemHeight,developmentSetter:function(i){return t.isFloat(i,"Item.height needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"x",defaultValue:0,implementation:r.setItemX,developmentSetter:function(i){return t.isFloat(i,"Item.x needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"y",defaultValue:0,implementation:r.setItemY,developmentSetter:function(i){return t.isFloat(i,"Item.y needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"z",defaultValue:0,developmentSetter:function(i){return t.isFloat(i,"Item.z needs to be a float, but "+i+" given")},setter:function(i){return function(e){var n,l,o,r,s,h,a,u,p,d;if((h=this._z)!==e&&(i.call(this,e),a=this._parent)){if(l=a._children,r=this._aboveSibling,s=this._belowSibling,e>h)for(o=this._aboveSibling;n=o;){if(o=n._aboveSibling,n._z>e||n._z===e&&g(this,n)){if(r===n)break;this._aboveSibling=n,(this._belowSibling=n._belowSibling)&&(this._belowSibling._aboveSibling=this),n._belowSibling=this;break}o||(this._aboveSibling=null,this._belowSibling=n,n._aboveSibling=this)}if(e<h)for(u=this._belowSibling;n=u;){if(u=n._belowSibling,n._z<e||n._z===e&&_(this,n)){if(s===n)break;this._belowSibling=n,n._aboveSibling,(this._aboveSibling=n._aboveSibling)&&(this._aboveSibling._belowSibling=this),n._aboveSibling=this;break}u||(this._belowSibling=null,this._aboveSibling=n,n._belowSibling=this)}s&&s!==this._belowSibling&&(s._aboveSibling=r),r&&r!==this._aboveSibling&&(r._belowSibling=s),this._belowSibling?l._bottomChild===this&&(l._bottomChild=r):l._bottomChild=this,this._aboveSibling?l._topChild===this&&(l._topChild=s):l._topChild=this,r!==this._aboveSibling&&b(this),t.isNot(this._belowSibling,this),t.isNot(null!=(p=this._belowSibling)?p._belowSibling:void 0,this),t.isNot(this._aboveSibling,this),t.isNot(null!=(d=this._aboveSibling)?d._aboveSibling:void 0,this),this._belowSibling&&t.is(this._belowSibling._aboveSibling,this),this._aboveSibling&&t.is(this._aboveSibling._belowSibling,this)}}}}),s.defineProperty({constructor:m,name:"scale",defaultValue:1,implementation:r.setItemScale,developmentSetter:function(i){return t.isFloat(i,"Item.scale needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"rotation",defaultValue:0,implementation:r.setItemRotation,developmentSetter:function(i){return t.isFloat(i,"Item.rotation needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"opacity",defaultValue:1,implementation:r.setItemOpacity,developmentSetter:function(i){return t.isFloat(i,"Item.opacity needs to be a float, but "+i+" given")}}),s.defineProperty({constructor:m,name:"layout",defaultValue:null,implementation:r.setItemLayout,developmentSetter:function(i){if(null!==i)return t.isString(i)}}),s.defineProperty({constructor:m,name:"fillWidth",defaultValue:!1,developmentSetter:function(i){return t.isBoolean(i)}}),s.defineProperty({constructor:m,name:"fillHeight",defaultValue:!1,developmentSetter:function(i){return t.isBoolean(i)}}),s.defineProperty({constructor:m,name:"columns",defaultValue:2,implementation:r.setItemColumns,developmentSetter:function(i){return t.operator(i,">=",0)},setter:function(i){return function(e){return e<=0&&(e=1),i.call(this,e)}}}),s.defineProperty({constructor:m,name:"rows",defaultValue:Infinity,implementation:r.setItemRows,developmentSetter:function(i){return t.operator(i,">=",0)},setter:function(i){return function(e){return e<=0&&(e=1),i.call(this,e)}}}),m.prototype.scaleInPoint=function(i,e,t){var n,l,o,r,s,h,a;o=this.scale,this.scale=i,s=((r=this.width)*i-r*o)/2,h=e/r*-2+1,this.x+=h*s,l=((n=this.height)*i-n*o)/2,a=t/n*-2+1,this.y+=a*l},m.prototype.getGlobalComputes=function(){var e,t,n,l,o,r,s,h,a,u,b,g;for(l=new i,this,g=this.visible,this.opacity,e=[],n=this;n;)e.push(n),g&&(g=n.visible),n.opacity,n=n.parent;for(t=e.length-1;t>=0;t+=-1)u=(n=e[t]).width/2,b=n.height/2,l.translate(n.x+u,n.y+b),l.scale(n.scale),l.rotate(n.rotation),l.translate(-u,-b);return h=l.getScale(),s=l.getRotation(),(o=new i).translate(-this.width/2,-this.height/2),o.rotate(s),o.translate(this.width*h/2,this.height*h/2),a=l.getTranslate(),r=o.getTranslate(),{x:a.x+r.x,y:a.y+r.y,scale:h,rotation:s}},m.createSpacing=require("./item/spacing")(o,r,s,m),m.createAlignment=require("./item/alignment")(o,r,s,m),m.createAnchors=require("./item/anchors")(o,r,s,m),m.createMargin=require("./item/margin")(o,r,s,m),m.createPointer=require("./item/pointer")(o,r,s,m),m.createKeys=require("./item/keys")(o,r,s,m),m.createAnchors(m),m.Pointer=m.createPointer(m),m.createMargin(m),m.createMargin(m,{propertyName:"padding"}),m.createAlignment(m),m.createSpacing(m),m.Keys=m.createKeys(m),m}(s.Object)}}).call(this);
},{"../../../assert":"lQvG","../../../util":"xr+4","../../../signal":"WtLN","../../utils/Matrix":"dDWa","../../../document/element":"7MrE","./item/spacing":"BiIz","./item/alignment":"8B6V","./item/anchors":"XIpW","./item/margin":"jwc1","./item/pointer":"jn9n","./item/keys":"8/0Z"}],"eiV3":[function(require,module,exports) {
(function(){"use strict";var t,i,e;i=require("../log"),e=require("../util"),t=require("../assert"),i=i.scope("Resources","Resource"),module.exports=function(i){return function(){function l(){t.instanceOf(this,l),this.file="",this.name="",this.color="",this.width=0,this.height=0,this.formats=null,this.resolutions=null,this.paths=null,Object.seal(this)}return l.__name__="Resource",l.__path__="Resources.Resource",l.FILE_NAME=/^(.*?)(?:@([0-9p]+)x)?(?:\.([a-zA-Z0-9]+))?(?:\#([a-zA-Z0-9]+))?$/,l.fromJSON=function(e){var l,n,r;for(l in"string"==typeof e&&(e=JSON.parse(e)),t.isObject(e),n=new i[e.__name__],e)r=e[l],"__name__"!==l&&(n[l]=r);return n},l.parseFileName=function(i){var e;if(t.isString(i),i&&(e=l.FILE_NAME.exec(i)))return{file:e[1]||void 0,resolution:null!=e[2]?parseFloat(e[2].replace("p",".")):void 0,format:e[3],property:e[4]}},l.prototype.resolve=function(i,n){var r,o,s,u,h,a,f,c,_,p,d,m,v,g,w,O,y;if(null==i&&(i=""),void 0===n&&e.isPlainObject(i)&&(n=i,i=""),""!==i&&(s=(p=l.parseFileName(i)).file,w=p.resolution,d=p.property,p.format&&(h=[p.format])),t.isString(i),null!=n&&t.isPlainObject(n),null==s&&(s=(null!=n?n.file:void 0)||this.file),null==w&&(w=(null!=n?n.resolution:void 0)||1),null==h&&(h=(null!=n?n.formats:void 0)||this.formats),null==d&&(d=(null!=n?n.property:void 0)||"file"),s===this.file){if("file"!==d)return this[d];for(null==(null!=n?n.width:void 0)&&null==(null!=n?n.height:void 0)||(null!=n.width&&n.width>n.height?w*=n.width/this.width:null!=n.height&&n.width<n.height&&(w*=n.height/this.height)),o=Infinity,r=0,a=0,c=(v=this.resolutions).length;a<c;a++)y=v[a],((O=Math.abs(w-y))<o||O===o&&y>r)&&(o=O,r=y);for(f=0,_=h.length;f<_;f++)if(u=h[f],m=null!=(g=this.paths[u])?g[r]:void 0)return m}},l.prototype.toJSON=function(){return e.merge({__name__:this.constructor.__name__},this)},l}()}}).call(this);
},{"../log":"fe8o","../util":"xr+4","../assert":"lQvG"}],"fuji":[function(require,module,exports) {
(function(){"use strict";var e,r,t;t=require("../util"),r=require("../log"),e=require("../assert"),r=r.scope("Resources"),module.exports=function(){function r(){}return r.__name__="Resources",r.Resources=r,r.Resource=require("./resource")(r),"/",r.URI=/^(?:rsc|resource|resources)?:\/?\/?(.*?)((?:@(?:[0-9p]+)x)?(?:\.(?:[a-zA-Z0-9]+))?(?:\#(?:[a-zA-Z0-9]+))?)$/,r.fromJSON=function(t,s){var o,n;for(o in null==s&&(s=new r),"string"==typeof t&&(t=JSON.parse(t)),e.isObject(t),t)n=t[o],"__name__"!==o&&(n=r[n.__name__].fromJSON(n),e.notOk(o in s,"Can't set '"+o+"' property in this resources object, because it's already defined"),s[o]=n);return s},r.testUri=function(t){return e.isString(t),r.URI.test(t)},r.prototype.getResource=function(e){var t,s,o,n;for("string"==typeof e&&(s=r.URI.exec(e))&&(e=s[1]),t=e;t;){if(o=this[t])return""!==(n=e.slice(t.length+1))&&o instanceof r?o.getResource(n):e===t?o:void 0;t=t.substring(0,t.lastIndexOf("/"))}},r.prototype.resolve=function(e,t){var s,o,n;if(r.testUri(e))return o=this.getResource(e),n=null!=(s=r.URI.exec(e))?s[2]:void 0,null!=o?o.resolve(n,t):void 0},r.prototype.toJSON=function(){return t.merge({__name__:this.constructor.__name__},this)},r}()}).call(this);
},{"../util":"xr+4","../log":"fe8o","../assert":"lQvG","./resource":"eiV3"}],"59g0":[function(require,module,exports) {
(function(){"use strict";var t,e,i,o,r,n,s,u={}.hasOwnProperty;o=require("../../../assert"),n=require("../../../signal"),e=n.SignalDispatcher,i=n.SignalsEmitter,r=require("../../../log"),s=require("../../../util"),t=require("../../../resources"),r=r.scope("Renderer","Image"),module.exports=function(n,h,l){return function(a){var c,d,p,g,_,f,y,m,w,P;function v(){v.__super__.constructor.call(this),this._source="",this._loaded=!1,this._resolution=1,this._sourceWidth=0,this._sourceHeight=0,this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1}return function(t,e){for(var i in e)u.call(e,i)&&(t[i]=e[i]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(v,n.Item),v.__name__="Image",v.__path__="Renderer.Image",v.New=function(t){var e;return e=new v,l.Object.initialize(e,t),e},v.onPixelRatioChange=new e,g=1,s.defineProperty(v,"pixelRatio",s.CONFIGURABLE,function(){return g},function(t){var e;if(o.isFloat(t,"Image.pixelRatio needs to be a float, but "+t+" given"),t!==g)return e=g,g=t,this.onPixelRatioChange.emit(e)}),_=function(){this._autoHeight!==this._autoWidth&&(this._autoHeight&&d.call(this,this._width/this.sourceWidth*this.sourceHeight||0),this._autoWidth&&p.call(this,this._height/this.sourceHeight*this.sourceWidth||0))},v.prototype._width=-1,c=s.lookupGetter(v.prototype,"width"),p=s.lookupSetter(v.prototype,"width"),s.defineProperty(v.prototype,"width",null,c,(f=p,function(t){this._autoWidth=-1===t,f.call(this,t),_.call(this)})),v.prototype._height=-1,c=s.lookupGetter(v.prototype,"height"),d=s.lookupSetter(v.prototype,"height"),s.defineProperty(v.prototype,"height",null,c,function(t){return function(e){this._autoHeight=-1===e,t.call(this,e),_.call(this)}}(d)),l.defineProperty({constructor:v,name:"source",defaultValue:"",developmentSetter:function(t){return o.isString(t,"Image.source needs to be a string, but "+t+" given")},setter:(y={resolution:1},m={source:"",width:0,height:0},P=function(t){o.isFloat(t.width),o.isFloat(t.height),l.setPropertyValue(this,"sourceWidth",t.width),l.setPropertyValue(this,"sourceHeight",t.height),this._autoWidth&&p.call(this,t.width),this._autoHeight&&d.call(this,t.height),_.call(this)},w=function(t,e){null==t&&(t=null),t?r.warn("Can't load '"+this.source+"' image at "+this.toString()):(o.isString(e.source),0===this.sourceWidth||0===this.sourceHeight?P.call(this,e):l.setPropertyValue(this,"resolution",e.width/this.sourceWidth)),this._loaded=!0,this.emit("onLoadedChange",!1),t?this.emit("onError",t):this.emit("onLoad")},function(e){return function(i){var o,s,u;e.call(this,i),this._loaded&&(this._loaded=!1,this.emit("onLoadedChange",!0)),l.setPropertyValue(this,"sourceWidth",0),l.setPropertyValue(this,"sourceHeight",0),l.setPropertyValue(this,"resolution",1),t.testUri(i)&&((s=null!=(o=h.resources)?o.getResource(i):void 0)?(u=n.Device.pixelRatio*v.pixelRatio,y.resolution=u,i=s.resolve(y),P.call(this,s)):(r.warn("Unknown resource given `"+i+"`"),i="")),i?h.setImageSource.call(this,i,w):(h.setImageSource.call(this,null,null),m.source=i,w.call(this,null,m))}})}),l.defineProperty({constructor:v,name:"resolution",defaultValue:1,setter:function(t){return function(){}}}),l.defineProperty({constructor:v,name:"sourceWidth",defaultValue:0,setter:function(t){return function(){}}}),l.defineProperty({constructor:v,name:"sourceHeight",defaultValue:0,setter:function(t){return function(){}}}),s.defineProperty(v.prototype,"loaded",null,function(){return this._loaded},null),i.createSignal(v,"onLoadedChange"),i.createSignal(v,"onLoad"),i.createSignal(v,"onError"),v}()}}).call(this);
},{"../../../assert":"lQvG","../../../signal":"WtLN","../../../log":"fe8o","../../../util":"xr+4","../../../resources":"fuji"}],"DPRb":[function(require,module,exports) {
(function(){"use strict";var t,e,n={}.hasOwnProperty;t=require("../../../../assert"),e=require("../../../../util"),require("../../../../log").scope("Renderer","Font"),module.exports=function(i,r,o){return function(a){return function(l){var c,u;function s(t){s.__super__.constructor.call(this,t),this._family="sans-serif",this._pixelSize=14,this._weight=.4,this._wordSpacing=0,this._letterSpacing=0,this._italic=!1,Object.preventExtensions(this)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(s,o.DeepObject),s.__name__="Font",o.defineProperty({constructor:a,name:"font",defaultValue:null,valueConstructor:s,developmentSetter:function(e){if(null!=e)return t.isObject(e)},setter:function(t){return function(n){var i;t.call(this,n),e.isObject(n)&&(i=this.font,null!=n.family&&(i.family=n.family),null!=n.pixelSize&&(i.pixelSize=n.pixelSize),null!=n.weight&&(i.weight=n.weight),null!=n.wordSpacing&&(i.wordSpacing=n.wordSpacing),null!=n.letterSpacing&&(i.letterSpacing=n.letterSpacing),null!=n.italic&&(i.italic=n.italic))}}}),u=r["set"+a.name+"FontFamily"],c=function(t){var e;return(e=i.FontLoader.getInternalFontName(t._family,t._weight,t._italic))||(e="sans-serif"),u.call(t._ref,e)},{},o.defineProperty({constructor:s,name:"family",defaultValue:"sans-serif",namespace:"font",parentConstructor:a,developmentSetter:function(e){return t.isString(e,"Font.family needs to be a string, but "+e+" given")},setter:function(t){return function(e){return t.call(this,e),c(this)}}}),o.defineProperty({constructor:s,name:"pixelSize",defaultValue:14,namespace:"font",parentConstructor:a,implementation:r["set"+a.name+"FontPixelSize"],developmentSetter:function(e){return t.isFloat(e,"Font.pixelSize needs to be a float, but "+e+" given")}}),o.defineProperty({constructor:s,name:"weight",defaultValue:.4,namespace:"font",parentConstructor:a,developmentSetter:function(e){return t.isFloat(e,"Font.weight needs to be a float, but "+e+" given"),t.operator(e,">=",0,"Font.weight needs to be in range 0-1, "+e+" given"),t.operator(e,"<=",1,"Font.weight needs to be in range 0-1, "+e+" given")},setter:function(t){return function(e){return t.call(this,e),c(this)}}}),o.defineProperty({constructor:s,name:"wordSpacing",defaultValue:0,namespace:"font",parentConstructor:a,implementation:r["set"+a.name+"FontWordSpacing"],developmentSetter:function(e){return t.isFloat(e,"Font.wordSpacing needs to be a float, but "+e+" given")}}),o.defineProperty({constructor:s,name:"letterSpacing",defaultValue:0,namespace:"font",parentConstructor:a,implementation:r["set"+a.name+"FontLetterSpacing"],developmentSetter:function(e){return t.isFloat(e,"Font.letterSpacing needs to be a float, but "+e+" given")}}),o.defineProperty({constructor:s,name:"italic",defaultValue:!1,namespace:"font",parentConstructor:a,developmentSetter:function(e){return t.isBoolean(e,"Font.italic needs to be a boolean, but "+e+" given")},setter:function(t){return function(e){return t.call(this,e),c(this)}}}),s.prototype.toJSON=function(){return{family:this.family,pixelSize:this.pixelSize,weight:this.weight,wordSpacing:this.wordSpacing,letterSpacing:this.letterSpacing,italic:this.italic}},s}()}}}).call(this);
},{"../../../../assert":"lQvG","../../../../util":"xr+4","../../../../log":"fe8o"}],"ppxw":[function(require,module,exports) {
(function(){"use strict";var t,e,n={}.hasOwnProperty;t=require("../../../assert"),e=require("../../../util"),require("../../../signal"),require("../../../log").scope("Renderer","Text"),module.exports=function(o,i,r){return function(l){var u,a,s,c,h;function p(){p.__super__.constructor.call(this),this._text="",this._color="black",this._linkColor="blue",this._lineHeight=1,this._contentWidth=0,this._contentHeight=0,this._font=null,this._alignment=null,this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1}return function(t,e){for(var o in e)n.call(e,o)&&(t[o]=e[o]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(p,o.Item),p.__name__="Text",p.__path__="Renderer.Text",p.SUPPORTED_HTML_TAGS={b:!0,strong:!0,em:!0,br:!0,font:!0,i:!0,s:!0,u:!0,a:!0},p.New=function(t){var e,n;return e=new p,r.Object.initialize(e,t),(n=o.FontLoader.getInternalFontName("sans-serif",.4,!1))&&i.setTextFontFamily.call(e,n),e},p.prototype._width=-1,u=e.lookupGetter(p.prototype,"width"),s=e.lookupSetter(p.prototype,"width"),e.defineProperty(p.prototype,"width",null,u,(c=s,function(t){var e;e=this._autoWidth,(this._autoWidth=-1===t)?c.call(this,this._contentWidth):c.call(this,t),(this._autoWidth||this._autoHeight)&&i.updateTextContentSize.call(this),e!==this._autoWidth&&i.setTextWrap.call(this,!this._autoWidth)})),p.prototype._height=-1,u=e.lookupGetter(p.prototype,"height"),a=e.lookupSetter(p.prototype,"height"),e.defineProperty(p.prototype,"height",null,u,function(t){return function(e){(this._autoHeight=-1===e)?(t.call(this,this._contentHeight),i.updateTextContentSize.call(this)):t.call(this,e)}}(a)),r.defineProperty({constructor:p,name:"text",defaultValue:"",implementation:i.setText,setter:function(t){return function(e){return t.call(this,e+"")}}}),r.defineProperty({constructor:p,name:"color",defaultValue:"black",implementation:i.setTextColor,implementationValue:(h={property:"color"},function(t){var e;return(null!=(e=i.resources)?e.resolve(t,h):void 0)||t}),developmentSetter:function(e){return t.isString(e,"Text.color needs to be a string, but "+e+" given")}}),r.defineProperty({constructor:p,name:"linkColor",defaultValue:"blue",implementation:i.setTextLinkColor,implementationValue:function(){var t;return t={property:"color"},function(e){var n;return(null!=(n=i.resources)?n.resolve(e,t):void 0)||e}}(),developmentSetter:function(e){return t.isString(e)}}),r.defineProperty({constructor:p,name:"lineHeight",defaultValue:1,implementation:i.setTextLineHeight,developmentSetter:function(e){return t.isFloat(e,"Text.lineHeight needs to be a float, but "+e+" given")}}),r.defineProperty({constructor:p,name:"contentWidth",defaultValue:0,developmentSetter:function(e){return t.isFloat(e)},setter:function(t){return function(e){t.call(this,e),this._autoWidth&&s.call(this,e)}}}),r.defineProperty({constructor:p,name:"contentHeight",defaultValue:0,developmentSetter:function(e){return t.isFloat(e)},setter:function(t){return function(e){t.call(this,e),this._autoHeight&&a.call(this,e)}}}),o.Item.createAlignment(p),p.createFont=require("./text/font")(o,i,r),p.createFont(p),p}()}}).call(this);
},{"../../../assert":"lQvG","../../../util":"xr+4","../../../signal":"WtLN","../../../log":"fe8o","./text/font":"DPRb"}],"1OZd":[function(require,module,exports) {
(function(){"use strict";var t,e,n,i,r={}.hasOwnProperty,o=[].slice;i=require("../../../util"),n=require("../../../log"),e=require("../../../assert"),require("../../utils/color"),t=require("../../../resources"),module.exports=function(a,u,l){return function(s){var p,c,f,h,m;function d(){var t,e,n,i;if(d.__super__.constructor.call(this),this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1,n=this.constructor._properties)for(t=0,e=n.length;t<e;t++)this[(i=n[t]).internalName]=i.defaultValue}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(d,a.Item),d.__name__="Native",d.__path__="Renderer.Native",d.New=function(t){var e;return e=new this,l.Object.initialize(e,t),"function"==typeof this.Initialize&&this.Initialize(e),e},(p=Object.create(null)).text=function(){return{defaultValue:"",developmentSetter:function(t){return e.isString(t)}}},p.number=function(){return{defaultValue:0,developmentSetter:function(t){return e.isFloat(t)}}},p.boolean=function(){return{defaultValue:!1,developmentSetter:function(t){return e.isBoolean(t)}}},p.resource=function(i){return{defaultValue:"",developmentSetter:function(t){return e.isString(t)},implementationValue:(r={resolution:1},"function"==typeof requestAnimationFrame&&requestAnimationFrame(function(){return r.resolution=a.Device.pixelRatio}),o=function(t,e){var n,i,r,o,a,u;for(i=0,r=(a=t.formats).length;i<r;i++)if(n=a[i],o=t.paths[n])for(u in o)if(o[u]===e)return parseFloat(u);return 1},function(e){var a,l,s,p;return t.testUri(e)?(p=null!=(l=u.resources)?l.getResource(e):void 0)?(a=p.resolve(r),null!=(s=i.onResolutionChange)&&s.call(this,o(p,a)),a):(n.warn("Unknown resource given `"+e+"`"),""):e})};var r,o},p.color=function(t){return{defaultValue:"",developmentSetter:function(t){return e.isString(t)},implementationValue:(n={property:"color"},function(t){var e;return t=(null!=(e=u.resources)?e.resolve(t,n):void 0)||t})};var n},p.item=function(t){return{defaultValue:null,developmentSetter:function(t){if(null!=t)return e.instanceOf(t,a.Item)},implementationValue:function(t){return t}}},d.defineProperty=function(t){var n,r,o,a,s,c,f,h,m;if(n=this.name,o=null!=this._properties?this._properties:this._properties=[],t=i.clone(t),e.isObject(t,"NativeItem.defineProperty config parameter must be an object"),e.isString(t.name,"NativeItem property name must be a string"),e.isNotDefined(o[t.name],"Property "+t.name+" is already defined"),t.type&&e.isDefined(p[t.type],"Unknown property type "+t.type),s=p[t.type])for(r in a=s(t))c=a[r],r in t||(t[r]=c);return t.constructor=this,t.internalName=l.getPropInternalName(t.name),t.implementation=!1===t.enabled?i.NOP:(f=i.capitalize(n),m=i.capitalize(t.name),h="set"+f+m,function(t){var e;return null!=(e=u[h])?e.call(this,t):void 0}),o.push(t),l.defineProperty(t)},d.setPropertyValue=l.setPropertyValue,d.addTypeImplementation=function(t){return u.addTypeImplementation(this.constructor.name,t)},d.prototype._width=-1,c=i.lookupGetter(d.prototype,"width"),h=i.lookupSetter(d.prototype,"width"),i.defineProperty(d.prototype,"width",null,c,(m=h,function(t){(this._autoWidth=-1===t)?u.updateNativeSize.call(this):m.call(this,t)})),d.prototype._height=-1,c=i.lookupGetter(d.prototype,"height"),f=i.lookupSetter(d.prototype,"height"),i.defineProperty(d.prototype,"height",null,c,function(t){return function(e){(this._autoHeight=-1===e)?u.updateNativeSize.call(this):t.call(this,e)}}(f)),d.prototype.set=function(t,n){var r,o;e.isString(t,"NativeItem.set name must be a string, but "+t+" given"),r=i.capitalize(this.constructor.name),this._impl.id,t=i.capitalize(t),null!=(o=u["set"+r+t])&&o.call(this,n)},d.prototype.call=function(){var t,n,r,a;r=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],e.isString(r,"NativeItem.call name must be a string, but "+r+" given"),n=i.capitalize(this.constructor.name),this._impl.id,r=i.capitalize(r),null!=(a=u["call"+n+r])&&a.apply(this,t)},Object.create(null),function(t,e){return function(i){var r,o,a,u,l,s,p,c,f;if(u=t[i]){for(p=arguments.length,r=new Array(p-1),o=l=0,c=p-1;l<c;o=l+=1)r[o]=arguments[o+1];for(a=u[0],o=s=1,f=u.length;s<f;o=s+=1)u[o].apply(a,r)}else n.warn("Got a native event '"+e+"' for an item which didn't register a listener on this event; check if you properly call 'on()' method with a signal listener")}},d.prototype.on=function(t,n){var r,o;e.isString(t,"NativeItem.on name must be a string, but "+t+" given"),e.isFunction(n,"NativeItem.on listener must be a function, but "+n+" given"),r="on"+(t=i.capitalize(t)),null!=(o=this._impl[r])&&o.connect(n,this)},d}()}}).call(this);
},{"../../../util":"xr+4","../../../log":"fe8o","../../../assert":"lQvG","../../utils/color":"jPDc","../../../resources":"fuji"}],"rJQq":[function(require,module,exports) {
(function(){"use strict";var e,t,r,n=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t=require("../../../assert"),require("../../../util"),r=require("../../../log"),e=require("../../../resources"),r=r.scope("Renderer","Rectangle"),module.exports=function(o,i,u){var c,l,a,s;return c="transparent",s={property:"color"},a=function(t){var n,o;return e.testUri(t)?(o=null!=(n=i.resources)?n.resolve(t,s):void 0)?o:(r.warn("Unknown resource given `"+t+"`"),c):t},l=function(e){function r(){r.__super__.constructor.call(this),this._color=c,this._radius=0,this._border=null}return n(r,e),r.__name__="Rectangle",r.__path__="Renderer.Rectangle",r.New=function(e){var t;return t=new r,u.Object.initialize(t,e),t},u.defineProperty({constructor:r,name:"color",defaultValue:c,implementation:i.setRectangleColor,implementationValue:a,developmentSetter:function(e){return t.isString(e,"Rectangle.color needs to be a string, but "+e+" given")}}),u.defineProperty({constructor:r,name:"radius",defaultValue:0,implementation:i.setRectangleRadius,developmentSetter:function(e){return t.isFloat(e,"Rectangle.radius needs to be a float, but "+e+" given")}}),r}(o.Item),function(e){function r(e){this._width=0,this._color=c,r.__super__.constructor.call(this,e)}return n(r,e),r.__name__="Border",u.defineProperty({constructor:l,name:"border",valueConstructor:r,developmentSetter:function(e){return t.isObject(e)},setter:function(e){return function(t){var r;r=this.border,null!=t.width&&(r.width=t.width),null!=t.color&&(r.color=t.color),e.call(this,t)}}}),u.defineProperty({constructor:r,name:"width",defaultValue:0,namespace:"border",parentConstructor:l,implementation:i.setRectangleBorderWidth,developmentSetter:function(e){return t.isFloat(e,"Rectangle.border.width needs to be a float, but "+e+" given")}}),u.defineProperty({constructor:r,name:"color",defaultValue:c,namespace:"border",parentConstructor:l,implementation:i.setRectangleBorderColor,implementationValue:a,developmentSetter:function(e){return t.isString(e,"Rectangle.border.color needs to be a string, but "+e+" given")}}),r.prototype.toJSON=function(){return{width:this.width,color:this.color}},r}(u.DeepObject),l}}).call(this);
},{"../../../assert":"lQvG","../../../util":"xr+4","../../../log":"fe8o","../../../resources":"fuji"}],"tAoW":[function(require,module,exports) {
(function(){"use strict";var e,t;e=require("../../../assert"),require("../../../util"),t=require("../../../log"),require("../../../signal"),t=t.scope("Renderer","FontLoader"),module.exports=function(n,r,i){return function(){var n,i,o,a;function s(t,n){this.name=t,this.source=n,e.isString(this.name,"FontLoader.name needs to be a string, but "+this.name+" given"),e.notLengthOf(this.name,0,"FontLoader.name cannot be an empty string"),e.isString(this.source,"FontLoader.source needs to be a string, but "+this.source+" given"),e.notLengthOf(this.source,0,"FontLoader.source cannot be an empty string"),Object.freeze(this)}return i=Object.create(null),n=[/hairline/i,/thin/i,/ultra.*light/i,/extra.*light/i,/light/i,/book/i,/normal|regular|roman|plain/i,/medium/i,/demi.*bold|semi.*bold/i,/bold/i,/extra.*bold|extra/i,/heavy/i,/black/i,/extra.*black/i,/ultra.*black|ultra/i],o=function(e){var r,i,o,a;for(r=-1,i=o=0,a=n.length;o<a&&!(n[i].test(e)&&(r=i,i<=n.length/2));i=++o);return r>=0?r/(n.length-1):(t.warn("Can't find font weight in the got source; `"+e+"` got"),.4)},a=function(e){return/italic|oblique/i.test(e)},s.getInternalFontName=function(e,r,o){var a,s,l,u,h,c,g,f,d,b;if(d="",(g=i[e])&&(g[o]||t.warn("Font '"+e+"' italic style is not loaded"),(g=g[o]||g[!o])&&!(d=g[b=Math.round(r*n.length)]))){for(s=-1,u=h=b-1;h>=0;u=h+=-1)if(g[u]){s=u;break}for(l=-1,u=c=b+1,f=n.length;c<f;u=c+=1)if(g[u]){l=u;break}s>=0&&l>=0?a=l-b<b-s?l:s:s>=0?a=s:l>=0&&(a=l),d=g[a]}return d},s.prototype.load=function(e){var s,l,u,h,c,g,f,d,b,m,v,p,F,w,y,L,k,q;if(y=(null!=(v=r.resources)?v.resolve(this.source):void 0)||this.source,w=null!=(p=r.resources)?p.getResource(y):void 0)for(s in L=[],F=w.paths)m=F[s],L.push(m[1]);else L=[y];for(k=.4,u=!1,l=c=0,g=L.length;c<g;l=++c)y=L[l],k!==(k=o(y))&&l>0&&t.warn("'"+this.source+"' sources have different weights"),u!==(u=a(y))&&l>0&&t.warn("'"+this.source+"' sources have different 'italic' styles");q=Math.round(k*n.length),h=u?"italic":"normal",f="neft-"+this.name+"-"+q+"-"+h,(b=null!=(b=null!=i[d=this.name]?i[d]:i[d]={})[u]?b[u]:b[u]=new Array(n.length))[q]=f,r.loadFont(f,y,L,e)},s}()}}).call(this);
},{"../../../assert":"lQvG","../../../util":"xr+4","../../../log":"fe8o","../../../signal":"WtLN"}],"e2eB":[function(require,module,exports) {
const{SignalDispatcher:e}=require("../signal"),t=require("../assert");exports.onReady=new e,exports.onWindowItemChange=new e;const s=require("./impl")(exports);exports.Impl={addTypeImplementation:s.addTypeImplementation,Types:s.Types,onWindowItemReady:s.onWindowItemReady,utils:s.utils};const r=require("./utils/item")(exports,s);exports.itemUtils=r,exports.sizeUtils=require("./utils/size")(exports),exports.colorUtils=require("./utils/color"),exports.Screen=require("./types/namespace/screen")(exports,s,r),exports.Device=require("./types/namespace/device")(exports,s,r),exports.Navigator=require("./types/namespace/navigator")(exports,s,r),exports.Extension=require("./types/extension")(exports,s,r),exports.Class=require("./types/extensions/class")(exports,s,r),exports.Animation=require("./types/extensions/animation")(exports,s,r),exports.PropertyAnimation=require("./types/extensions/animation/types/property")(exports,s,r),exports.NumberAnimation=require("./types/extensions/animation/types/property/types/number")(exports,s,r),exports.SequentialAnimation=require("./types/extensions/animation/types/sequential")(exports,s,r),exports.ParallelAnimation=require("./types/extensions/animation/types/parallel")(exports,s,r),exports.Transition=require("./types/extensions/transition")(exports,s,r),exports.Item=require("./types/basics/item")(exports,s,r),exports.Image=require("./types/basics/image")(exports,s,r),exports.Text=require("./types/basics/text")(exports,s,r),exports.Native=require("./types/basics/native")(exports,s,r),exports.Rectangle=require("./types/shapes/rectangle")(exports,s,r),exports.FontLoader=require("./types/loader/font")(exports,s,r),exports.setWindowItem=function(e){t.instanceOf(e,exports.Item),s.setWindow(e),exports.onWindowItemChange.emit(null)},exports.setServerUrl=function(e){s.serverUrl=e},exports.setResources=function(e){s.resources=e},exports.getResource=function(e){return null!=s.resources?s.resources.getResource(e):null},exports.loadFont=(({name:e,source:t})=>new Promise((s,r)=>{new exports.FontLoader(e,t).load(e=>{e?r(e):s()})})),exports.onReady.emit();
},{"../signal":"WtLN","../assert":"lQvG","./impl":"2vQI","./utils/item":"jRFR","./utils/size":"aX08","./utils/color":"jPDc","./types/namespace/screen":"bLcb","./types/namespace/device":"OiVh","./types/namespace/navigator":"iSrG","./types/extension":"rImO","./types/extensions/class":"+F8w","./types/extensions/animation":"Utkc","./types/extensions/animation/types/property":"2FpY","./types/extensions/animation/types/property/types/number":"xqCq","./types/extensions/animation/types/sequential":"6ZTd","./types/extensions/animation/types/parallel":"Jgr6","./types/extensions/transition":"Ro6R","./types/basics/item":"6G0o","./types/basics/image":"59g0","./types/basics/text":"ppxw","./types/basics/native":"1OZd","./types/shapes/rectangle":"rJQq","./types/loader/font":"tAoW"}],"E1EV":[function(require,module,exports) {
const e=require("../log"),t=require("../assert"),n=require("../event-loop");class i{constructor(e,t){this.document=e,this.element=e.element.getChildByAccessPath(t),this.name="",this.refName="",this.component=null,this.hiddenDepth=0,this.immediateRenderPending=!1,this.onElementPropsChange=this.element.onPropsChange.asSignalDispatcher(),this.element.onPropsChange.connect(this.handleElementPropsChange,this);let n=this.element;for(;n;)"n-if"in n.props&&n.onVisibleChange.connect(this.handleElementVisibleChange,this),n=n.parent}handleElementVisibleChange(e){const t=!e?-1:1;this.hiddenDepth+=t,this.document.rendered&&!this.component&&0===this.hiddenDepth?this.renderImmediate():this.document.rendered&&this.component&&this.hiddenDepth>0&&this.revert()}handleElementPropsChange(e){"n-component"===e&&this.document.rendered&&(this.revert(),this.renderImmediate())}renderImmediate(){this.immediateRenderPending||(this.immediateRenderPending=!0,n.setImmediate(()=>{this.immediateRenderPending=!1,this.document.rendered&&!this.component&&this.render()}))}render(){if(t.notOk(this.component,"<n-use /> is already rendered"),this.hiddenDepth>0)return;const n=this.element.props["n-component"];if(!n)return;const i=this.document.getComponent(n);i?(i.render({context:this.document.context,props:this.element.props,onPropsChange:this.onElementPropsChange,sourceElement:this.element}),i.element.parent=this.element,this.name=n,this.refName=this.element.props["n-ref"]||this.element.props.ref,this.component=i,this.refName&&this.document.setRef(this.refName,i.exported)):e.warning(`Cannot find ${n} component to render`)}revert(){this.component&&(this.component.revert(),this.component.element.parent=null,this.document.returnComponent(this.name,this.component),this.refName&&this.document.deleteRef(this.refName),this.name="",this.refName="",this.component=null)}}module.exports=i;
},{"../log":"fe8o","../assert":"lQvG","../event-loop":"jt0G"}],"4b8H":[function(require,module,exports) {
const e=require("../util"),n=require("../event-loop"),{Text:t}=require("./element"),i=function(e,n){e instanceof t?e.onTextChange.connect(n.renderOnChange,n):e.children.forEach(e=>i(e,n))};class s{constructor(n,t){this.document=n,this.element=n.element.getChildByAccessPath(t),this.isRenderPending=!1,this.log=e.bindFunctionContext(this.log,this),this.element.onPropsChange.connect(this.renderOnChange,this),i(this.element,this)}renderOnChange(){this.document.rendered&&this.render()}render(){this.isRenderPending||(this.isRenderPending=!0,n.setImmediate(this.log))}log(){if(this.isRenderPending=!1,e.isEmpty(this.element.props))console.log(this.element.stringifyChildren());else{const{props:e}=this.element,n=[],t=this.element.stringifyChildren();t&&n.push(t),Object.entries(e).forEach(([e,t])=>{n.push(e,"=",t)}),console.log(...n)}}}module.exports=s;
},{"../util":"xr+4","../event-loop":"jt0G","./element":"7MrE"}],"M3fp":[function(require,module,exports) {
class e{constructor(e,{element:t,elseElement:s}){this.document=e,this.element=e.element.getChildByAccessPath(t),this.elseElement=s&&e.element.getChildByAccessPath(s),this.element.onPropsChange.connect(this.onPropsChange,this)}onPropsChange(e){"n-if"===e&&this.update()}update(){const{element:e,elseElement:t}=this,s=!!e.props["n-if"];e.visible=s,t&&(t.visible=!s)}render(){this.update()}revert(){}}module.exports=e;
},{}],"8zsn":[function(require,module,exports) {
(function(){"use strict";var t,e,n,i,r,o,u=function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;require("../util"),i=require("../assert"),o=require("../log"),n=require("../signal").SignalsEmitter,r=require("../event-loop"),t=require("../binding"),i=i.scope("View.Input"),o=o.scope("View","Input"),e=function(e){function n(t,e){this.input=e,n.__super__.constructor.call(this,t,this.input.target)}return u(n,t),n.New=function(e,i,r){return null==r&&(r=new n(e,i)),t.New(e,i.target,r)},n.prototype.getItemById=function(t){if("this"===t)return this.ctx},n.prototype.onError=function(t){o.error("Failed `"+this.input.text+"` binding in file `"+this.input.document.path+"`: `"+t+"`")},n.prototype.update=function(){this.input.isRendered&&(r.lock(),n.__super__.update.call(this),r.release())},n.prototype.getValue=function(){return this.input.getValue()},n.prototype.setValue=function(t){return this.input.setValue(t)},n}(),module.exports=function(t){var r;function o(t,e,n,i){this.document=t,this.interpolation=n,this.text=i,o.__super__.constructor.call(this),this.element=this.document.element.getChildByAccessPath(e),this.isRendered=!1,this.target=null,this.binding=null,r(this.interpolation)}return u(o,n),r=function(t){null==t.func&&(t.func=new Function("self",t.body)),null==t.tree&&(t.tree=[t.func,t.connections])},o.prototype.render=function(){i.isNotDefined(this.binding),this.target=this.document.exported,this.binding=e.New(this.interpolation.tree,this),this.isRendered=!0,this.binding.update()},o.prototype.revert=function(){this.binding.destroy(),this.binding=null,this.isRendered=!1},o}()}).call(this);
},{"../util":"xr+4","../assert":"lQvG","../log":"fe8o","../signal":"WtLN","../event-loop":"jt0G","../binding":"fqjs"}],"glk2":[function(require,module,exports) {
(function(){"use strict";var t,e={}.hasOwnProperty;t=require("../input"),module.exports=function(n){function o(t,e){var n,r,u;n=e.element,r=e.interpolation,u=e.text,o.__super__.constructor.call(this,t,n,r,u)}return function(t,n){for(var o in n)e.call(n,o)&&(t[o]=n[o]);function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(o,t),o.prototype.getValue=function(){return this.element.text},o.prototype.setValue=function(t){return null==t?t="":"string"!=typeof t&&(t+=""),this.element.text=t},o}()}).call(this);
},{"../input":"8zsn"}],"4AzR":[function(require,module,exports) {
(function(){"use strict";var t,e={}.hasOwnProperty;require("../../assert"),require("../../util"),t=require("../input"),module.exports=function(r){var n,o;function i(t,e){var r,p,u;r=e.element,this.prop=e.prop,p=e.interpolation,u=e.text,i.__super__.constructor.call(this,t,r,p,u),o(this.element,this.prop)?(this.handlerFunc=n(this),this.element.props.set(this.prop,this.handlerFunc)):this.handlerFunc=null}return function(t,r){for(var n in r)e.call(r,n)&&(t[n]=r[n]);function o(){this.constructor=t}o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype}(i,t),i.isHandler=o=function(t,e){return!!/(?:^|:)on[A-Z][A-Za-z0-9_$]*$/.test(e)},i.prototype.getValue=function(){return this.element.props[this.prop]},i.prototype.setValue=function(t){return this.element.props.set(this.prop,t)},i.prototype.render=function(){if(!this.handlerFunc)return i.__super__.render.call(this)},i.prototype.revert=function(){if(!this.handlerFunc)return i.__super__.revert.call(this)},n=function(t){return function(){var e;if(t.document.rendered)return"function"==typeof(e=t.interpolation.func.call(t.document.exported,this))&&(e=e.apply(this,arguments)),e}},i}()}).call(this);
},{"../../assert":"lQvG","../../util":"xr+4","../input":"8zsn"}],"4Y+I":[function(require,module,exports) {
const e=require("../util"),t=require("../assert"),i=require("../event-loop"),{SignalsEmitter:r}=require("../signal"),s=e.CONFIGURABLE|e.WRITABLE,n=e.CONFIGURABLE|e.ENUMERABLE,c=(t,c,o)=>{const u=`_${c}`,a=`on${e.capitalize(c)}Change`;e.defineProperty(t,u,s,o),r.createSignal(t,a);e.defineProperty(t,c,n,function(){return this[u]},i.bindInLock(function(e){const t=this[u];e!==t&&(this[u]=e,this.emit(a,t))}))};class o extends r{constructor(i){super(),t.instanceOf(this,o,"Constructor Struct requires 'new'"),e.isPlainObject(i)&&Object.keys(i).forEach(e=>{c(this,e,i[e])}),this.constructor===o&&Object.seal(this)}}module.exports=o;
},{"../util":"xr+4","../assert":"lQvG","../event-loop":"jt0G","../signal":"WtLN"}],"y4Kp":[function(require,module,exports) {
const e=require("../util"),t=require("../struct"),{SignalsEmitter:n}=require("../signal"),o=0;class r extends t{constructor(t,n){super(n),e.defineProperty(this,"$element",o,t.element),e.defineProperty(this,"$refs",o,t.refs),e.defineProperty(this,"$context",o,()=>t.context,null)}}e.defineProperty(r.prototype,"constructor",o,r),n.createSignal(r,"on$RefsChange");class s{constructor(t,n){class o extends r{}this.document=t,this.produceInstanceFields=null,this.ExportedConstructor=o,"function"==typeof n?this.produceInstanceFields=n:e.isObject(n)?(Object.keys(n).forEach(e=>{"default"!==e&&(o.prototype[e]=n[e])}),"function"==typeof n.default?this.produceInstanceFields=n.default:this.produceInstanceFields=(()=>n.default)):this.produceInstanceFields=(()=>null)}produceExported(){const e=this.produceInstanceFields()||{};Object.keys(this.document.props).forEach(t=>{t in e||(e[t]=null)});const t=new this.ExportedConstructor(this.document,e);return Object.keys(e).forEach(n=>{"function"==typeof e[n]&&(t[n]=t[n].bind(t))}),t}afterRender(){"function"==typeof this.document.exported.onRender&&this.document.exported.onRender()}beforeRevert(){"function"==typeof this.document.exported.onRevert&&this.document.exported.onRevert()}}module.exports=s;
},{"../util":"xr+4","../struct":"4Y+I","../signal":"WtLN"}],"F/rD":[function(require,module,exports) {
class e{constructor(e,t){this.document=e,this.element=e.element.getChildByAccessPath(t),this.sourceElement=null}render(e){e&&(this.sourceElement=e,e.children.forEach(e=>{e.parent=this.element}))}revert(){this.sourceElement&&(this.element.children.forEach(e=>{e.parent=this.sourceElement}),this.sourceElement=null)}}module.exports=e;
},{}],"emeY":[function(require,module,exports) {
const e=require("../util"),t=require("../assert"),n=require("../event-loop"),s=require("../observable-array");class i{constructor(e,{element:t,component:n,naming:s}){this.document=e,this.element=e.element.getChildByAccessPath(t),this.component=n,this.naming=s,this.data=null,this.pool=[],this.usedComponents=[],this.refs={},this.hiddenDepth=0,this.immediateRenderPending=!1,this.componentListeners={refSet:this.setRef.bind(this),refDelete:this.deleteRef.bind(this)},this.element.onPropsChange.connect(this.handleElementPropsChange,this);let i=this.element;for(;i;)"n-if"in i.props&&i.onVisibleChange.connect(this.handleElementVisibleChange,this),i=i.parent}handleElementVisibleChange(e){const t=!e?-1:1;this.hiddenDepth+=t,this.document.rendered&&null===this.data&&0===this.hiddenDepth?this.renderImmediate():this.document.rendered&&null!==this.data&&this.hiddenDepth>0&&this.revert()}handleElementPropsChange(e){"n-for"===e&&this.document.rendered&&(this.revert(),this.renderImmediate())}setRef(e,t){let n=this.document.refs[e];n||(n=new s,this.document.setRef(e,n)),n.push(t)}deleteRef(t,n){const s=this.document.refs[t];Array.isArray(s)&&e.remove(s,n)}forEachComponentBaseRef(e,t){const n=Object.getPrototypeOf(e.refs);Object.keys(n).forEach(e=>{this[t](e,n[e])})}renderImmediate(){this.immediateRenderPending||(this.immediateRenderPending=!0,n.setImmediate(()=>{this.immediateRenderPending=!1,this.document.rendered&&!this.data&&this.render()}))}render(){if(this.hiddenDepth>0)return;const e=this.element.props["n-for"];e!==this.data&&Array.isArray(e)&&(this.data=e,e instanceof s&&(e.onPush.connect(this.insertItem,this),e.onPop.connect(this.popItem,this)),e.forEach(this.insertItem,this))}revert(){const{data:e}=this;e&&(this.popAllItems(),e instanceof s&&(e.onPush.disconnect(this.insertItem,this),e.onPop.disconnect(this.popItem,this))),this.data=null}updateItem(e,n=e){t.isObject(this.data),t.isInteger(n),this.popItem(n),this.insertItem(n)}getComponent(){if(this.pool.length)return this.pool.pop();return this.component({parent:this.document,root:!1})}insertItem(e,n=e){t.isObject(this.data),t.isInteger(n);const{data:s,naming:i}=this,h=this.getComponent(),o=Object.create(this.document.exported);this.usedComponents.splice(n,0,h),i.item&&(o[i.item]=s[n]),i.index&&(o[i.index]=n),i.array&&(o[i.array]=s);const r=h.element;r.parent=this.element,r.index=n,this.forEachComponentBaseRef(h,"setRef"),h.render({exported:o,context:this.document.context,listeners:this.componentListeners})}popItem(e,n=e){t.isObject(this.data),t.isInteger(n);const s=this.usedComponents[n];this.forEachComponentBaseRef(s,"deleteRef"),s.rendered&&s.revert(),s.element.parent=null,this.pool.push(s),this.usedComponents.splice(n,1)}popAllItems(){for(t.isObject(this.data);this.usedComponents.length;)this.popItem(this.usedComponents.length-1)}}module.exports=i;
},{"../util":"xr+4","../assert":"lQvG","../event-loop":"jt0G","../observable-array":"JLX2"}],"oZSz":[function(require,module,exports) {
(function(){"use strict";var t,e,i,n,s,r,o,l,a,u,h,c;l=require("../assert"),c=require("../util"),s=require("../signal/signal").Signal,u=require("../log"),a=require("../event-loop"),i=require("../renderer"),e=require("./input/prop"),h=require("./element"),r=h.Tag,o=h.Text,u=u.scope("Styles"),n="n-style",t={onClick:"pointer:onClick",onPress:"pointer:onPress",onRelease:"pointer:onRelease",onMove:"pointer:onMove"},module.exports=function(){var h,p,f,m,d,y,v,b;function g(t,e,i){var s,o,l,a;this.document=t,o=e.element,s=e.children,this.parent=null!=i?i:null,this.element=this.document.element.getChildByAccessPath(o),this.children=null!=s?s.map((a=this,function(t){return new g(a.document,t,a)})):void 0,this.item=null,this.propsClass=null,this.scope=null,this.element instanceof r?(l=this.element.props[n],this.isAutoParent=!/^(.+?)\:(.+?)$/.test(l)):this.isAutoParent=!0,this.element._documentStyle=this,this.parent||this.createItemDeeply(),Object.seal(this)}return p=e.isHandler,g.prototype.createClassWithPriority=function(t){var e;return l.ok(this.item),(e=i.Class.New()).target=this.item,null!=t&&(e.priority=t),e},g.prototype.updateText=function(){this.item.text=this.element.text},g.prototype.setPropsClassAttribute=function(t,e){var i;l.instanceOf(this,g),this.propsClass||(this.propsClass=this.createClassWithPriority(9999)),(i=this.propsClass).changes._attributes[t]!==e&&(i.running=!1,i.changes.setAttribute(t,e),i.running=!0)},g.prototype.setProp=(v=function(t){return t.startsWith("style:")},m=function(t){return t.slice("style:".length)},b=Object.create(null),y=function(t){return b[t]||(b[t]=t.split(":"))},d=function(){var t;return t=Object.create(null),function(e){return t[e]||(t[e]=e.replace(/:/g,"."))}}(),f=function(){var t;return t=Object.create(null),function(e){return t[e]||(t[e]="_"+e)}}(),function(e,i,n){var r,o,a,u,h,p,b;if(l.instanceOf(this,g),e.startsWith("n-"))return!1;if(v(e))e=m(e);else if(this.element.constructor._styleAliasesByName){if(p=y(e),!(r=this.element.constructor._styleAliasesByName[p[0]]))return!1;e=r.styleName}else if(!(e=t[e]))return!1;if(p=y(e),h=this.item){for(o=a=0,b=p.length-1;a<b;o=a+=1)if(!(h=h[p[o]]))return!1;return(u=c.last(p))in h&&(f(u),h[u]instanceof s?("function"==typeof n&&h[u].disconnect(n,this.element),"function"==typeof i&&h[u].connect(i,this.element)):this.setPropsClassAttribute(d(e),i),!0)}}),g.prototype.findAndSetVisibility=function(){var t,e;for(l.isDefined(this.item),e=t=this.element;e&&(!e._documentStyle||e===t);){if(!e.visible){this.setVisibility(!1);break}e=e.parent}},g.prototype.setVisibility=function(t){l.isBoolean(t),this.item&&this.setPropsClassAttribute("visible",t)},g.prototype.createItem=function(){var t,e,s,a,h,c,f,m,d,y,v,b,g;if(l.isNotDefined(this.item,"Can't create a style item, because it already exists"),l.isNotDefined(this.element.style,"Can't create a style item, because the element already has a style"),a=!0,(t=this.element)instanceof r?(s=t.props[n],l.isDefined(s,"Tag must specify "+n+" prop to create an item for it")):t instanceof o&&(s=i.Text.New()),s instanceof i.Item)this.item=s,this.isAutoParent=!s.parent;else{if(!Array.isArray(s))throw new Error("Unexpected n-style; '"+s+"' given");if(e=s[0],b=s[1],g=s[2]){for(a=!1,c=this.parent;(f=null!=c?c.element.props[n]:void 0)&&f[0]===e&&f[1]===b&&(v=c.scope,this.item=null!=v?v.objects[g]:void 0),!this.item&&c;)c=c.parent;if(!this.item)return void u.warn("Can't find `"+s+"` style item")}else this.scope=null!=(m=this.document.style[e])&&"function"==typeof m[b]?m[b]():void 0,this.scope||(this.scope=null!=(d=this.document.parent)&&null!=(y=d.style[e])&&"function"==typeof y[b]?y[b]():void 0),this.scope?this.item=this.scope.item:u.warn("Style file `"+s+"` can't be find")}if(this.item){if(this.isAutoParent=!this.item.parent,this.findAndSetVisibility(),t instanceof o&&this.updateText(),t instanceof r)for(h in t.props)p(this.element,h)&&this.setProp(h,t.props[h],null);this.isAutoParent?this.findItemParent():a&&this.findItemIndex(),t.style=this.item,this.item.element=t}},g.prototype.createItemDeeply=a.bindInLock(function(){var t,e,i;if(this.createItem(),this.children)for(t=0,e=(i=this.children).length;t<e;t++)i[t].createItemDeeply()}),g.prototype.findItemParent=function(){var t,e,i;if(!this.isAutoParent)return!1;for(i=this.element.parent;i;){if((e=i._documentStyle)&&(t=e.item)){this.item.parent=t;break}i=i.parent}return!!t||(this.item.parent=null,!1)},g.prototype.setItemParent=function(t){this.isAutoParent&&this.item&&(this.item.parent=t,this.findItemIndex())},h=function(t,e){var i,n;for(i=t;i&&(n=i._parent);){if(n===e)return i;i=n}},g.prototype.findItemIndex=function(){var t,e,i,n,s,r,o,l,a,u,p,f;if(this,e=this.element,!(n=(i=this.item).parent))return!1;for(l=e,n=(null!=(s=n._children)?s._target:void 0)||n,p=l;l;){for(;p;){if(p!==e)if((a=p._documentStyle)&&a.isAutoParent){if((u=a.item)&&(f=h(u,n)))return i!==f&&(i.previousSibling=f),!0}else if(!a){l=p,p=c.last(l.children);continue}p=p._previousSibling}if(l!==e&&l.style)return!0;if(p=l._previousSibling)l=p;else if((l=l._parent)&&(null!=(r=l._documentStyle)?r.item:void 0)===n){for(o=null,t=n.children.firstChild;t;){if(t!==i&&t.element){o=t;break}t=t.nextSibling}return i.nextSibling=o,!0}}return!1},g.prototype.render=function(){var t,e,i,n;if(this.element instanceof r)for(e in this.element.props)p(this.element,e)||this.setProp(e,this.element.props[e],null);if(this.children)for(t=0,i=(n=this.children).length;t<i;t++)n[t].render()},g.prototype.revert=function(){},g}()}).call(this);
},{"../assert":"lQvG","../util":"xr+4","../signal/signal":"XbcT","../log":"fe8o","../event-loop":"jt0G","../renderer":"e2eB","./input/prop":"4AzR","./element":"7MrE"}],"yOtl":[function(require,module,exports) {
const e=require("../util"),t=require("../assert"),r=require("../event-loop"),s=require("../renderer"),n=require("../log"),o=require("./use"),i=require("./log"),h=require("./condition"),l=require("./input/text"),c=require("./input/prop"),p=require("./script"),u=require("./slot"),d=require("./iterator"),a=require("./style-item"),f=e=>(Object.keys(e).forEach(t=>{const r=e[t];"object"==typeof r&&null!=r&&(e[t]=r.default)}),e),m=(e,t)=>Object.create(Object.keys(e).reduce((r,s)=>(r[s]=t.getChildByAccessPath(e[s]),r),{})),y=(e,t,r)=>t?t.map(t=>new e(r,t)):[],g=e=>{const t={};return Object.keys(e).forEach(e=>{t[e]=[]}),t},E=e=>"n"===e[0]&&"-"===e[1]||"ref"===e,b=(e,t)=>{Object.values(e).forEach(e=>{const{selects:r}=e;r&&r.forEach(e=>{const{select:r}=e();r.target=new s.Class.ElementTarget(t),r.running=!0})})},x=Object.create(null),O=Object.create(null),q=Symbol("localPool"),v=Symbol("renderProps"),C=Symbol("renderOnPropsChange"),k=Symbol("renderSourceElement"),j=Symbol("renderListeners"),P=Symbol("callRenderListener");let w,I;w={},I=(e=>{const{path:t}=e;w[t]=w[t]||[],w[t].push(e)});class S{constructor(r,s,n){t.isString(r),t.notLengthOf(r,0),this.path=r,this.parent=n&&n.parent||null,this.element=s.element,this.imports=s.imports?f(s.imports):{},this.components=s.components||{},this.refs=s.refs?m(s.refs,this.element):{},this.props=s.props||{},this.script=new p(this,s.script),this.exported=null,this.root=!n||null==n.root||n.root,this.inputs=y(l,s.textInputs,this).concat(y(c,s.propInputs,this)),this.conditions=y(h,s.conditions,this),this.iterators=y(d,s.iterators,this),this.logs=y(i,s.logs,this),this.style=s.style||{},this.styleItems=y(a,s.styleItems,this),this.slot=s.slot?new u(this,s.slot):null,this.uses=y(o,s.uses,this),this.context=null,this.rendered=!1,this[q]=g(this.components),this[v]=null,this[C]=null,this[k]=null,this[j]=null,this.uid=e.uid(),Object.seal(this),I(this),b(this.style,this.element)}[P](e,t,r){const s=this[j];s&&"function"==typeof s[e]&&s[e](t,r)}getComponent(e){const t=this.imports[e];if(t){const e=O[t];return e.length>0?e.pop():x[t].constructor()}const r=this.components[e];if(r){const t=this[q][e];return t.length>0?t.pop():r({parent:this})}return this.parent?this.parent.getComponent(e):null}returnComponent(e,r){t.notOk(r.rendered,"Cannot return rendered component");const s=this.imports[e];if(s)O[s].push(r);else if(this.components[e])this[q][e].push(r);else{if(!this.parent)throw new Error("Unknown component given to return");this.parent.returnComponent(e,r)}}reloadProp(e){E(e)||(this.props[e]?this.exported[e]=this[v][e]:n.warn(`Trying to set unknown \`${e}\` prop on component \`${this.path}\``))}setRef(e,t){if(!t)return;const r=this.refs[e];r&&this[P]("refDelete",e,r),this.refs[e]=t,this[P]("refSet",e,t),this.exported.emit("on$RefsChange")}deleteRef(e){const t=this.refs[e];delete this.refs[e],this[P]("refDelete",e,t),this.exported.emit("on$RefsChange")}render({context:e=null,props:r=null,onPropsChange:s,sourceElement:n=null,listeners:o=null,exported:i=null}={}){t.notOk(this.rendered,"Document is already rendered"),this.exported=null===i?this.script.produceExported():i,this.context=e,"object"==typeof r&&null!==r&&(this[v]=r,Object.keys(r).forEach(this.reloadProp,this)),s&&"function"==typeof s.connect&&(this[C]=s,s.connect(this.reloadProp,this)),this[k]=n,this[j]=o,this.inputs.forEach(e=>e.render()),this.conditions.forEach(e=>e.render()),this.uses.forEach(e=>e.render()),this.iterators.forEach(e=>e.render()),this.slot&&this.slot.render(n),this.styleItems.forEach(e=>e.render()),this.logs.forEach(e=>e.render()),this.rendered=!0,this.root&&this.script.afterRender()}revert(){t.ok(this.rendered,"Document is not rendered"),this.root&&this.script.beforeRevert(),this[v]=null,this[C]&&(this[C].disconnect(this.reloadProp,this),this[C]=null),this[k]=null,this.inputs.forEach(e=>e.revert()),this.conditions.forEach(e=>e.revert()),this.uses.forEach(e=>e.revert()),this.iterators.forEach(e=>e.revert()),this.slot&&this.slot.revert(),this.styleItems.forEach(e=>e.revert()),this.rendered=!1,this[j]=null,this.exported=null}}S.prototype.render=r.bindInLock(S.prototype.render),S.prototype.revert=r.bindInLock(S.prototype.revert),S.register=((e,t,{dependencies:r})=>{x[e]={constructor:t,dependencies:r},O[e]=[]}),S.getComponentConstructorOf=(e=>{const t=x[e];return t?t.constructor:null}),S.reload=(e=>{w[e]=[],O[e]=[],Object.keys(x).filter(t=>x[t].dependencies.includes(e)).forEach(t=>{w[t].filter(e=>e.rendered).forEach(t=>{r.callInLock(()=>{const{context:r,exported:s}=t,n=t[v],o=t[C],i=t[k],h=t[j];t.revert(),O[e]=[],t.render({context:r,props:n,onPropsChange:o,sourceElement:i,listeners:h,exported:s})})})})}),module.exports=S;
},{"../util":"xr+4","../assert":"lQvG","../event-loop":"jt0G","../renderer":"e2eB","../log":"fe8o","./use":"E1EV","./log":"4b8H","./condition":"M3fp","./input/text":"glk2","./input/prop":"4AzR","./script":"y4Kp","./slot":"F/rD","./iterator":"emeY","./style-item":"oZSz"}],"9MP4":[function(require,module,exports) {
const e=require("../renderer"),t=require("../document"),n=require("../document/element"),r=require("../event-loop"),o=(r,o)=>{const s=new n.Tag;s.props.set("n-component","Content"),s.props.set("n-style",["__default__","item"]);const m=new t("__window__",{style:{__default__:{item:()=>{const t=e.Item.New({layout:"flow"});return{objects:{item:t},item:t}}}},styleItems:[{element:[],children:[]}],imports:{Content:r},uses:[[]],element:s});return m.render(o),e.setWindowItem(s.style),m};let s;module.exports=((e,n)=>{r.setImmediate(()=>{t.register("__window__",null,{dependencies:[e]}),s?(s.rendered&&s.revert(),s.imports.Content=e,s.render(n)):s=o(e,n)})});
},{"../renderer":"e2eB","../document":"yOtl","../document/element":"7MrE","../event-loop":"jt0G"}],"fIYE":[function(require,module,exports) {
exports.render=require("./render");
},{"./render":"9MP4"}],"HdfL":[function(require,module,exports) {
{let E=-1;exports.in={EVENT:E+=1,SCREEN_SIZE:E+=1,SCREEN_ORIENTATION:E+=1,SCREEN_STATUSBAR_HEIGHT:E+=1,SCREEN_NAVIGATIONBAR_HEIGHT:E+=1,NAVIGATOR_LANGUAGE:E+=1,NAVIGATOR_ONLINE:E+=1,DEVICE_PIXEL_RATIO:E+=1,DEVICE_IS_PHONE:E+=1,POINTER_PRESS:E+=1,POINTER_RELEASE:E+=1,POINTER_MOVE:E+=1,DEVICE_KEYBOARD_SHOW:E+=1,DEVICE_KEYBOARD_HIDE:E+=1,DEVICE_KEYBOARD_HEIGHT:E+=1,KEY_PRESS:E+=1,KEY_HOLD:E+=1,KEY_INPUT:E+=1,KEY_RELEASE:E+=1,IMAGE_SIZE:E+=1,TEXT_SIZE:E+=1,FONT_LOAD:E+=1,NATIVE_ITEM_WIDTH:E+=1,NATIVE_ITEM_HEIGHT:E+=1,WINDOW_RESIZE:E+=1,ITEM_KEYS_FOCUS:E+=1}}{let E=-1;exports.out={LOCK:E+=1,RELEASE_LOCK:E+=1,CALL_FUNCTION:E+=1,SET_SCREEN_STATUSBAR_COLOR:E+=1,DEVICE_LOG:E+=1,DEVICE_SHOW_KEYBOARD:E+=1,DEVICE_HIDE_KEYBOARD:E+=1,SET_WINDOW:E+=1,CREATE_ITEM:E+=1,SET_ITEM_PARENT:E+=1,INSERT_ITEM_BEFORE:E+=1,SET_ITEM_VISIBLE:E+=1,SET_ITEM_CLIP:E+=1,SET_ITEM_WIDTH:E+=1,SET_ITEM_HEIGHT:E+=1,SET_ITEM_X:E+=1,SET_ITEM_Y:E+=1,SET_ITEM_SCALE:E+=1,SET_ITEM_ROTATION:E+=1,SET_ITEM_OPACITY:E+=1,SET_ITEM_KEYS_FOCUS:E+=1,CREATE_IMAGE:E+=1,SET_IMAGE_SOURCE:E+=1,CREATE_TEXT:E+=1,SET_TEXT:E+=1,SET_TEXT_WRAP:E+=1,UPDATE_TEXT_CONTENT_SIZE:E+=1,SET_TEXT_COLOR:E+=1,SET_TEXT_LINE_HEIGHT:E+=1,SET_TEXT_FONT_FAMILY:E+=1,SET_TEXT_FONT_PIXEL_SIZE:E+=1,SET_TEXT_FONT_WORD_SPACING:E+=1,SET_TEXT_FONT_LETTER_SPACING:E+=1,SET_TEXT_ALIGNMENT_HORIZONTAL:E+=1,SET_TEXT_ALIGNMENT_VERTICAL:E+=1,CREATE_NATIVE_ITEM:E+=1,ON_NATIVE_ITEM_POINTER_PRESS:E+=1,ON_NATIVE_ITEM_POINTER_RELEASE:E+=1,ON_NATIVE_ITEM_POINTER_MOVE:E+=1,LOAD_FONT:E+=1,CREATE_RECTANGLE:E+=1,SET_RECTANGLE_COLOR:E+=1,SET_RECTANGLE_RADIUS:E+=1,SET_RECTANGLE_BORDER_COLOR:E+=1,SET_RECTANGLE_BORDER_WIDTH:E+=1}}
},{}],"v5vf":[function(require,module,exports) {
let E=-1;module.exports={EVENT_NULL_TYPE:E+=1,EVENT_BOOLEAN_TYPE:E+=1,EVENT_INTEGER_TYPE:E+=1,EVENT_FLOAT_TYPE:E+=1,EVENT_STRING_TYPE:E+=1};
},{}],"3KnA":[function(require,module,exports) {
(function(){"use strict";var e,n,t,o,s,r,i,a;i=require("../util"),s=require("../log"),e=require("../assert"),n=require("../event-loop"),o=Object.create(null),r={booleans:null,booleansIndex:0,integers:null,integersIndex:0,floats:null,floatsIndex:0,strings:null,stringsIndex:0,getBoolean:function(){if(this.booleansIndex>=this.booleans.length)throw new Error("Index "+this.booleansIndex+" out of range for native booleans array");return this.booleans[this.booleansIndex++]},getInteger:function(){if(this.integersIndex>=this.integers.length)throw new Error("Index "+this.booleansIndex+" out of range for native integers array");return this.integers[this.integersIndex++]},getFloat:function(){if(this.floatsIndex>=this.floats.length)throw new Error("Index "+this.booleansIndex+" out of range for native floats array");return this.floats[this.floatsIndex++]},getString:function(){if(this.stringsIndex>=this.strings.length)throw new Error("Index "+this.booleansIndex+" out of range for native strings array");return this.strings[this.stringsIndex++]}},Object.preventExtensions(r),exports.onData=function(t,i,a,u,l){var g,x,c,h,f;for(r.booleans=i,r.booleansIndex=0,r.integers=a,r.integersIndex=0,r.floats=u,r.floatsIndex=0,r.strings=l,r.stringsIndex=0,n.lock(),h=0,f=t.length;h<f;h++){g=t[h],c=o[g];try{e.isFunction(c,"unknown native action got '"+g+"'"),c(r)}catch(p){x=p,s.error("Uncaught error when processing native events",x)}}n.release(),exports.sendData()},exports.addActionListener=function(n,t){e.isInteger(n),e.isFunction(t),e.isNotDefined(o[n],"action '"+n+"' already has a listener"),o[n]=t},exports.sendData=function(){},exports.pushAction=function(e){},exports.pushBoolean=function(e){},exports.pushInteger=function(e){},exports.pushFloat=function(e){},exports.pushString=function(e){},exports.registerNativeFunction=function(){},exports.publishNativeEvent=function(){},exports.sendDataInLock=function(){return exports.sendData()},null!=t&&i.merge(exports,t(exports)),exports.pushAction=(a=exports.pushAction,function(n){e.isInteger(n,"integer expected, but '"+n+"' given"),a(n)}),exports.pushBoolean=function(n){return function(t){e.isBoolean(t,"boolean expected, but '"+t+"' given"),n(t)}}(exports.pushBoolean),exports.pushInteger=function(n){return function(t){e.isInteger(t,"integer expected, but '"+t+"' given"),n(t)}}(exports.pushInteger),exports.pushFloat=function(n){return function(t){e.isFloat(t,"float expected, but '"+t+"' given"),n(t)}}(exports.pushFloat),exports.pushString=function(n){return function(t){e.isString(t,"string expected, but '"+t+"' given"),n(t)}}(exports.pushString)}).call(this);
},{"../util":"xr+4","../log":"fe8o","../assert":"lQvG","../event-loop":"jt0G"}],"lyAl":[function(require,module,exports) {
(function(){"use strict";var e,t,n,a,i,r,s,o,u,c,l,g,v,p,N;p=require("../util"),o=require("../assert"),g=require("../log"),s=require("./actions"),c=require("./event-types"),u=require("./bridge"),v=s.out,e=v.CALL_FUNCTION,v.CALL_FUNCTION_WITH_CALLBACK,i=c.EVENT_NULL_TYPE,t=c.EVENT_BOOLEAN_TYPE,a=c.EVENT_INTEGER_TYPE,n=c.EVENT_FLOAT_TYPE,r=c.EVENT_STRING_TYPE,l=Object.create(null),u.addActionListener(s.in.EVENT,(N=[],function(e){var s,o,u,c,v,p,E;for(p=e.getString(),o=u=0,E=e.getInteger();u<E;o=u+=1)switch(e.getInteger()){case i:N[o]=null;break;case t:N[o]=e.getBoolean();break;case a:N[o]=e.getInteger();break;case n:N[o]=e.getFloat();break;case r:N[o]=e.getString();break;default:throw new Error("Unexpected native event argument type")}if(s=l[p])for(c=0,v=s.length;c<v;c++)s[c].apply(null,N);else g.warn("No listeners added for the native event '"+p+"'")})),exports.callNativeFunction=function(s,c,l,v){var N,E,b,h,d;for(o.isString(s,"native.callNativeFunction name needs to be a string, but "+s+" given"),o.notLengthOf(s,0,"native.callNativeFunction name cannot be an empty string"),u.pushAction(e),u.pushString(s),E=arguments.length-1,u.pushInteger(E),b=h=0,d=E;0<=d?h<d:h>d;b=0<=d?++h:--h)switch(N=arguments[b+1],!0){case"boolean"==typeof N:u.pushInteger(t),u.pushBoolean(N);break;case"string"==typeof N:u.pushInteger(r),u.pushString(N);break;case p.isInteger(N):u.pushInteger(a),u.pushInteger(N);break;case"number"==typeof N:o.isFloat(N,"NaN can't be passed to the native function"),u.pushInteger(n),u.pushFloat(N);break;default:null!=N&&g.warn("Native function can be called with a boolean, integer, float or a string, but '"+N+"' given"),u.pushInteger(i)}},exports.callFunction=p.deprecate(exports.callNativeFunction,"Neft.native.callFunction is deprecated; use callNativeFunction instead"),exports.onNativeEvent=function(e,t){o.isString(e,"native.onNativeEvent name needs to be a string, but "+e+" given"),o.notLengthOf(e,0,"native.onNativeEvent name cannot be an empty string"),o.isFunction(t,"native.onNativeEvent listener needs to be a function, but "+t+" given"),(null!=l[e]?l[e]:l[e]=[]).push(t)},exports.on=p.deprecate(exports.onNativeEvent,"Neft.native.on is deprecated; use onNativeEvent instead"),exports.registerNativeFunction=u.registerNativeFunction,exports.publishNativeEvent=u.publishNativeEvent}).call(this);
},{"../util":"xr+4","../assert":"lQvG","../log":"fe8o","./actions":"HdfL","./event-types":"v5vf","./bridge":"3KnA"}],"Ue2/":[function(require,module,exports) {
const{render:e}=require("./initializer"),{callNativeFunction:r,onNativeEvent:t,registerNativeFunction:o,publishNativeEvent:s}=require("./native"),{SignalDispatcher:i,SignalsEmitter:a}=require("./signal"),n=require("./resources"),u=require("./renderer"),p=require("./log"),c=require("./document"),x=require("./document/element");exports.callNativeFunction=r,exports.onNativeEvent=t,exports.logger=p,exports.util=require("./util"),exports.Struct=require("./struct"),exports.ObservableArray=require("./observable-array"),exports.SignalDispatcher=i,exports.SignalsEmitter=a,exports.Document=c,exports.Element=x,exports.CustomTag=x.Tag.CustomTag,exports.render=e,exports.Renderer=u,exports.loadFont=u.loadFont,exports.NativeStyleItem=u.Native,exports.Device=u.Device,exports.Screen=u.Screen,exports.Navigator=u.Navigator,exports.Resource=n.Resource,exports.Resources=n,exports.resources=new n,u.setResources(exports.resources),Object.freeze(exports);
},{"./initializer":"fIYE","./native":"lyAl","./signal":"WtLN","./resources":"fuji","./renderer":"e2eB","./log":"fe8o","./document":"yOtl","./document/element":"7MrE","./util":"xr+4","./struct":"4Y+I","./observable-array":"JLX2"}],"lp4R":[function(require,module,exports) {
module.exports=require("./src");
},{"./src":"Ue2/"}],"OBhE":[function(require,module,exports) {
const t=1,e=2,s=4,o=8,c=16,n=32,r=64,l=128,i=256,a=512,p=1024,u=2048,w=["<","/","s","c","r","i","p","t",">"],C=["<","/","s","t","y","l","e",">"],L={noAttributeValue:""};let b=0;const g=t=>{b|=t},y=t=>{b&=~t},m=t=>(b&t)>0;exports.parse=((t,e,s=L)=>{const{opentag:o,closetag:c,attribute:n,text:r,comment:l,instruction:i}=e,{noAttributeValue:a}=s;let p=0,u=0,x=0,A="",V="",f="",h="",d=0,j=0;const k=()=>{g(2),o(h,d,j),f=h,h=""},q=()=>{A||(A=h,h=a),n(A,h,d,j),A="",h="",y(4)},{length:v}=t;for(let L=0;L<v;L+=1){const e=t[L];"\n"===e&&(d+=1,j=0),m(512)?"-"!==e||0!==p&&1!==p?">"===e&&2===p?(l(h.slice(2,-2),d,j),h="",p=0,y(256),y(512),y(1)):(h+=e,"-"!==e&&(p=0)):(h+=e,p+=1):m(256)&&"-"===e&&0===p?(h+=e,p+=1):m(256)&&"-"===e&&1===p?(h+=e,g(512),p=0):m(256)&&">"===e?(i(h,d,j),h="",y(256),y(1)):m(256)?(h+=e,p=-1):"!"!==e||!m(1)||m(2)||m(4)||h?m(1024)?e.toLowerCase()===w[u]?8===u?(r(h.slice(0,-8),d,j),c("script",d,j),h="",u=0,y(1024),y(1)):(h+=e,u+=1):(h+=e,u=0):m(2048)?e.toLowerCase()===C[x]?7===x?(r(h.slice(0,-7),d,j),c("style",d,j),h="",x=0,y(2048),y(1)):(h+=e,x+=1):(h+=e,x=0):"<"!==e||m(1)?'"'===e&&m(64)?(y(64),y(16),y(4)):'"'===e&&m(4)&&!m(16)?(g(64),g(16)):"'"===e&&m(32)?(y(32),y(16),y(4)):"'"===e&&m(4)&&!m(16)?(g(32),g(16)):"}"===e&&m(128)?(y(128),y(16),y(4),h+=e):"{"===e&&m(4)&&!m(16)?(g(128),g(16),h+=e):"/"===e&&m(1)&&!m(4)?g(8):">"===e&&m(1)&&!m(16)?(V||m(2)||!h&&m(8)||k(),(A||h)&&q(),m(8)?(c(V,d,j),V=""):("script"===f.toLowerCase()&&g(1024),"style"===f.toLowerCase()&&g(2048)),y(1),y(2),y(8)):" "===e&&m(1)&&!m(2)?k():" "===e&&m(1)&&!m(16)&&(A||h)?q():"="===e&&m(1)&&!m(4)?(g(4),A=h,h=""):" "===e&&m(1)&&!m(4)||"\n"===e&&m(1)||(m(8)?V+=e:h+=e):(g(1),h&&(r(h,d,j),h="")):g(256),j+=1}h&&r(h,d,j),b=0});
},{}],"CH8g":[function(require,module,exports) {
const t=require("lite-html-parser"),{util:e,Element:n}=require("@neft/core"),{Tag:r}=n,{customTags:s}=r.CustomTag;class o extends Error{constructor(t,e,n,r){super(t),this.message=t,this.xhtml=e,this.line=n,this.row=r,this.name="ParserError"}}module.exports=(a=>{const l=new n.Tag,u=[],c=()=>e.last(u),i=t=>{const e=c()||l;t.parent=e};if(t.parse(a,{opentag(t){const e=new(s[t]||r);return e.name=t,i(e),u.push(e)},closetag(t,e,n){const r=c();if((""===r.name||""!==t)&&r.name!==t)throw new o(`Expected \`${r.name}\` tag to be closed, but \`${t}\` found`,a,e,n);return u.pop()},attribute(t,e){c().props.set(t,e)},text(t){if(!t.replace(/[\t\n]/gm,""))return;const e=new n.Text;e.text=t,i(e)},comment(){},instruction(){}},{noAttributeValue:"{true}"}),u.length>0){const t=a.split("\n"),n=t.length-1,r=e.last(t).length;throw new o(`Element ${u[0].name} is not closed`,a,n,r)}return l});
},{"lite-html-parser":"OBhE","@neft/core":"lp4R"}],"86VO":[function(require,module,exports) {
const{Element:e}=require("@neft/core"),{Tag:t,Text:n}=e,r=function(e){if(e instanceof n){if(-1===e.text.indexOf("\n"))return;e.text=e.text.replace(/^\s+$/gm,""),e.text=e.text.replace(/^[\n\r]|[\n\r]$/g,"");const t=Math.min(...e.text.match(/^( *)/gm).map(e=>e.length));t>0&&(e.text=e.text.replace(new RegExp(`^ {${t}}`,"gm"),"")),0===e.text.length&&(e.parent=null)}e instanceof t&&e.children.slice().forEach(r)};module.exports=r;
},{"@neft/core":"lp4R"}],"caHh":[function(require,module,exports) {
const r=(r,n)=>{const e=[];return r.queryAll("n-import").forEach(r=>{const{src:o,as:t}=r.props;r.parent=null,o&&t?e.push({src:o,name:t}):n.warning(new Error('<n-import> must provide src="" and as="" properties'))}),e};module.exports=function(n,e){let o="",t="";r(n,e).forEach(r=>{e.dependencies.push(r.src),o+=`"${r.name}": require('${r.src}'),`}),o.length&&e.addProp("imports",()=>`{${o}}`),n.queryAll("n-component").forEach(r=>{const{name:n}=r.props;if(!n)return;if(r.queryParents("n-component"))return;r.name="",r.parent=null;const o={resourcePath:`${e.resourcePath}#${n}`};t+=`"${n}": ${e.parseComponentElement(r,o)}, `}),t.length&&e.addProp("components",()=>`{${t}}`)};
},{}],"wPCc":[function(require,module,exports) {
const{Element:e}=require("@neft/core"),{Text:n,Tag:t}=e,r=(e,n,r)=>{Object.keys(n).forEach(s=>{e.queryAll(s).forEach(e=>{e instanceof t?e.props.set("n-style",n[s]):r.warning(`Styles cannot be attached to texts; ${s} has been omitted`)})})},s=(e,r)=>{const l=r instanceof t,o=r instanceof n,a=l&&r.props["n-style"],c=[];return l&&r.children.forEach(n=>{c.push(...s(e,n))}),o||a?[{element:r.getAccessPath(e),children:l?c:null}]:c},l=e=>{let n="{ ";return e.forEach(e=>{const t=e.link?`require('${e.href}')`:`((module) => {\n\n${e.bundle}\n\nreturn module.exports\n})({})`;n+=`'${e.name}': ${t}, `}),n+=" }"};module.exports=((e,n)=>{const t=[],o={},a=(e,n,{link:r=!1}=!1)=>{const s={};Object.entries(n.queries).forEach(([n,t])=>{s[n]=[e,...t]}),Object.assign(o,s),t.push({...n,name:e,href:n.path,link:r})};let c=!1;const u=e.query("style");if(u&&(u.parent=null,c=!!u.props.bare),c||n.defaultStyles.forEach(e=>{a(e.name,e,{link:!!e.path})}),u){const e=n.styles[n.resourcePath];a("__default__",{bundle:e.value,queries:e.queries})}t.length&&r(e,o,n),n.addProp("style",()=>l(t)),n.addProp("styleItems",()=>{const n=s(e,e);return JSON.stringify(n)});const i=e.queryAll("style");i.length>0&&(n.warning(new Error("Component file can contain only one <style> tag")),i.forEach(e=>{e.parent=null}))});
},{"@neft/core":"lp4R"}],"Cd4l":[function(require,module,exports) {
const{Element:n}=require("@neft/core"),r=n=>{if(!n.includes(" in "))return null;const r=n.split(" in ");let e=r[0];"("===e[0]&&")"===e[e.length-1]&&(e=e.slice(1,-1));const t=e.split(",").map(n=>n.trim());return{item:t[0]||"",index:t[1]||"",array:t[2]||"",binding:r[1]}};module.exports=((e,t)=>{const o=[];e.queryAll("[n-for]").forEach((e,s)=>{if(e.queryParents("[n-for]"))return;const i=e.props["n-for"];if("string"!=typeof i)return;const f=new n.Tag;e.children.forEach(n=>{n.parent=f});const l=t.parseComponentElement(f,{resourcePath:`${t.resourcePath}#n-for-${s}`,defaultStyles:[]}),a=r(i);a||t.error(new Error(`Invalid syntax of \`n-for="${e.props["n-for"]}"\``)),e.props["n-for"]=a.binding,o.push({forElem:e,forComponent:l,syntax:a})}),o.length&&t.addProp("iterators",()=>{let n="";return o.forEach(({forElem:r,forComponent:t,syntax:o})=>{n+=`{ element: ${JSON.stringify(r.getAccessPath(e))}, component: ${t}, naming: ${JSON.stringify(o)} }, `}),`[${n}]`})});
},{"@neft/core":"lp4R"}],"57Dr":[function(require,module,exports) {
module.exports=function(n,r){const e=n.query("script");if(!e)return;e.parent=null,r.addProp("script",()=>`((module) => {      const { exports } = module;\n\n      (() => {\n\n${r.scripts[r.resourcePath].value}\n\n})();\n\n      return module.exports;\n    })({ exports: {} })`);const t=n.queryAll("script");t.length>0&&(r.warning(new Error("Component file can contain only one <script> tag")),t.forEach(n=>{n.parent=null}))};
},{}],"o8zv":[function(require,module,exports) {
module.exports=function(n,o){const r=n.query("n-props");r&&(r.parent=null,o.addProp("props",()=>JSON.stringify(r.props)),n.query("n-props")&&o.warning(new Error("Component file can contain only one <n-props> tag")))};
},{}],"1WFF":[function(require,module,exports) {
const e=e=>e.nextSibling&&e.nextSibling.props&&e.nextSibling.props.has("n-else")?e.nextSibling:null;module.exports=((n,t)=>{const l=n.queryAll("[n-if]");l.length&&t.addProp("conditions",()=>{let t="";return l.forEach(l=>{const s=e(l),i=l.getAccessPath(n),o=s?s.getAccessPath(n):null;t+=`{element: ${JSON.stringify(i)}, `,t+=`elseElement: ${JSON.stringify(o)}}, `}),`[${t}]`})});
},{}],"ipVS":[function(require,module,exports) {
const{Element:e}=require("@neft/core");module.exports=((n,s)=>{const t=[],o=n=>{if(!(n instanceof e.Tag))return;n.children.forEach(o);const{name:s}=n;s.length>0&&s[0].toUpperCase()===s[0]&&(n.props["n-component"]=s,t.push(n)),"n-use"===n.name&&(t.push(n),n.name="blank")};o(n),t.length&&s.addProp("uses",()=>JSON.stringify(t.map(e=>e.getAccessPath(n))))});
},{"@neft/core":"lp4R"}],"a2Ly":[function(require,module,exports) {
var t,n,i,e;exports.BINDING_THIS_TO_TARGET_OPTS=n=1,exports.CHANGE_THIS_TO_SELF=t=2,e=function(t,n){var i,e,r;for(e=t,i=0,r=n-1;i<r;i+=1)e+=t;return e},i=function(t,n){var i;if("["!==t[n])return!1;for(;n++<t.length;){if("]"===(i=t[n]))return!0;if(!/[0-9]/.test(i))return!1}return!1},exports.isBinding=function(t){try{return new Function("console","'use strict'; return "+t+";").call(null),!1}catch(n){}return!0},exports.parse=function(r,l,s,o,u){var f,h,g,c,p,a,d,y,T,_,v,x,B,S,m,I,P,A,b,E,F,G,H;for(null==s&&(s=0),null==o&&(o={}),null==u&&(u=function(){return!1}),f=[""],B=null,T=!1,d=!1,p=_=0,S=(r+=" ").length;_<S;p=++_)h=r[p],d&&"]"===h?d=!1:(y=!T&&i(r,p),"."!==h&&!y||!B?(B&&(T||/[a-zA-Z_0-9$]/.test(h))?B[B.length-1]+=h:!T&&/[a-zA-Z_$]/.test(h)?(B=[h],f.push(B)):null===B?f[f.length-1]+=h:(B=null,f.push(h)),"'"!==h&&'"'!==h||"\\"===r[p-1]||(T=!T)):(d=y,B.push("")));for(p=v=0,m=f.length;v<m;p=++v)"string"!=typeof(g=f[p])&&(g=("function"==typeof o.modifyBindingPart?o.modifyBindingPart(g):void 0)||g,s&t&&"this"===g[0]&&(g[0]="self"),(H="parent"===(E=g[0])||"nextSibling"===E||"previousSibling"===E||"target"===E)||(H=null!=(F=o.globalIdToThis)?F[g[0]]:void 0),H||(H="function"==typeof o.shouldPrefixByThis?o.shouldPrefixByThis(g[0]):void 0),H&&g.unshift("this"),s&n&&"this"===g[0]&&g.splice(1,0,"target"),(!l(g[0])||0!==p&&"."===f[p-1][f[p-1].length-1])&&(f[p]=g.join(".")));for(p=-1,b=f.length;++p<b;)if("string"==typeof f[p]){if("string"==typeof f[p-1])f[p-1]+=f[p];else if(""!==f[p].trim())continue;f.splice(p,1),b--}for(G="",c="",p=x=0,I=f.length;x<I;p=++x)if("string"==typeof(g=f[p]))c+=g;else if(g.length>1)for(null!=f[p-1]&&G&&(G+=", "),G+=e("[",g.length-1),u(g[0])?G+=""+g[0]:G+="'"+g[0]+"'","this"===g[0]?c+="this":c+=""+g[0],g.shift(),p=A=0,P=g.length;A<P;p=++A)G+=", '"+(a=g[p])+"']",isFinite(a)?c+="["+a+"]":c+="."+a;else"this"===g[0]?c+="this":c+=""+g[0];return{hash:c=c.trim(),connections:G="["+G.trim()+"]"}};
},{}],"52Yg":[function(require,module,exports) {
var global = arguments[3];
var global=arguments[3],PARSER_FLAGS,PARSER_OPTS,bindingParser,isPublicId,logger,shouldBeUpdatedOnCreate;logger=require("@neft/core").logger,bindingParser=require("@neft/compiler-binding"),PARSER_FLAGS=bindingParser.CHANGE_THIS_TO_SELF,PARSER_OPTS={shouldPrefixByThis:function(r){return"this"!==r&&"global"!==r&&"Neft"!==r&&"typeof"!==r&&"true"!==r&&"false"!==r&&"null"!==r&&"undefined"!==r&&"self"!==r&&!(r in global)}},isPublicId=function(r){return"this"===r},shouldBeUpdatedOnCreate=function(r){var e;return e=r[0],Array.isArray(e)?shouldBeUpdatedOnCreate(e):!("this"===e||"context"===e)},module.exports=function(text,scopeProps){var blocks,charStr,connections,err,funcBody,hash,i,innerBlocks,isBlock,isString,n,parsed,str;for(text=text.replace(/[\t\n]/gm,""),str="",hash="",connections=[],isString=isBlock=!1,blocks=0,innerBlocks=0,i=0,n=text.length;i<n;){if(charStr=text[i],"{"===charStr)isBlock=!0,blocks+=1,(""!==str||blocks>1)&&(hash+='"'+str+'" + '),str="";else if("{"===charStr)innerBlocks+=1,str+=charStr;else if("}"===charStr)if(innerBlocks>0)innerBlocks-=1,str+=charStr;else{if(!isBlock)return void logger.error("Interpolated string parse error: '"+text+"'");parsed=bindingParser.parse(str,isPublicId,PARSER_FLAGS,PARSER_OPTS),hash+="("+parsed.hash+") + ",connections.push.apply(connections,eval(parsed.connections)),str=""}else str+=charStr;i++}""===str?hash=hash.slice(0,-3):hash+='"'+str+'"',funcBody="return "+hash;try{new Function(funcBody)}catch(error){return err=error,logger.error("Can't parse string literal:\n"+text+"\n"+err.message),null}return{body:funcBody,connections:connections}};
},{"@neft/core":"lp4R","@neft/compiler-binding":"a2Ly"}],"bEyb":[function(require,module,exports) {
const{Element:t}=require("@neft/core"),e=require("./input-parser"),{Tag:n,Text:s}=t,o=/{([^}]*)}/g,c=t=>(o.lastIndex=0,t&&o.test(t));module.exports=function(t,o){const r=[],i=[],p=t=>{if(t instanceof s){const{text:n}=t;if(c(n)){const s=e(n);s&&(r.push({element:t,interpolation:s,text:n}),t.text="")}}else if(t instanceof n){const{props:n,children:s}=t;Object.keys(n).forEach(s=>{const o=n[s];if(c(o)){const c=e(o);n.set(s,null);const r="n"===s[0]&&"-"===s[1]?"unshift":"push";i[r]({element:t,prop:s,interpolation:c,text:o})}}),s.forEach(p)}};p(t);const l=e=>JSON.stringify(e.map(({element:e,...n})=>({element:e.getAccessPath(t),...n})));r.length&&o.addProp("textInputs",()=>l(r)),i.length&&o.addProp("propInputs",()=>l(i))};
},{"@neft/core":"lp4R","./input-parser":"52Yg"}],"dKVp":[function(require,module,exports) {
module.exports=((e,r)=>{const n={};e.queryAll("[n-ref]").concat(e.queryAll("[ref]")).forEach(e=>{const s=e.props["n-ref"]||e.props.ref;n[s]?r.warning(new Error(`n-ref ${s} is already defined`)):n[s]=e}),Object.keys(n).length&&r.addProp("refs",()=>{const r=Object.keys(n).reduce((r,s)=>(r[s]=n[s].getAccessPath(e),r),{});return JSON.stringify(r)})});
},{}],"TsZT":[function(require,module,exports) {
module.exports=((e,l)=>{const o=e.queryAll("n-log");o.length&&(o.forEach(e=>{e.visible=!1}),l.addProp("logs",()=>JSON.stringify(o.map(l=>l.getAccessPath(e)))))});
},{}],"KhSE":[function(require,module,exports) {
module.exports=(l=>{const e=l.queryAll("n-call");e.length&&e.forEach(l=>{l.visible=!1})});
},{}],"DfhC":[function(require,module,exports) {
module.exports=((n,o)=>{const[e,r]=n.queryAll("n-slot").concat(n.queryAll("n-target"));e&&(r&&o.error(new Error("Component can have only one <n-slot />")),e.name="blank",o.addProp("slot",()=>JSON.stringify(e.getAccessPath(n))))});
},{}],"y4su":[function(require,module,exports) {
const{Element:{Tag:e}}=require("@neft/core");module.exports=((n,r)=>{const o=n=>{n instanceof e&&(n.name.startsWith("n-")&&n.visible&&r.error(new Error(`Unknown tag ${n.name}`)),n.children.forEach(o))};o(n)});
},{"@neft/core":"lp4R"}],"JaWY":[function(require,module,exports) {
const e=require("./xhtml-parser"),r=[require("./parse/clear"),require("./parse/components"),require("./parse/styles"),require("./parse/iterators"),require("./parse/scripts"),require("./parse/props"),require("./parse/conditions"),require("./parse/uses"),require("./parse/storage"),require("./parse/refs"),require("./parse/logs"),require("./parse/calls"),require("./parse/slot"),require("./parse/unknowns")],s=Symbol("props"),t=Symbol("propsToAdd");class o{constructor({scripts:e,styles:r,resourcePath:o,defaultStyles:n}){this.error=console.error,this.warning=console.warn,this.scripts=e,this.styles=r,this.resourcePath=o,this.defaultStyles=n,this.dependencies=[],this[s]={},this[t]={}}addProp(e,r){this[t][e]=r}propsToCode(){let e="{\n";return Object.keys(this[s]).forEach(r=>{e+=`${r}: ${this[s][r]},\n`}),e+="}"}parseComponentElement(e,r){return new o({...this,...r}).toCode(e).exports}toCode(e){return r.forEach(r=>r(e,this)),this.addProp("element",()=>`Element.fromJSON(${JSON.stringify(e)})`),Object.keys(this[t]).forEach(e=>{this[s][e]=this[t][e]()}),{exports:`(options) => new Document('${this.resourcePath}', ${this.propsToCode()}, options)`,dependencies:this.dependencies}}}const n=(e,r)=>{const s=e.toCode(r),t=e.dependencies.map(e=>`require('${e}')`);return{code:`const { Document, Element } = require('@neft/core')\nDocument.register('${e.resourcePath}', ${s.exports}, {\n  dependencies: [${t}],\n})\nmodule.exports = '${e.resourcePath}'\nif (module.hot) {\n  module.hot.accept(() => {\n    Document.reload('${e.resourcePath}')\n  })\n}\n`,dependencies:s.dependencies}};exports.parseToAst=e,exports.parseToCode=((e,{resourcePath:r,scripts:s,styles:t,defaultStyles:i=[]}={})=>{const p=new o({resourcePath:r,scripts:s,styles:t,defaultStyles:i});return n(p,e)});
},{"./xhtml-parser":"CH8g","./parse/clear":"86VO","./parse/components":"caHh","./parse/styles":"wPCc","./parse/iterators":"Cd4l","./parse/scripts":"57Dr","./parse/props":"o8zv","./parse/conditions":"1WFF","./parse/uses":"ipVS","./parse/storage":"bEyb","./parse/refs":"dKVp","./parse/logs":"TsZT","./parse/calls":"KhSE","./parse/slot":"DfhC","./parse/unknowns":"y4su"}],"mEVg":[function(require,module,exports) {
"use strict";var r={range:function(r,n){var e,t,f=n-r,u=new Array(f);for(e=0,t=r;e<f;e++,t++)u[e]=t;return u},find:function(r,n){var e,t=r.length;if("function"==typeof n){for(e=0;e<t;e++)if(n(r[e]))return r[e]}else for(e=0;e<t;e++)if(r[e]===n)return r[e]},indexOf:function(r,n){var e,t=r.length;if("function"==typeof n){for(e=0;e<t;e++)if(n(r[e]))return e}else for(e=0;e<t;e++)if(r[e]===n)return e;return-1},contains:function(n,e){return-1!==r.indexOf(n,e)},each:function(r,n){var e,t=r.length;for(e=0;e<t;e++)n(r[e],e)},map:function(r,n){var e,t=r.length,f=new Array(t);for(e=0;e<t;e++)f[e]=n(r[e],e);return f},pluck:function(n,e){return r.map(n,function(r){return r[e]})},every:function(r,n){var e,t=r.length;for(e=0;e<t;e++)if(!n(r[e]))return!1;return!0},some:function(r,n){var e,t=r.length;for(e=0;e<t;e++)if(n(r[e]))return!0;return!1}};module.exports=r;
},{}],"1HYV":[function(require,module,exports) {
"use strict";var r={keys:function(r){var n,o=[];for(n in r)r.hasOwnProperty(n)&&o.push(n);return o},values:function(r){var n,o=[];for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);return o},clone:function(r){var n,o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o},defaults:function(r,n){var o;for(o in n)n.hasOwnProperty(o)&&(o in r||(r[o]=n[o]))}};module.exports=r;
},{}],"d4UV":[function(require,module,exports) {
"use strict";var t={subclass:function(t,o){function r(){this.constructor=t}r.prototype=o.prototype,t.prototype=new r}};module.exports=t;
},{}],"vvJ7":[function(require,module,exports) {
"use strict";var r=require("./utils/classes");function s(r,t){this.name="GrammarError",this.message=r,this.location=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,s)}r.subclass(s,Error),module.exports=s;
},{"./utils/classes":"d4UV"}],"Wwef":[function(require,module,exports) {
"use strict";function u(u,A){function r(){this.constructor=u}r.prototype=A.prototype,u.prototype=new r}function A(u,r,t,n){this.message=u,this.expected=r,this.found=t,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,A)}function r(u,r){r=void 0!==r?r:{};var t,n={},C={Grammar:Nt},E=Nt,e=function(u,A){return{type:"grammar",initializer:(r=u,t=0,r?r[t]:null),rules:Sn(A,0),location:Tt()};var r,t},F=function(u){return{type:"initializer",code:u,location:Tt()}},B="=",o=Zt("=",!1),D=function(u,A,r){return{type:"rule",name:u,expression:null!==A?{type:"named",name:A[0],expression:r,location:Tt()}:r,location:Tt()}},c="/",a=Zt("/",!1),i=function(u,A){return A.length>0?{type:"choice",alternatives:kn(u,A,3),location:Tt()}:u},f=function(u,A){return null!==A?{type:"action",expression:u,code:A[1],location:Tt()}:u},s=function(u,A){return A.length>0?{type:"sequence",elements:kn(u,A,1),location:Tt()}:u},v=":",h=Zt(":",!1),l=function(u,A){return{type:"labeled",label:u,expression:A,location:Tt()}},d=function(u,A){return{type:yn[u],expression:A,location:Tt()}},p="$",b=Zt("$",!1),g="&",x=Zt("&",!1),y="!",m=Zt("!",!1),w=function(u,A){return{type:mn[A],expression:u,location:Tt()}},_="?",S=Zt("?",!1),k="*",z=Zt("*",!1),R="+",j=Zt("+",!1),$="(",q=Zt("(",!1),I=")",M=Zt(")",!1),T=function(u){return"labeled"===u.type||"sequence"===u.type?{type:"group",expression:u}:u},Z=function(u){return{type:"rule_ref",name:u,location:Tt()}},G=function(u,A){return{type:wn[u],code:A,location:Tt()}},U={type:"any"},H=Ut("whitespace"),J="\t",K=Zt("\t",!1),L="\v",N=Zt("\v",!1),O="\f",P=Zt("\f",!1),Q=" ",V=Zt(" ",!1),W=" ",X=Zt(" ",!1),Y="\ufeff",uu=Zt("\ufeff",!1),Au=/^[\n\r\u2028\u2029]/,ru=Gt(["\n","\r","\u2028","\u2029"],!1,!1),tu=Ut("end of line"),nu="\n",Cu=Zt("\n",!1),Eu="\r\n",eu=Zt("\r\n",!1),Fu="\r",Bu=Zt("\r",!1),ou="\u2028",Du=Zt("\u2028",!1),cu="\u2029",au=Zt("\u2029",!1),iu=Ut("comment"),fu="/*",su=Zt("/*",!1),vu="*/",hu=Zt("*/",!1),lu="//",du=Zt("//",!1),pu=function(u){return u},bu=Ut("identifier"),gu=function(u,A){return u+A.join("")},xu="_",yu=Zt("_",!1),mu="\\",wu=Zt("\\",!1),_u=function(u){return u},Su="‌",ku=Zt("‌",!1),zu="‍",Ru=Zt("‍",!1),ju=Ut("literal"),$u="i",qu=Zt("i",!1),Iu=function(u,A){return{type:"literal",value:u,ignoreCase:null!==A,location:Tt()}},Mu=Ut("string"),Tu='"',Zu=Zt('"',!1),Gu=function(u){return u.join("")},Uu="'",Hu=Zt("'",!1),Ju=function(){return Mt()},Ku=Ut("character class"),Lu="[",Nu=Zt("[",!1),Ou="^",Pu=Zt("^",!1),Qu="]",Vu=Zt("]",!1),Wu=function(u,A,r){return{type:"class",parts:_n(A),inverted:null!==u,ignoreCase:null!==r,location:Tt()}},Xu="-",Yu=Zt("-",!1),uA=function(u,r){return u.charCodeAt(0)>r.charCodeAt(0)&&function(u,r){throw r=void 0!==r?r:Jt(Rt,zt),function(u,r){return new A(u,null,null,r)}(u,r)}("Invalid character range: "+Mt()+"."),[u,r]},AA=function(){return""},rA="0",tA=Zt("0",!1),nA=function(){return"\0"},CA="b",EA=Zt("b",!1),eA=function(){return"\b"},FA="f",BA=Zt("f",!1),oA=function(){return"\f"},DA="n",cA=Zt("n",!1),aA=function(){return"\n"},iA="r",fA=Zt("r",!1),sA=function(){return"\r"},vA="t",hA=Zt("t",!1),lA=function(){return"\t"},dA="v",pA=Zt("v",!1),bA=function(){return"\v"},gA="x",xA=Zt("x",!1),yA="u",mA=Zt("u",!1),wA=function(u){return String.fromCharCode(parseInt(u,16))},_A=/^[0-9]/,SA=Gt([["0","9"]],!1,!1),kA=/^[0-9a-f]/i,zA=Gt([["0","9"],["a","f"]],!1,!0),RA=".",jA=Zt(".",!1),$A=function(){return{type:"any",location:Tt()}},qA=Ut("code block"),IA="{",MA=Zt("{",!1),TA="}",ZA=Zt("}",!1),GA=function(u){return u},UA=/^[{}]/,HA=Gt(["{","}"],!1,!1),JA=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,KA=Gt([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ա","և"],["ᏸ","ᏽ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞵ","ꞷ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),LA=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,NA=Gt([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),OA=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,PA=Gt(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["װ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࢠ","ࢴ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ა","ჺ"],["ჽ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡷ"],["ᢀ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄭ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿕"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ","ꣽ",["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),QA=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,VA=Gt(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),WA=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,XA=Gt([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɬ"],["Ʞ","Ꞵ"],"Ꞷ",["Ａ","Ｚ"]],!1,!1),YA=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,ur=Gt(["ः","ऻ",["ा","ी"],["ॉ","ौ"],["ॎ","ॏ"],["ং","ঃ"],["া","ী"],["ে","ৈ"],["ো","ৌ"],"ৗ","ਃ",["ਾ","ੀ"],"ઃ",["ા","ી"],"ૉ",["ો","ૌ"],["ଂ","ଃ"],"ା","ୀ",["େ","ୈ"],["ୋ","ୌ"],"ୗ",["ா","ி"],["ு","ூ"],["ெ","ை"],["ொ","ௌ"],"ௗ",["ఁ","ః"],["ు","ౄ"],["ಂ","ಃ"],"ಾ",["ೀ","ೄ"],["ೇ","ೈ"],["ೊ","ೋ"],["ೕ","ೖ"],["ം","ഃ"],["ാ","ീ"],["െ","ൈ"],["ൊ","ൌ"],"ൗ",["ං","ඃ"],["ා","ෑ"],["ෘ","ෟ"],["ෲ","ෳ"],["༾","༿"],"ཿ",["ါ","ာ"],"ေ","း",["ျ","ြ"],["ၖ","ၗ"],["ၢ","ၤ"],["ၧ","ၭ"],["ႃ","ႄ"],["ႇ","ႌ"],"ႏ",["ႚ","ႜ"],"ា",["ើ","ៅ"],["ះ","ៈ"],["ᤣ","ᤦ"],["ᤩ","ᤫ"],["ᤰ","ᤱ"],["ᤳ","ᤸ"],["ᨙ","ᨚ"],"ᩕ","ᩗ","ᩡ",["ᩣ","ᩤ"],["ᩭ","ᩲ"],"ᬄ","ᬵ","ᬻ",["ᬽ","ᭁ"],["ᭃ","᭄"],"ᮂ","ᮡ",["ᮦ","ᮧ"],"᮪","ᯧ",["ᯪ","ᯬ"],"ᯮ",["᯲","᯳"],["ᰤ","ᰫ"],["ᰴ","ᰵ"],"᳡",["ᳲ","ᳳ"],["〮","〯"],["ꠣ","ꠤ"],"ꠧ",["ꢀ","ꢁ"],["ꢴ","ꣃ"],["ꥒ","꥓"],"ꦃ",["ꦴ","ꦵ"],["ꦺ","ꦻ"],["ꦽ","꧀"],["ꨯ","ꨰ"],["ꨳ","ꨴ"],"ꩍ","ꩻ","ꩽ","ꫫ",["ꫮ","ꫯ"],"ꫵ",["ꯣ","ꯤ"],["ꯦ","ꯧ"],["ꯩ","ꯪ"],"꯬"],!1,!1),Ar=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,rr=Gt([["̀","ͯ"],["҃","҇"],["֑","ֽ"],"ֿ",["ׁ","ׂ"],["ׄ","ׅ"],"ׇ",["ؐ","ؚ"],["ً","ٟ"],"ٰ",["ۖ","ۜ"],["۟","ۤ"],["ۧ","ۨ"],["۪","ۭ"],"ܑ",["ܰ","݊"],["ަ","ް"],["߫","߳"],["ࠖ","࠙"],["ࠛ","ࠣ"],["ࠥ","ࠧ"],["ࠩ","࠭"],["࡙","࡛"],["ࣣ","ं"],"ऺ","़",["ु","ै"],"्",["॑","ॗ"],["ॢ","ॣ"],"ঁ","়",["ু","ৄ"],"্",["ৢ","ৣ"],["ਁ","ਂ"],"਼",["ੁ","ੂ"],["ੇ","ੈ"],["ੋ","੍"],"ੑ",["ੰ","ੱ"],"ੵ",["ઁ","ં"],"઼",["ુ","ૅ"],["ે","ૈ"],"્",["ૢ","ૣ"],"ଁ","଼","ି",["ୁ","ୄ"],"୍","ୖ",["ୢ","ୣ"],"ஂ","ீ","்","ఀ",["ా","ీ"],["ె","ై"],["ొ","్"],["ౕ","ౖ"],["ౢ","ౣ"],"ಁ","಼","ಿ","ೆ",["ೌ","್"],["ೢ","ೣ"],"ഁ",["ു","ൄ"],"്",["ൢ","ൣ"],"්",["ි","ු"],"ූ","ั",["ิ","ฺ"],["็","๎"],"ັ",["ິ","ູ"],["ົ","ຼ"],["່","ໍ"],["༘","༙"],"༵","༷","༹",["ཱ","ཾ"],["ྀ","྄"],["྆","྇"],["ྍ","ྗ"],["ྙ","ྼ"],"࿆",["ိ","ူ"],["ဲ","့"],["္","်"],["ွ","ှ"],["ၘ","ၙ"],["ၞ","ၠ"],["ၱ","ၴ"],"ႂ",["ႅ","ႆ"],"ႍ","ႝ",["፝","፟"],["ᜒ","᜔"],["ᜲ","᜴"],["ᝒ","ᝓ"],["ᝲ","ᝳ"],["឴","឵"],["ិ","ួ"],"ំ",["៉","៓"],"៝",["᠋","᠍"],"ᢩ",["ᤠ","ᤢ"],["ᤧ","ᤨ"],"ᤲ",["᤹","᤻"],["ᨗ","ᨘ"],"ᨛ","ᩖ",["ᩘ","ᩞ"],"᩠","ᩢ",["ᩥ","ᩬ"],["ᩳ","᩼"],"᩿",["᪰","᪽"],["ᬀ","ᬃ"],"᬴",["ᬶ","ᬺ"],"ᬼ","ᭂ",["᭫","᭳"],["ᮀ","ᮁ"],["ᮢ","ᮥ"],["ᮨ","ᮩ"],["᮫","ᮭ"],"᯦",["ᯨ","ᯩ"],"ᯭ",["ᯯ","ᯱ"],["ᰬ","ᰳ"],["ᰶ","᰷"],["᳐","᳒"],["᳔","᳠"],["᳢","᳨"],"᳭","᳴",["᳸","᳹"],["᷀","᷵"],["᷼","᷿"],["⃐","⃜"],"⃡",["⃥","⃰"],["⳯","⳱"],"⵿",["ⷠ","ⷿ"],["〪","〭"],["゙","゚"],"꙯",["ꙴ","꙽"],["ꚞ","ꚟ"],["꛰","꛱"],"ꠂ","꠆","ꠋ",["ꠥ","ꠦ"],"꣄",["꣠","꣱"],["ꤦ","꤭"],["ꥇ","ꥑ"],["ꦀ","ꦂ"],"꦳",["ꦶ","ꦹ"],"ꦼ","ꧥ",["ꨩ","ꨮ"],["ꨱ","ꨲ"],["ꨵ","ꨶ"],"ꩃ","ꩌ","ꩼ","ꪰ",["ꪲ","ꪴ"],["ꪷ","ꪸ"],["ꪾ","꪿"],"꫁",["ꫬ","ꫭ"],"꫶","ꯥ","ꯨ","꯭","ﬞ",["︀","️"],["︠","︯"]],!1,!1),tr=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,nr=Gt([["0","9"],["٠","٩"],["۰","۹"],["߀","߉"],["०","९"],["০","৯"],["੦","੯"],["૦","૯"],["୦","୯"],["௦","௯"],["౦","౯"],["೦","೯"],["൦","൯"],["෦","෯"],["๐","๙"],["໐","໙"],["༠","༩"],["၀","၉"],["႐","႙"],["០","៩"],["᠐","᠙"],["᥆","᥏"],["᧐","᧙"],["᪀","᪉"],["᪐","᪙"],["᭐","᭙"],["᮰","᮹"],["᱀","᱉"],["᱐","᱙"],["꘠","꘩"],["꣐","꣙"],["꤀","꤉"],["꧐","꧙"],["꧰","꧹"],["꩐","꩙"],["꯰","꯹"],["０","９"]],!1,!1),Cr=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Er=Gt([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),er=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,Fr=Gt(["_",["‿","⁀"],"⁔",["︳","︴"],["﹍","﹏"],"＿"],!1,!1),Br=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,or=Gt([" "," "," ",[" "," "]," "," ","　"],!1,!1),Dr="break",cr=Zt("break",!1),ar="case",ir=Zt("case",!1),fr="catch",sr=Zt("catch",!1),vr="class",hr=Zt("class",!1),lr="const",dr=Zt("const",!1),pr="continue",br=Zt("continue",!1),gr="debugger",xr=Zt("debugger",!1),yr="default",mr=Zt("default",!1),wr="delete",_r=Zt("delete",!1),Sr="do",kr=Zt("do",!1),zr="else",Rr=Zt("else",!1),jr="enum",$r=Zt("enum",!1),qr="export",Ir=Zt("export",!1),Mr="extends",Tr=Zt("extends",!1),Zr="false",Gr=Zt("false",!1),Ur="finally",Hr=Zt("finally",!1),Jr="for",Kr=Zt("for",!1),Lr="function",Nr=Zt("function",!1),Or="if",Pr=Zt("if",!1),Qr="import",Vr=Zt("import",!1),Wr="instanceof",Xr=Zt("instanceof",!1),Yr="in",ut=Zt("in",!1),At="new",rt=Zt("new",!1),tt="null",nt=Zt("null",!1),Ct="return",Et=Zt("return",!1),et="super",Ft=Zt("super",!1),Bt="switch",ot=Zt("switch",!1),Dt="this",ct=Zt("this",!1),at="throw",it=Zt("throw",!1),ft="true",st=Zt("true",!1),vt="try",ht=Zt("try",!1),lt="typeof",dt=Zt("typeof",!1),pt="var",bt=Zt("var",!1),gt="void",xt=Zt("void",!1),yt="while",mt=Zt("while",!1),wt="with",_t=Zt("with",!1),St=";",kt=Zt(";",!1),zt=0,Rt=0,jt=[{line:1,column:1}],$t=0,qt=[],It=0;if("startRule"in r){if(!(r.startRule in C))throw new Error("Can't start parsing from rule \""+r.startRule+'".');E=C[r.startRule]}function Mt(){return u.substring(Rt,zt)}function Tt(){return Jt(Rt,zt)}function Zt(u,A){return{type:"literal",text:u,ignoreCase:A}}function Gt(u,A,r){return{type:"class",parts:u,inverted:A,ignoreCase:r}}function Ut(u){return{type:"other",description:u}}function Ht(A){var r,t=jt[A];if(t)return t;for(r=A-1;!jt[r];)r--;for(t={line:(t=jt[r]).line,column:t.column};r<A;)10===u.charCodeAt(r)?(t.line++,t.column=1):t.column++,r++;return jt[A]=t,t}function Jt(u,A){var r=Ht(u),t=Ht(A);return{start:{offset:u,line:r.line,column:r.column},end:{offset:A,line:t.line,column:t.column}}}function Kt(u){zt<$t||(zt>$t&&($t=zt,qt=[]),qt.push(u))}function Lt(u,r,t){return new A(A.buildMessage(u,r),u,r,t)}function Nt(){var u,A,r,t,C,E;if(u=zt,gn()!==n)if(A=zt,(r=function(){var u,A;u=zt,(A=bn())!==n&&xn()!==n?(Rt=u,A=F(A),u=A):(zt=u,u=n);return u}())!==n&&(t=gn())!==n?A=r=[r,t]:(zt=A,A=n),A===n&&(A=null),A!==n){if(r=[],t=zt,(C=Ot())!==n&&(E=gn())!==n?t=C=[C,E]:(zt=t,t=n),t!==n)for(;t!==n;)r.push(t),t=zt,(C=Ot())!==n&&(E=gn())!==n?t=C=[C,E]:(zt=t,t=n);else r=n;r!==n?(Rt=u,u=e(A,r)):(zt=u,u=n)}else zt=u,u=n;else zt=u,u=n;return u}function Ot(){var A,r,t,C,E,e;return A=zt,(r=en())!==n&&gn()!==n?(t=zt,(C=on())!==n&&(E=gn())!==n?t=C=[C,E]:(zt=t,t=n),t===n&&(t=null),t!==n?(61===u.charCodeAt(zt)?(C=B,zt++):(C=n,0===It&&Kt(o)),C!==n&&(E=gn())!==n&&(e=Pt())!==n&&xn()!==n?(Rt=A,A=r=D(r,t,e)):(zt=A,A=n)):(zt=A,A=n)):(zt=A,A=n),A}function Pt(){var A,r,t,C,E,e,F,B;if(A=zt,(r=Qt())!==n){for(t=[],C=zt,(E=gn())!==n?(47===u.charCodeAt(zt)?(e=c,zt++):(e=n,0===It&&Kt(a)),e!==n&&(F=gn())!==n&&(B=Qt())!==n?C=E=[E,e,F,B]:(zt=C,C=n)):(zt=C,C=n);C!==n;)t.push(C),C=zt,(E=gn())!==n?(47===u.charCodeAt(zt)?(e=c,zt++):(e=n,0===It&&Kt(a)),e!==n&&(F=gn())!==n&&(B=Qt())!==n?C=E=[E,e,F,B]:(zt=C,C=n)):(zt=C,C=n);t!==n?(Rt=A,A=r=i(r,t)):(zt=A,A=n)}else zt=A,A=n;return A}function Qt(){var u,A,r,t,C;return u=zt,(A=function(){var u,A,r,t,C,E;if(u=zt,(A=Vt())!==n){for(r=[],t=zt,(C=gn())!==n&&(E=Vt())!==n?t=C=[C,E]:(zt=t,t=n);t!==n;)r.push(t),t=zt,(C=gn())!==n&&(E=Vt())!==n?t=C=[C,E]:(zt=t,t=n);r!==n?(Rt=u,A=s(A,r),u=A):(zt=u,u=n)}else zt=u,u=n;return u}())!==n?(r=zt,(t=gn())!==n&&(C=bn())!==n?r=t=[t,C]:(zt=r,r=n),r===n&&(r=null),r!==n?(Rt=u,u=A=f(A,r)):(zt=u,u=n)):(zt=u,u=n),u}function Vt(){var A,r,t,C;return A=zt,(r=function(){var A,r,t;A=zt,r=zt,It++,t=function(){var A;return(A=function(){var A;return(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===Dr?(r=Dr,zt+=5):(r=n,0===It&&Kt(cr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===ar?(r=ar,zt+=4):(r=n,0===It&&Kt(ir)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===fr?(r=fr,zt+=5):(r=n,0===It&&Kt(sr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,8)===pr?(r=pr,zt+=8):(r=n,0===It&&Kt(br)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,8)===gr?(r=gr,zt+=8):(r=n,0===It&&Kt(xr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,7)===yr?(r=yr,zt+=7):(r=n,0===It&&Kt(mr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,6)===wr?(r=wr,zt+=6):(r=n,0===It&&Kt(_r)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,2)===Sr?(r=Sr,zt+=2):(r=n,0===It&&Kt(kr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===zr?(r=zr,zt+=4):(r=n,0===It&&Kt(Rr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,7)===Ur?(r=Ur,zt+=7):(r=n,0===It&&Kt(Hr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,3)===Jr?(r=Jr,zt+=3):(r=n,0===It&&Kt(Kr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,8)===Lr?(r=Lr,zt+=8):(r=n,0===It&&Kt(Nr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,2)===Or?(r=Or,zt+=2):(r=n,0===It&&Kt(Pr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,10)===Wr?(r=Wr,zt+=10):(r=n,0===It&&Kt(Xr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,2)===Yr?(r=Yr,zt+=2):(r=n,0===It&&Kt(ut)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,3)===At?(r=At,zt+=3):(r=n,0===It&&Kt(rt)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,6)===Ct?(r=Ct,zt+=6):(r=n,0===It&&Kt(Et)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,6)===Bt?(r=Bt,zt+=6):(r=n,0===It&&Kt(ot)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===Dt?(r=Dt,zt+=4):(r=n,0===It&&Kt(ct)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===at?(r=at,zt+=5):(r=n,0===It&&Kt(it)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,3)===vt?(r=vt,zt+=3):(r=n,0===It&&Kt(ht)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,6)===lt?(r=lt,zt+=6):(r=n,0===It&&Kt(dt)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,3)===pt?(r=pt,zt+=3):(r=n,0===It&&Kt(bt)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===gt?(r=gt,zt+=4):(r=n,0===It&&Kt(xt)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===yt?(r=yt,zt+=5):(r=n,0===It&&Kt(mt)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===wt?(r=wt,zt+=4):(r=n,0===It&&Kt(_t)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}()),A}())===n&&(A=function(){var A;return(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===vr?(r=vr,zt+=5):(r=n,0===It&&Kt(hr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===lr?(r=lr,zt+=5):(r=n,0===It&&Kt(dr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===jr?(r=jr,zt+=4):(r=n,0===It&&Kt($r)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,6)===qr?(r=qr,zt+=6):(r=n,0===It&&Kt(Ir)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,7)===Mr?(r=Mr,zt+=7):(r=n,0===It&&Kt(Tr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,6)===Qr?(r=Qr,zt+=6):(r=n,0===It&&Kt(Vr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===et?(r=et,zt+=5):(r=n,0===It&&Kt(Ft)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}()),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===tt?(r=tt,zt+=4):(r=n,0===It&&Kt(nt)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A;return(A=function(){var A,r,t,C;return A=zt,u.substr(zt,4)===ft?(r=ft,zt+=4):(r=n,0===It&&Kt(st)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}())===n&&(A=function(){var A,r,t,C;return A=zt,u.substr(zt,5)===Zr?(r=Zr,zt+=5):(r=n,0===It&&Kt(Gr)),r!==n?(t=zt,It++,C=Bn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A}()),A}()),A}(),It--,t===n?r=void 0:(zt=r,r=n);r!==n&&(t=en())!==n?(Rt=A,r=pu(t),A=r):(zt=A,A=n);return A}())!==n&&gn()!==n?(58===u.charCodeAt(zt)?(t=v,zt++):(t=n,0===It&&Kt(h)),t!==n&&gn()!==n&&(C=Wt())!==n?(Rt=A,A=r=l(r,C)):(zt=A,A=n)):(zt=A,A=n),A===n&&(A=Wt()),A}function Wt(){var A,r,t;return A=zt,(r=function(){var A;36===u.charCodeAt(zt)?(A=p,zt++):(A=n,0===It&&Kt(b));A===n&&(38===u.charCodeAt(zt)?(A=g,zt++):(A=n,0===It&&Kt(x)),A===n&&(33===u.charCodeAt(zt)?(A=y,zt++):(A=n,0===It&&Kt(m))));return A}())!==n&&gn()!==n&&(t=Xt())!==n?(Rt=A,A=r=d(r,t)):(zt=A,A=n),A===n&&(A=Xt()),A}function Xt(){var A,r,t;return A=zt,(r=Yt())!==n&&gn()!==n&&(t=function(){var A;63===u.charCodeAt(zt)?(A=_,zt++):(A=n,0===It&&Kt(S));A===n&&(42===u.charCodeAt(zt)?(A=k,zt++):(A=n,0===It&&Kt(z)),A===n&&(43===u.charCodeAt(zt)?(A=R,zt++):(A=n,0===It&&Kt(j))));return A}())!==n?(Rt=A,A=r=w(r,t)):(zt=A,A=n),A===n&&(A=Yt()),A}function Yt(){var A,r,t,C;return(A=function(){var A,r,t;It++,A=zt,(r=on())!==n?(105===u.charCodeAt(zt)?(t=$u,zt++):(t=n,0===It&&Kt(qu)),t===n&&(t=null),t!==n?(Rt=A,r=Iu(r,t),A=r):(zt=A,A=n)):(zt=A,A=n);It--,A===n&&(r=n,0===It&&Kt(ju));return A}())===n&&(A=function(){var A,r,t,C,E,e;It++,A=zt,91===u.charCodeAt(zt)?(r=Lu,zt++):(r=n,0===It&&Kt(Nu));if(r!==n)if(94===u.charCodeAt(zt)?(t=Ou,zt++):(t=n,0===It&&Kt(Pu)),t===n&&(t=null),t!==n){for(C=[],(E=an())===n&&(E=fn());E!==n;)C.push(E),(E=an())===n&&(E=fn());C!==n?(93===u.charCodeAt(zt)?(E=Qu,zt++):(E=n,0===It&&Kt(Vu)),E!==n?(105===u.charCodeAt(zt)?(e=$u,zt++):(e=n,0===It&&Kt(qu)),e===n&&(e=null),e!==n?(Rt=A,r=Wu(t,C,e),A=r):(zt=A,A=n)):(zt=A,A=n)):(zt=A,A=n)}else zt=A,A=n;else zt=A,A=n;It--,A===n&&(r=n,0===It&&Kt(Ku));return A}())===n&&(A=function(){var A,r;A=zt,46===u.charCodeAt(zt)?(r=RA,zt++):(r=n,0===It&&Kt(jA));r!==n&&(Rt=A,r=$A());return A=r}())===n&&(A=function(){var A,r,t,C,E,e,F,D;A=zt,(r=en())!==n?(t=zt,It++,C=zt,(E=gn())!==n?(e=zt,(F=on())!==n&&(D=gn())!==n?e=F=[F,D]:(zt=e,e=n),e===n&&(e=null),e!==n?(61===u.charCodeAt(zt)?(F=B,zt++):(F=n,0===It&&Kt(o)),F!==n?C=E=[E,e,F]:(zt=C,C=n)):(zt=C,C=n)):(zt=C,C=n),It--,C===n?t=void 0:(zt=t,t=n),t!==n?(Rt=A,r=Z(r),A=r):(zt=A,A=n)):(zt=A,A=n);return A}())===n&&(A=function(){var A,r,t;A=zt,(r=function(){var A;return 38===u.charCodeAt(zt)?(A=g,zt++):(A=n,0===It&&Kt(x)),A===n&&(33===u.charCodeAt(zt)?(A=y,zt++):(A=n,0===It&&Kt(m))),A}())!==n&&gn()!==n&&(t=bn())!==n?(Rt=A,r=G(r,t),A=r):(zt=A,A=n);return A}())===n&&(A=zt,40===u.charCodeAt(zt)?(r=$,zt++):(r=n,0===It&&Kt(q)),r!==n&&gn()!==n&&(t=Pt())!==n&&gn()!==n?(41===u.charCodeAt(zt)?(C=I,zt++):(C=n,0===It&&Kt(M)),C!==n?(Rt=A,A=r=T(t)):(zt=A,A=n)):(zt=A,A=n)),A}function un(){var A;return u.length>zt?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(U)),A}function An(){var A;return It++,9===u.charCodeAt(zt)?(A=J,zt++):(A=n,0===It&&Kt(K)),A===n&&(11===u.charCodeAt(zt)?(A=L,zt++):(A=n,0===It&&Kt(N)),A===n&&(12===u.charCodeAt(zt)?(A=O,zt++):(A=n,0===It&&Kt(P)),A===n&&(32===u.charCodeAt(zt)?(A=Q,zt++):(A=n,0===It&&Kt(V)),A===n&&(160===u.charCodeAt(zt)?(A=W,zt++):(A=n,0===It&&Kt(X)),A===n&&(65279===u.charCodeAt(zt)?(A=Y,zt++):(A=n,0===It&&Kt(uu)),A===n&&(A=function(){var A;Br.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(or));return A}())))))),It--,A===n&&(n,0===It&&Kt(H)),A}function rn(){var A;return Au.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(ru)),A}function tn(){var A;return It++,10===u.charCodeAt(zt)?(A=nu,zt++):(A=n,0===It&&Kt(Cu)),A===n&&(u.substr(zt,2)===Eu?(A=Eu,zt+=2):(A=n,0===It&&Kt(eu)),A===n&&(13===u.charCodeAt(zt)?(A=Fu,zt++):(A=n,0===It&&Kt(Bu)),A===n&&(8232===u.charCodeAt(zt)?(A=ou,zt++):(A=n,0===It&&Kt(Du)),A===n&&(8233===u.charCodeAt(zt)?(A=cu,zt++):(A=n,0===It&&Kt(au)))))),It--,A===n&&(n,0===It&&Kt(tu)),A}function nn(){var A;return It++,(A=function(){var A,r,t,C,E,e;A=zt,u.substr(zt,2)===fu?(r=fu,zt+=2):(r=n,0===It&&Kt(su));if(r!==n){for(t=[],C=zt,E=zt,It++,u.substr(zt,2)===vu?(e=vu,zt+=2):(e=n,0===It&&Kt(hu)),It--,e===n?E=void 0:(zt=E,E=n),E!==n&&(e=un())!==n?C=E=[E,e]:(zt=C,C=n);C!==n;)t.push(C),C=zt,E=zt,It++,u.substr(zt,2)===vu?(e=vu,zt+=2):(e=n,0===It&&Kt(hu)),It--,e===n?E=void 0:(zt=E,E=n),E!==n&&(e=un())!==n?C=E=[E,e]:(zt=C,C=n);t!==n?(u.substr(zt,2)===vu?(C=vu,zt+=2):(C=n,0===It&&Kt(hu)),C!==n?A=r=[r,t,C]:(zt=A,A=n)):(zt=A,A=n)}else zt=A,A=n;return A}())===n&&(A=En()),It--,A===n&&(n,0===It&&Kt(iu)),A}function Cn(){var A,r,t,C,E,e;if(A=zt,u.substr(zt,2)===fu?(r=fu,zt+=2):(r=n,0===It&&Kt(su)),r!==n){for(t=[],C=zt,E=zt,It++,u.substr(zt,2)===vu?(e=vu,zt+=2):(e=n,0===It&&Kt(hu)),e===n&&(e=rn()),It--,e===n?E=void 0:(zt=E,E=n),E!==n&&(e=un())!==n?C=E=[E,e]:(zt=C,C=n);C!==n;)t.push(C),C=zt,E=zt,It++,u.substr(zt,2)===vu?(e=vu,zt+=2):(e=n,0===It&&Kt(hu)),e===n&&(e=rn()),It--,e===n?E=void 0:(zt=E,E=n),E!==n&&(e=un())!==n?C=E=[E,e]:(zt=C,C=n);t!==n?(u.substr(zt,2)===vu?(C=vu,zt+=2):(C=n,0===It&&Kt(hu)),C!==n?A=r=[r,t,C]:(zt=A,A=n)):(zt=A,A=n)}else zt=A,A=n;return A}function En(){var A,r,t,C,E,e;if(A=zt,u.substr(zt,2)===lu?(r=lu,zt+=2):(r=n,0===It&&Kt(du)),r!==n){for(t=[],C=zt,E=zt,It++,e=rn(),It--,e===n?E=void 0:(zt=E,E=n),E!==n&&(e=un())!==n?C=E=[E,e]:(zt=C,C=n);C!==n;)t.push(C),C=zt,E=zt,It++,e=rn(),It--,e===n?E=void 0:(zt=E,E=n),E!==n&&(e=un())!==n?C=E=[E,e]:(zt=C,C=n);t!==n?A=r=[r,t]:(zt=A,A=n)}else zt=A,A=n;return A}function en(){var u,A,r,t;if(It++,u=zt,(A=Fn())!==n){for(r=[],t=Bn();t!==n;)r.push(t),t=Bn();r!==n?(Rt=u,u=A=gu(A,r)):(zt=u,u=n)}else zt=u,u=n;return It--,u===n&&(A=n,0===It&&Kt(bu)),u}function Fn(){var A,r,t;return(A=function(){var A;(A=function(){var A;return WA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(XA)),A}())===n&&(A=function(){var A;JA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(KA));return A}())===n&&(A=function(){var A;QA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(VA));return A}())===n&&(A=function(){var A;LA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(NA));return A}())===n&&(A=function(){var A;OA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(PA));return A}())===n&&(A=function(){var A;Cr.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(Er));return A}());return A}())===n&&(36===u.charCodeAt(zt)?(A=p,zt++):(A=n,0===It&&Kt(b)),A===n&&(95===u.charCodeAt(zt)?(A=xu,zt++):(A=n,0===It&&Kt(yu)),A===n&&(A=zt,92===u.charCodeAt(zt)?(r=mu,zt++):(r=n,0===It&&Kt(wu)),r!==n&&(t=ln())!==n?(Rt=A,A=r=_u(t)):(zt=A,A=n)))),A}function Bn(){var A;return(A=Fn())===n&&(A=function(){var A;(A=function(){var A;return Ar.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(rr)),A}())===n&&(A=function(){var A;YA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(ur));return A}());return A}())===n&&(A=function(){var A;tr.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(nr));return A}())===n&&(A=function(){var A;er.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(Fr));return A}())===n&&(8204===u.charCodeAt(zt)?(A=Su,zt++):(A=n,0===It&&Kt(ku)),A===n&&(8205===u.charCodeAt(zt)?(A=zu,zt++):(A=n,0===It&&Kt(Ru)))),A}function on(){var A,r,t,C;if(It++,A=zt,34===u.charCodeAt(zt)?(r=Tu,zt++):(r=n,0===It&&Kt(Zu)),r!==n){for(t=[],C=Dn();C!==n;)t.push(C),C=Dn();t!==n?(34===u.charCodeAt(zt)?(C=Tu,zt++):(C=n,0===It&&Kt(Zu)),C!==n?(Rt=A,A=r=Gu(t)):(zt=A,A=n)):(zt=A,A=n)}else zt=A,A=n;if(A===n)if(A=zt,39===u.charCodeAt(zt)?(r=Uu,zt++):(r=n,0===It&&Kt(Hu)),r!==n){for(t=[],C=cn();C!==n;)t.push(C),C=cn();t!==n?(39===u.charCodeAt(zt)?(C=Uu,zt++):(C=n,0===It&&Kt(Hu)),C!==n?(Rt=A,A=r=Gu(t)):(zt=A,A=n)):(zt=A,A=n)}else zt=A,A=n;return It--,A===n&&(r=n,0===It&&Kt(Mu)),A}function Dn(){var A,r,t;return A=zt,r=zt,It++,34===u.charCodeAt(zt)?(t=Tu,zt++):(t=n,0===It&&Kt(Zu)),t===n&&(92===u.charCodeAt(zt)?(t=mu,zt++):(t=n,0===It&&Kt(wu)),t===n&&(t=rn())),It--,t===n?r=void 0:(zt=r,r=n),r!==n&&(t=un())!==n?(Rt=A,A=r=Ju()):(zt=A,A=n),A===n&&(A=zt,92===u.charCodeAt(zt)?(r=mu,zt++):(r=n,0===It&&Kt(wu)),r!==n&&(t=vn())!==n?(Rt=A,A=r=_u(t)):(zt=A,A=n),A===n&&(A=sn())),A}function cn(){var A,r,t;return A=zt,r=zt,It++,39===u.charCodeAt(zt)?(t=Uu,zt++):(t=n,0===It&&Kt(Hu)),t===n&&(92===u.charCodeAt(zt)?(t=mu,zt++):(t=n,0===It&&Kt(wu)),t===n&&(t=rn())),It--,t===n?r=void 0:(zt=r,r=n),r!==n&&(t=un())!==n?(Rt=A,A=r=Ju()):(zt=A,A=n),A===n&&(A=zt,92===u.charCodeAt(zt)?(r=mu,zt++):(r=n,0===It&&Kt(wu)),r!==n&&(t=vn())!==n?(Rt=A,A=r=_u(t)):(zt=A,A=n),A===n&&(A=sn())),A}function an(){var A,r,t,C;return A=zt,(r=fn())!==n?(45===u.charCodeAt(zt)?(t=Xu,zt++):(t=n,0===It&&Kt(Yu)),t!==n&&(C=fn())!==n?(Rt=A,A=r=uA(r,C)):(zt=A,A=n)):(zt=A,A=n),A}function fn(){var A,r,t;return A=zt,r=zt,It++,93===u.charCodeAt(zt)?(t=Qu,zt++):(t=n,0===It&&Kt(Vu)),t===n&&(92===u.charCodeAt(zt)?(t=mu,zt++):(t=n,0===It&&Kt(wu)),t===n&&(t=rn())),It--,t===n?r=void 0:(zt=r,r=n),r!==n&&(t=un())!==n?(Rt=A,A=r=Ju()):(zt=A,A=n),A===n&&(A=zt,92===u.charCodeAt(zt)?(r=mu,zt++):(r=n,0===It&&Kt(wu)),r!==n&&(t=vn())!==n?(Rt=A,A=r=_u(t)):(zt=A,A=n),A===n&&(A=sn())),A}function sn(){var A,r;return A=zt,92===u.charCodeAt(zt)?(r=mu,zt++):(r=n,0===It&&Kt(wu)),r!==n&&tn()!==n?(Rt=A,A=r=AA()):(zt=A,A=n),A}function vn(){var A,r,t,C;return(A=function(){var A;(A=hn())===n&&(A=function(){var A,r,t;A=zt,r=zt,It++,(t=function(){var A;return(A=hn())===n&&(A=dn())===n&&(120===u.charCodeAt(zt)?(A=gA,zt++):(A=n,0===It&&Kt(xA)),A===n&&(117===u.charCodeAt(zt)?(A=yA,zt++):(A=n,0===It&&Kt(mA)))),A}())===n&&(t=rn());It--,t===n?r=void 0:(zt=r,r=n);r!==n&&(t=un())!==n?(Rt=A,r=Ju(),A=r):(zt=A,A=n);return A}());return A}())===n&&(A=zt,48===u.charCodeAt(zt)?(r=rA,zt++):(r=n,0===It&&Kt(tA)),r!==n?(t=zt,It++,C=dn(),It--,C===n?t=void 0:(zt=t,t=n),t!==n?(Rt=A,A=r=nA()):(zt=A,A=n)):(zt=A,A=n),A===n&&(A=function(){var A,r,t,C,E,e;A=zt,120===u.charCodeAt(zt)?(r=gA,zt++):(r=n,0===It&&Kt(xA));r!==n?(t=zt,C=zt,(E=pn())!==n&&(e=pn())!==n?C=E=[E,e]:(zt=C,C=n),(t=C!==n?u.substring(t,zt):C)!==n?(Rt=A,r=wA(t),A=r):(zt=A,A=n)):(zt=A,A=n);return A}())===n&&(A=ln())),A}function hn(){var A,r;return 39===u.charCodeAt(zt)?(A=Uu,zt++):(A=n,0===It&&Kt(Hu)),A===n&&(34===u.charCodeAt(zt)?(A=Tu,zt++):(A=n,0===It&&Kt(Zu)),A===n&&(92===u.charCodeAt(zt)?(A=mu,zt++):(A=n,0===It&&Kt(wu)),A===n&&(A=zt,98===u.charCodeAt(zt)?(r=CA,zt++):(r=n,0===It&&Kt(EA)),r!==n&&(Rt=A,r=eA()),(A=r)===n&&(A=zt,102===u.charCodeAt(zt)?(r=FA,zt++):(r=n,0===It&&Kt(BA)),r!==n&&(Rt=A,r=oA()),(A=r)===n&&(A=zt,110===u.charCodeAt(zt)?(r=DA,zt++):(r=n,0===It&&Kt(cA)),r!==n&&(Rt=A,r=aA()),(A=r)===n&&(A=zt,114===u.charCodeAt(zt)?(r=iA,zt++):(r=n,0===It&&Kt(fA)),r!==n&&(Rt=A,r=sA()),(A=r)===n&&(A=zt,116===u.charCodeAt(zt)?(r=vA,zt++):(r=n,0===It&&Kt(hA)),r!==n&&(Rt=A,r=lA()),(A=r)===n&&(A=zt,118===u.charCodeAt(zt)?(r=dA,zt++):(r=n,0===It&&Kt(pA)),r!==n&&(Rt=A,r=bA()),A=r)))))))),A}function ln(){var A,r,t,C,E,e,F,B;return A=zt,117===u.charCodeAt(zt)?(r=yA,zt++):(r=n,0===It&&Kt(mA)),r!==n?(t=zt,C=zt,(E=pn())!==n&&(e=pn())!==n&&(F=pn())!==n&&(B=pn())!==n?C=E=[E,e,F,B]:(zt=C,C=n),(t=C!==n?u.substring(t,zt):C)!==n?(Rt=A,A=r=wA(t)):(zt=A,A=n)):(zt=A,A=n),A}function dn(){var A;return _A.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(SA)),A}function pn(){var A;return kA.test(u.charAt(zt))?(A=u.charAt(zt),zt++):(A=n,0===It&&Kt(zA)),A}function bn(){var A,r,t,C;return It++,A=zt,123===u.charCodeAt(zt)?(r=IA,zt++):(r=n,0===It&&Kt(MA)),r!==n&&(t=function A(){var r,t,C,E,e,F;r=zt;t=[];C=[];E=zt;e=zt;It++;UA.test(u.charAt(zt))?(F=u.charAt(zt),zt++):(F=n,0===It&&Kt(HA));It--;F===n?e=void 0:(zt=e,e=n);e!==n&&(F=un())!==n?E=e=[e,F]:(zt=E,E=n);if(E!==n)for(;E!==n;)C.push(E),E=zt,e=zt,It++,UA.test(u.charAt(zt))?(F=u.charAt(zt),zt++):(F=n,0===It&&Kt(HA)),It--,F===n?e=void 0:(zt=e,e=n),e!==n&&(F=un())!==n?E=e=[e,F]:(zt=E,E=n);else C=n;C===n&&(C=zt,123===u.charCodeAt(zt)?(E=IA,zt++):(E=n,0===It&&Kt(MA)),E!==n&&(e=A())!==n?(125===u.charCodeAt(zt)?(F=TA,zt++):(F=n,0===It&&Kt(ZA)),F!==n?C=E=[E,e,F]:(zt=C,C=n)):(zt=C,C=n));for(;C!==n;){if(t.push(C),C=[],E=zt,e=zt,It++,UA.test(u.charAt(zt))?(F=u.charAt(zt),zt++):(F=n,0===It&&Kt(HA)),It--,F===n?e=void 0:(zt=e,e=n),e!==n&&(F=un())!==n?E=e=[e,F]:(zt=E,E=n),E!==n)for(;E!==n;)C.push(E),E=zt,e=zt,It++,UA.test(u.charAt(zt))?(F=u.charAt(zt),zt++):(F=n,0===It&&Kt(HA)),It--,F===n?e=void 0:(zt=e,e=n),e!==n&&(F=un())!==n?E=e=[e,F]:(zt=E,E=n);else C=n;C===n&&(C=zt,123===u.charCodeAt(zt)?(E=IA,zt++):(E=n,0===It&&Kt(MA)),E!==n&&(e=A())!==n?(125===u.charCodeAt(zt)?(F=TA,zt++):(F=n,0===It&&Kt(ZA)),F!==n?C=E=[E,e,F]:(zt=C,C=n)):(zt=C,C=n))}r=t!==n?u.substring(r,zt):t;return r}())!==n?(125===u.charCodeAt(zt)?(C=TA,zt++):(C=n,0===It&&Kt(ZA)),C!==n?(Rt=A,A=r=GA(t)):(zt=A,A=n)):(zt=A,A=n),It--,A===n&&(r=n,0===It&&Kt(qA)),A}function gn(){var u,A;for(u=[],(A=An())===n&&(A=tn())===n&&(A=nn());A!==n;)u.push(A),(A=An())===n&&(A=tn())===n&&(A=nn());return u}function xn(){var A,r,t,C;return A=zt,(r=gn())!==n?(59===u.charCodeAt(zt)?(t=St,zt++):(t=n,0===It&&Kt(kt)),t!==n?A=r=[r,t]:(zt=A,A=n)):(zt=A,A=n),A===n&&(A=zt,(r=function(){var u,A;for(u=[],(A=An())===n&&(A=Cn());A!==n;)u.push(A),(A=An())===n&&(A=Cn());return u}())!==n?((t=En())===n&&(t=null),t!==n&&(C=tn())!==n?A=r=[r,t,C]:(zt=A,A=n)):(zt=A,A=n),A===n&&(A=zt,(r=gn())!==n&&(t=function(){var A,r;A=zt,It++,u.length>zt?(r=u.charAt(zt),zt++):(r=n,0===It&&Kt(U));It--,r===n?A=void 0:(zt=A,A=n);return A}())!==n?A=r=[r,t]:(zt=A,A=n))),A}var yn={$:"text","&":"simple_and","!":"simple_not"},mn={"?":"optional","*":"zero_or_more","+":"one_or_more"},wn={"&":"semantic_and","!":"semantic_not"};function _n(u){var A,r=[];for(A=0;A<u.length;A++)""!==u[A]&&r.push(u[A]);return r}function Sn(u,A){var r,t=new Array(u.length);for(r=0;r<u.length;r++)t[r]=u[r][A];return t}function kn(u,A,r){return[u].concat(Sn(A,r))}if((t=E())!==n&&zt===u.length)return t;throw t!==n&&zt<u.length&&Kt({type:"end"}),Lt(qt,$t<u.length?u.charAt($t):null,$t<u.length?Jt($t,$t+1):Jt($t,$t))}u(A,Error),A.buildMessage=function(u,A){var r={literal:function(u){return'"'+n(u.text)+'"'},class:function(u){var A,r="";for(A=0;A<u.parts.length;A++)r+=u.parts[A]instanceof Array?C(u.parts[A][0])+"-"+C(u.parts[A][1]):C(u.parts[A]);return"["+(u.inverted?"^":"")+r+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function t(u){return u.charCodeAt(0).toString(16).toUpperCase()}function n(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+t(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+t(u)})}function C(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+t(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+t(u)})}return"Expected "+function(u){var A,t,n,C=new Array(u.length);for(A=0;A<u.length;A++)C[A]=(n=u[A],r[n.type](n));if(C.sort(),C.length>0){for(A=1,t=1;A<C.length;A++)C[A-1]!==C[A]&&(C[t]=C[A],t++);C.length=t}switch(C.length){case 1:return C[0];case 2:return C[0]+" or "+C[1];default:return C.slice(0,-1).join(", ")+", or "+C[C.length-1]}}(u)+" but "+function(u){return u?'"'+n(u)+'"':"end of input"}(A)+" found."},module.exports={SyntaxError:A,parse:r};
},{}],"NvoU":[function(require,module,exports) {
"use strict";var e=require("../utils/objects"),n=require("../utils/arrays"),r={build:function(r){function l(e){return r[e.type].apply(null,arguments)}function t(){}function a(e){var n=Array.prototype.slice.call(arguments,1);l.apply(null,[e.expression].concat(n))}function i(e){return function(r){var t=Array.prototype.slice.call(arguments,1);n.each(r[e],function(e){l.apply(null,[e].concat(t))})}}var o={grammar:function(e){var r=Array.prototype.slice.call(arguments,1);e.initializer&&l.apply(null,[e.initializer].concat(r)),n.each(e.rules,function(e){l.apply(null,[e].concat(r))})},initializer:t,rule:a,named:a,choice:i("alternatives"),action:a,sequence:i("elements"),labeled:a,text:a,simple_and:a,simple_not:a,optional:a,zero_or_more:a,one_or_more:a,group:a,semantic_and:t,semantic_not:t,rule_ref:t,literal:t,class:t,any:t};return e.defaults(r,o),l}};module.exports=r;
},{"../utils/objects":"1HYV","../utils/arrays":"mEVg"}],"WDMO":[function(require,module,exports) {
"use strict";var e=require("../utils/arrays"),n=require("./visitor"),r={findRule:function(n,r){return e.find(n.rules,function(e){return e.name===r})},indexOfRule:function(n,r){return e.indexOf(n.rules,function(e){return e.name===r})},alwaysConsumesOnSuccess:function(u,t){function i(){return!0}function o(){return!1}function s(e){return a(e.expression)}var a=n.build({rule:s,named:s,choice:function(n){return e.every(n.alternatives,a)},action:s,sequence:function(n){return e.some(n.elements,a)},labeled:s,text:s,simple_and:o,simple_not:o,optional:o,zero_or_more:o,one_or_more:s,group:s,semantic_and:o,semantic_not:o,rule_ref:function(e){return a(r.findRule(u,e.name))},literal:function(e){return""!==e.value},class:i,any:i});return a(t)}};module.exports=r;
},{"../utils/arrays":"mEVg","./visitor":"NvoU"}],"sC2i":[function(require,module,exports) {
"use strict";var e=require("../../grammar-error"),r=require("../asts"),i=require("../visitor");function n(n){i.build({rule_ref:function(i){if(!r.findRule(n,i.name))throw new e('Rule "'+i.name+'" is not defined.',i.location)}})(n)}module.exports=n;
},{"../../grammar-error":"vvJ7","../asts":"WDMO","../visitor":"NvoU"}],"nxhj":[function(require,module,exports) {
"use strict";var e=require("../../grammar-error"),r=require("../visitor");function n(n){var a={};r.build({rule:function(r){if(a.hasOwnProperty(r.name))throw new e('Rule "'+r.name+'" is already defined at line '+a[r.name].start.line+", column "+a[r.name].start.column+".",r.location);a[r.name]=r.location}})(n)}module.exports=n;
},{"../../grammar-error":"vvJ7","../visitor":"NvoU"}],"l5oL":[function(require,module,exports) {
"use strict";var e=require("../../grammar-error"),r=require("../../utils/arrays"),o=require("../../utils/objects"),i=require("../visitor");function n(n){function l(e,r){t(e.expression,o.clone(r))}var t=i.build({rule:function(e){t(e.expression,{})},choice:function(e,i){r.each(e.alternatives,function(e){t(e,o.clone(i))})},action:l,labeled:function(r,o){if(o.hasOwnProperty(r.label))throw new e('Label "'+r.label+'" is already defined at line '+o[r.label].start.line+", column "+o[r.label].start.column+".",r.location);t(r.expression,o),o[r.label]=r.location},text:l,simple_and:l,simple_not:l,optional:l,zero_or_more:l,one_or_more:l,group:l});t(n)}module.exports=n;
},{"../../grammar-error":"vvJ7","../../utils/arrays":"mEVg","../../utils/objects":"1HYV","../visitor":"NvoU"}],"AOtE":[function(require,module,exports) {
"use strict";var e=require("../../utils/arrays"),n=require("../../grammar-error"),r=require("../asts"),i=require("../visitor");function s(s){var u=[],o=i.build({rule:function(e){u.push(e.name),o(e.expression),u.pop(e.name)},sequence:function(n){e.every(n.elements,function(e){return o(e),!r.alwaysConsumesOnSuccess(s,e)})},rule_ref:function(i){if(e.contains(u,i.name))throw u.push(i.name),new n("Possible infinite loop when parsing (left recursion: "+u.join(" -> ")+").",i.location);o(r.findRule(s,i.name))}});o(s)}module.exports=s;
},{"../../utils/arrays":"mEVg","../../grammar-error":"vvJ7","../asts":"WDMO","../visitor":"NvoU"}],"9xzp":[function(require,module,exports) {
"use strict";var e=require("../../grammar-error"),n=require("../asts"),o=require("../visitor");function i(i){o.build({zero_or_more:function(o){if(!n.alwaysConsumesOnSuccess(i,o.expression))throw new e("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",o.location)},one_or_more:function(o){if(!n.alwaysConsumesOnSuccess(i,o.expression))throw new e("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",o.location)}})(i)}module.exports=i;
},{"../../grammar-error":"vvJ7","../asts":"WDMO","../visitor":"NvoU"}],"oWvK":[function(require,module,exports) {
"use strict";var e=require("../../utils/arrays"),r=require("../visitor");function n(n,u){var s=[];e.each(n.rules,function(i,a){var t;"rule"===(t=i).type&&"rule_ref"===t.expression.type&&(!function(e,n,u){r.build({rule_ref:function(e){e.name===n&&(e.name=u)}})(e)}(n,i.name,i.expression.name),e.contains(u.allowedStartRules,i.name)||s.push(a))}),s.reverse(),e.each(s,function(e){n.rules.splice(e,1)})}module.exports=n;
},{"../../utils/arrays":"mEVg","../visitor":"NvoU"}],"3S6x":[function(require,module,exports) {
"use strict";var _={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29};module.exports=_;
},{}],"4CFN":[function(require,module,exports) {
"use strict";function e(e){return e.charCodeAt(0).toString(16).toUpperCase()}var r={stringEscape:function(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+e(r)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(r){return"\\x"+e(r)}).replace(/[\u0100-\u0FFF]/g,function(r){return"\\u0"+e(r)}).replace(/[\u1000-\uFFFF]/g,function(r){return"\\u"+e(r)})},regexpClassEscape:function(r){return r.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+e(r)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(r){return"\\x"+e(r)}).replace(/[\u0100-\u0FFF]/g,function(r){return"\\u0"+e(r)}).replace(/[\u1000-\uFFFF]/g,function(r){return"\\u"+e(r)})}};module.exports=r;
},{}],"bclG":[function(require,module,exports) {
"use strict";var n=require("../../utils/arrays"),e=require("../../utils/objects"),t=require("../asts"),r=require("../visitor"),s=require("../opcodes"),o=require("../js");function i(i){var c=[];function a(e){var t=n.indexOf(c,e);return-1===t?c.push(e)-1:t}function u(n,e){return a("function("+n.join(", ")+") {"+e+"}")}function l(){return Array.prototype.concat.apply([],arguments)}function p(n,e,t){return n.concat([e.length,t.length],e,t)}function P(t,r,o,i){var c=n.map(e.values(o),function(n){return i-n});return[s.CALL,t,r,c.length].concat(c)}function _(n,t,r){return l([s.PUSH_CURR_POS],[s.SILENT_FAILS_ON],E(n,{sp:r.sp+1,env:e.clone(r.env),action:null}),[s.SILENT_FAILS_OFF],p([t?s.IF_ERROR:s.IF_NOT_ERROR],l([s.POP],[t?s.POP:s.POP_CURR_POS],[s.PUSH_UNDEFINED]),l([s.POP],[t?s.POP_CURR_POS:s.POP],[s.PUSH_FAILED])))}function v(n,t,r){var o=u(e.keys(r.env),n);return l([s.UPDATE_SAVED_POS],P(o,0,r.env,r.sp),p([s.IF],l([s.POP],t?[s.PUSH_FAILED]:[s.PUSH_UNDEFINED]),l([s.POP],t?[s.PUSH_UNDEFINED]:[s.PUSH_FAILED])))}function R(n){return e=[s.WHILE_NOT_ERROR],t=l([s.APPEND],n),e.concat([t.length],t);var e,t}var E=r.build({grammar:function(e){n.each(e.rules,E),e.consts=c},rule:function(n){n.bytecode=E(n.expression,{sp:-1,env:{},action:null})},named:function(n,e){var t=a('peg$otherExpectation("'+o.stringEscape(n.name)+'")');return l([s.SILENT_FAILS_ON],E(n.expression,e),[s.SILENT_FAILS_OFF],p([s.IF_ERROR],[s.FAIL,t],[]))},choice:function(n,t){return function n(t,r){return l(E(t[0],{sp:r.sp,env:e.clone(r.env),action:null}),t.length>1?p([s.IF_ERROR],l([s.POP],n(t.slice(1),r)),[]):[])}(n.alternatives,t)},action:function(n,t){var r=e.clone(t.env),o="sequence"!==n.expression.type||0===n.expression.elements.length,i=E(n.expression,{sp:t.sp+(o?1:0),env:r,action:n}),c=u(e.keys(r),n.code);return o?l([s.PUSH_CURR_POS],i,p([s.IF_NOT_ERROR],l([s.LOAD_SAVED_POS,1],P(c,1,r,t.sp+2)),[]),[s.NIP]):i},sequence:function(n,t){return l([s.PUSH_CURR_POS],function t(r,o){var i,c;return r.length>0?(i=n.elements.length-r.slice(1).length,l(E(r[0],{sp:o.sp,env:o.env,action:null}),p([s.IF_NOT_ERROR],t(r.slice(1),{sp:o.sp+1,env:o.env,action:o.action}),l(i>1?[s.POP_N,i]:[s.POP],[s.POP_CURR_POS],[s.PUSH_FAILED])))):o.action?(c=u(e.keys(o.env),o.action.code),l([s.LOAD_SAVED_POS,n.elements.length],P(c,n.elements.length,o.env,o.sp),[s.NIP])):l([s.WRAP,n.elements.length],[s.NIP])}(n.elements,{sp:t.sp+1,env:t.env,action:t.action}))},labeled:function(n,t){var r=e.clone(t.env);return t.env[n.label]=t.sp+1,E(n.expression,{sp:t.sp,env:r,action:null})},text:function(n,t){return l([s.PUSH_CURR_POS],E(n.expression,{sp:t.sp+1,env:e.clone(t.env),action:null}),p([s.IF_NOT_ERROR],l([s.POP],[s.TEXT]),[s.NIP]))},simple_and:function(n,e){return _(n.expression,!1,e)},simple_not:function(n,e){return _(n.expression,!0,e)},optional:function(n,t){return l(E(n.expression,{sp:t.sp,env:e.clone(t.env),action:null}),p([s.IF_ERROR],l([s.POP],[s.PUSH_NULL]),[]))},zero_or_more:function(n,t){var r=E(n.expression,{sp:t.sp+1,env:e.clone(t.env),action:null});return l([s.PUSH_EMPTY_ARRAY],r,R(r),[s.POP])},one_or_more:function(n,t){var r=E(n.expression,{sp:t.sp+1,env:e.clone(t.env),action:null});return l([s.PUSH_EMPTY_ARRAY],r,p([s.IF_NOT_ERROR],l(R(r),[s.POP]),l([s.POP],[s.POP],[s.PUSH_FAILED])))},group:function(n,t){return E(n.expression,{sp:t.sp,env:e.clone(t.env),action:null})},semantic_and:function(n,e){return v(n.code,!1,e)},semantic_not:function(n,e){return v(n.code,!0,e)},rule_ref:function(n){return[s.RULE,t.indexOfRule(i,n.name)]},literal:function(n){var e,t;return n.value.length>0?(e=a('"'+o.stringEscape(n.ignoreCase?n.value.toLowerCase():n.value)+'"'),t=a('peg$literalExpectation("'+o.stringEscape(n.value)+'", '+n.ignoreCase+")"),p(n.ignoreCase?[s.MATCH_STRING_IC,e]:[s.MATCH_STRING,e],n.ignoreCase?[s.ACCEPT_N,n.value.length]:[s.ACCEPT_STRING,e],[s.FAIL,t])):(e=a('""'),[s.PUSH,e])},class:function(e){var t,r,i,c;return t=e.parts.length>0?"/^["+(e.inverted?"^":"")+n.map(e.parts,function(n){return n instanceof Array?o.regexpClassEscape(n[0])+"-"+o.regexpClassEscape(n[1]):o.regexpClassEscape(n)}).join("")+"]/"+(e.ignoreCase?"i":""):e.inverted?"/^[\\S\\s]/":"/^(?!)/",r="["+n.map(e.parts,function(n){return n instanceof Array?'["'+o.stringEscape(n[0])+'", "'+o.stringEscape(n[1])+'"]':'"'+o.stringEscape(n)+'"'}).join(", ")+"]",i=a(t),c=a("peg$classExpectation("+r+", "+e.inverted+", "+e.ignoreCase+")"),p([s.MATCH_REGEXP,i],[s.ACCEPT_N,1],[s.FAIL,c])},any:function(){var n=a("peg$anyExpectation()");return p([s.MATCH_ANY],[s.ACCEPT_N,1],[s.FAIL,n])}});E(i)}module.exports=i;
},{"../../utils/arrays":"mEVg","../../utils/objects":"1HYV","../asts":"WDMO","../visitor":"NvoU","../opcodes":"3S6x","../js":"4CFN"}],"j2YI":[function(require,module,exports) {
"use strict";var arrays=require("../../utils/arrays"),objects=require("../../utils/objects"),asts=require("../asts"),op=require("../opcodes"),js=require("../js");function generateJS(ast,options){function indent2(e){return e.replace(/^(.+)$/gm,"  $1")}function indent6(e){return e.replace(/^(.+)$/gm,"      $1")}function indent10(e){return e.replace(/^(.+)$/gm,"          $1")}function generateTables(){return"size"===options.optimize?["peg$consts = [",indent2(ast.consts.join(",\n")),"],","","peg$bytecode = [",indent2(arrays.map(ast.rules,function(e){return'peg$decode("'+js.stringEscape(arrays.map(e.bytecode,function(e){return String.fromCharCode(e+32)}).join(""))+'")'}).join(",\n")),"],"].join("\n"):arrays.map(ast.consts,function(e,t){return"peg$c"+t+" = "+e+","}).join("\n")}function generateRuleHeader(e,t){var s=[];return s.push(""),options.trace&&s.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+e+",","  location: peg$computeLocation(startPos, startPos)","});",""].join("\n")),options.cache&&(s.push(["var key    = peg$currPos * "+ast.rules.length+" + "+t+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join("\n")),options.trace&&s.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+e+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+e+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join("\n")),s.push(["  return cached.result;","}",""].join("\n"))),s.join("\n")}function generateRuleFooter(e,t){var s=[];return options.cache&&s.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+t+" };"].join("\n")),options.trace&&s.push(["","if ("+t+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+e+",","    result: "+t+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+e+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join("\n")),s.push(["","return "+t+";"].join("\n")),s.join("\n")}function generateInterpreter(){var e,t=[];function s(e,t){var s=t+3,p="bc[ip + "+(s-2)+"]",n="bc[ip + "+(s-1)+"]";return["ends.push(end);","ips.push(ip + "+s+" + "+p+" + "+n+");","","if ("+e+") {","  end = ip + "+s+" + "+p+";","  ip += "+s+";","} else {","  end = ip + "+s+" + "+p+" + "+n+";","  ip += "+s+" + "+p+";","}","","break;"].join("\n")}return t.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join("\n")),options.trace?t.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join("\n")):t.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join("\n")),t.push(indent2(generateRuleHeader("peg$ruleNames[index]","index"))),t.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10(s("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10(s("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10(s("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10((e="stack[stack.length - 1] !== peg$FAILED",["if ("+e+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + 2 + bc[ip + 1];","  ip += 2;","} else {","  ip += 2 + bc[ip + 1];","}","","break;"].join("\n"))),"","        case "+op.MATCH_ANY+":",indent10(s("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10(s("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10(s("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10(s("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(["params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);","for (i = 0; i < bc[ip + 3]; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += 4 + bc[ip + 3];","break;"].join("\n")),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join("\n")),t.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]"))),t.push("}"),t.join("\n")}function generateRuleFunction(rule){var parts=[],code;function c(e){return"peg$c"+e}function s(e){return"s"+e}var stack={sp:-1,maxSp:-1,push:function(e){var t=s(++this.sp)+" = "+e+";";return this.sp>this.maxSp&&(this.maxSp=this.sp),t},pop:function(e){var t;return void 0===e?s(this.sp--):(t=arrays.map(arrays.range(this.sp-e+1,this.sp+1),s),this.sp-=e,t)},top:function(){return s(this.sp)},index:function(e){return s(this.sp-e)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(e,t){var s,p,n,r,i=t+3,o=bc[ip+i-2],a=bc[ip+i-1],c=stack.sp;if(ip+=i,s=compile(bc.slice(ip,ip+o)),n=stack.sp,ip+=o,a>0&&(stack.sp=c,p=compile(bc.slice(ip,ip+a)),r=stack.sp,ip+=a,n!==r))throw new Error("Branches of a condition must move the stack pointer in the same way.");parts.push("if ("+e+") {"),parts.push(indent2(s)),a>0&&(parts.push("} else {"),parts.push(indent2(p))),parts.push("}")}function compileLoop(e){var t,s,p=bc[ip+2-1],n=stack.sp;if(ip+=2,t=compile(bc.slice(ip,ip+p)),s=stack.sp,ip+=p,s!==n)throw new Error("Body of a loop can't move the stack pointer.");parts.push("while ("+e+") {"),parts.push(indent2(t)),parts.push("}")}function compileCall(){var e=bc[ip+4-1],t=c(bc[ip+1])+"("+arrays.map(bc.slice(ip+4,ip+4+e),function(e){return stack.index(e)}).join(", ")+")";stack.pop(bc[ip+2]),parts.push(stack.push(t)),ip+=4+e}for(;ip<end;)switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1]))),ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos")),ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0")),ip++;break;case op.PUSH_NULL:parts.push(stack.push("null")),ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED")),ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]")),ip++;break;case op.POP:stack.pop(),ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";"),ip++;break;case op.POP_N:stack.pop(bc[ip+1]),ip+=2;break;case op.NIP:value=stack.pop(),stack.pop(),parts.push(stack.push(value)),ip++;break;case op.APPEND:value=stack.pop(),parts.push(stack.top()+".push("+value+");"),ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]")),ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)")),ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED",0);break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)")),parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;"),ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1]))),parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;"),ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED")),parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }"),ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";"),ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;"),ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()")),ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;"),ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;"),ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}return parts.join("\n")}return code=compile(rule.bytecode),parts.push("function peg$parse"+rule.name+"() {"),options.trace?parts.push(["  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join("\n")):parts.push("  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+";"),parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name)))),parts.push(indent2(code)),parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0)))),parts.push("}"),parts.join("\n")}function generateToplevel(){var e,t,s,p,n,r=[];return r.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\"/g,  '\\\\\"')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join("\n")),options.trace&&r.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join("\n")),r.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join("\n")),"size"===options.optimize?(e="{ "+arrays.map(options.allowedStartRules,function(e){return e+": "+asts.indexOfRule(ast,e)}).join(", ")+" }",t=asts.indexOfRule(ast,options.allowedStartRules[0]),r.push(["      peg$startRuleIndices = "+e+",","      peg$startRuleIndex   = "+t+","].join("\n"))):(s="{ "+arrays.map(options.allowedStartRules,function(e){return e+": peg$parse"+e}).join(", ")+" }",p="peg$parse"+options.allowedStartRules[0],r.push(["      peg$startRuleFunctions = "+s+",","      peg$startRuleFunction  = "+p+","].join("\n"))),r.push(""),r.push(indent6(generateTables())),r.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join("\n")),options.cache&&r.push(["      peg$resultsCache = {},",""].join("\n")),options.trace&&("size"===options.optimize&&(n="["+arrays.map(ast.rules,function(e){return'"'+js.stringEscape(e.name)+'"'}).join(", ")+"]",r.push(["      peg$ruleNames = "+n+",",""].join("\n"))),r.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join("\n"))),r.push(["      peg$result;",""].join("\n")),"size"===options.optimize?r.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join("\n")):r.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join("\n")),r.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join("\n")),"size"===options.optimize?(r.push(indent2(generateInterpreter())),r.push("")):arrays.each(ast.rules,function(e){r.push(indent2(generateRuleFunction(e))),r.push("")}),ast.initializer&&(r.push(indent2(ast.initializer.code)),r.push("")),"size"===options.optimize?r.push("  peg$result = peg$parseRule(peg$startRuleIndex);"):r.push("  peg$result = peg$startRuleFunction();"),r.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join("\n")),r.join("\n")}function generateWrapper(e){function t(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join("\n")}function s(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join("\n"):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join("\n")}return{bare:function(){return[t(),"(function() {",'  "use strict";',"",indent2(e),"",indent2("return "+s()+";"),"})()"].join("\n")},commonjs:function(){var p=[],n=objects.keys(options.dependencies),r=arrays.map(n,function(e){return e+' = require("'+js.stringEscape(options.dependencies[e])+'")'});return p.push([t(),"",'"use strict";',""].join("\n")),r.length>0&&(p.push("var "+r.join(", ")+";"),p.push("")),p.push([e,"","module.exports = "+s()+";",""].join("\n")),p.join("\n")},amd:function(){var p=objects.values(options.dependencies),n=objects.keys(options.dependencies),r="["+arrays.map(p,function(e){return'"'+js.stringEscape(e)+'"'}).join(", ")+"]",i=n.join(", ");return[t(),"define("+r+", function("+i+") {",'  "use strict";',"",indent2(e),"",indent2("return "+s()+";"),"});",""].join("\n")},globals:function(){return[t(),"(function(root) {",'  "use strict";',"",indent2(e),"",indent2("root."+options.exportVar+" = "+s()+";"),"})(this);",""].join("\n")},umd:function(){var p=[],n=objects.values(options.dependencies),r=objects.keys(options.dependencies),i="["+arrays.map(n,function(e){return'"'+js.stringEscape(e)+'"'}).join(", ")+"]",o=arrays.map(n,function(e){return'require("'+js.stringEscape(e)+'")'}).join(", "),a=r.join(", ");return p.push([t(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+i+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+o+");"].join("\n")),null!==options.exportVar&&p.push(["  } else {","    root."+options.exportVar+" = factory();"].join("\n")),p.push(["  }","})(this, function("+a+") {",'  "use strict";',"",indent2(e),"",indent2("return "+s()+";"),"});",""].join("\n")),p.join("\n")}}[options.format]()}ast.code=generateWrapper(generateToplevel())}module.exports=generateJS;
},{"../../utils/arrays":"mEVg","../../utils/objects":"1HYV","../asts":"WDMO","../opcodes":"3S6x","../js":"4CFN"}],"bAKt":[function(require,module,exports) {
"use strict";var arrays=require("../utils/arrays"),objects=require("../utils/objects"),compiler={visitor:require("./visitor"),passes:{check:{reportUndefinedRules:require("./passes/report-undefined-rules"),reportDuplicateRules:require("./passes/report-duplicate-rules"),reportDuplicateLabels:require("./passes/report-duplicate-labels"),reportInfiniteRecursion:require("./passes/report-infinite-recursion"),reportInfiniteRepetition:require("./passes/report-infinite-repetition")},transform:{removeProxyRules:require("./passes/remove-proxy-rules")},generate:{generateBytecode:require("./passes/generate-bytecode"),generateJS:require("./passes/generate-js")}},compile:function(ast,passes,options){var stage;for(stage in options=void 0!==options?options:{},options=objects.clone(options),objects.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:!1,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:!1}),passes)passes.hasOwnProperty(stage)&&arrays.each(passes[stage],function(e){e(ast,options)});switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}};module.exports=compiler;
},{"../utils/arrays":"mEVg","../utils/objects":"1HYV","./visitor":"NvoU","./passes/report-undefined-rules":"sC2i","./passes/report-duplicate-rules":"nxhj","./passes/report-duplicate-labels":"l5oL","./passes/report-infinite-recursion":"AOtE","./passes/report-infinite-repetition":"9xzp","./passes/remove-proxy-rules":"oWvK","./passes/generate-bytecode":"bclG","./passes/generate-js":"j2YI"}],"o2oZ":[function(require,module,exports) {
"use strict";var r=require("./utils/arrays"),e=require("./utils/objects"),s={VERSION:"0.10.0",GrammarError:require("./grammar-error"),parser:require("./parser"),compiler:require("./compiler"),generate:function(a,i){i=void 0!==i?i:{};var p="plugins"in(i=e.clone(i))?i.plugins:[],u={parser:s.parser,passes:function(r){var s,a={};for(s in r)r.hasOwnProperty(s)&&(a[s]=e.values(r[s]));return a}(s.compiler.passes)};return r.each(p,function(r){r.use(u,i)}),s.compiler.compile(u.parser.parse(a),u.passes,i)}};module.exports=s;
},{"./utils/arrays":"mEVg","./utils/objects":"1HYV","./grammar-error":"vvJ7","./parser":"Wwef","./compiler":"bAKt"}],"SZ6B":[function(require,module,exports) {
(function(){"use strict";var n,e,t;require("fs"),n=require("pegjs"),t=n.generate('{\n    var RESERVED_ATTRIBUTES = {id: true};\n\n    function warning(msg) {\n        var startLocation = location().start;\n        options.warnings.push({\n            message: msg,\n            line: startLocation.line,\n            column: startLocation.column\n        });\n    }\n\n    function forEachType(arr, type, callback){\n        for (var i = 0, n = arr.length; i < n; i++){\n            if (arr[i].type === type) callback(arr[i], i, arr);\n        }\n    }\n\n    function flattenArray(arr){\n        for (var i = 0, n = arr.length; i < n; i++){\n            if (!Array.isArray(arr[i]))\n                continue;\n\n            var child = arr[i];\n\n            child.unshift(i, 1);\n            arr.splice.apply(arr, child);\n\n            i--;\n            n += child.length - 3;\n        }\n\n        return arr;\n    }\n}\n\nStart\n    = constants:Constant* objects:MainType* {\n        return {\n            constants: constants,\n            objects: objects\n        };\n    }\n\n/* HELPERS */\n\nSourceCharacter\n    = .\n\nLetter "letter"\n    = [a-zA-Z_$]\n\nWord "word"\n    = $[a-zA-Z0-9_$]+\n\nVariable\n    = $(Letter Word?)\n\nReference\n    = $(Variable ("." Variable)+)\n\nLineTerminator "line terminator"\n    = [\\n\\r\\u2028\\u2029]\n\nLineTerminatorSequence "end of line"\n    = "\\n"\n    / "\\r\\n"\n    / "\\r"\n    / "\\u2028"\n    / "\\u2029"\n\nZs = [\\u0020\\u00A0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]\nWhiteSpace "whitespace"\n    = "\\t"\n    / "\\v"\n    / "\\f"\n    / " "\n    / "\\u00A0"\n    / "\\uFEFF"\n    / Zs\n\nHexDigit\n    = [0-9a-f]i\n\nDecimalDigit\n    = [0-9]\n\nSingleEscapeCharacter "escape character"\n    = "\'"\n    / \'"\'\n    / "\\\\"\n    / "b"  { return "\\b";   }\n    / "f"  { return "\\f";   }\n    / "n"  { return "\\n";   }\n    / "r"  { return "\\r";   }\n    / "t"  { return "\\t";   }\n    / "v"  { return "\\x0B"; }   // IE does not recognize "\\v".\n\nNonEscapeCharacter\n  = !(EscapeCharacter / LineTerminator) SourceCharacter { return text(); }\n\nEscapeCharacter\n    = SingleEscapeCharacter\n    / DecimalDigit\n    / "x"\n    / "u"\n\nComment "comment"\n    = MultiLineComment\n    / SingleLineComment\n\nMultiLineComment\n    = WhiteSpace* "/*" (!"*/" SourceCharacter)* "*/"\n\nSingleLineComment\n    = WhiteSpace* "//" (!LineTerminator SourceCharacter)*\n\nStringLiteral "string literal"\n    = \'"\' chars:$DoubleStringCharacter* \'"\' {\n        return chars;\n    }\n    / "\'" chars:$SingleStringCharacter* "\'" {\n        return chars;\n    }\n\nDoubleStringCharacter\n    = !(\'"\' / "\\\\" / LineTerminator) SourceCharacter { return text(); }\n    / "\\\\" sequence:EscapeSequence { return sequence; }\n    / LineContinuation\n\nSingleStringCharacter\n    = !("\'" / "\\\\" / LineTerminator) SourceCharacter { return text(); }\n    / "\\\\" sequence:EscapeSequence { return sequence; }\n    / LineContinuation\n\nLineContinuation\n    = "\\\\" LineTerminatorSequence { return ""; }\n\nInlineBrackets\n    = \'(\' (!\')\' (StringLiteral / InlineBrackets / SourceCharacter))* \')\'\n\nEscapeSequence\n    = CharacterEscapeSequence\n    / "0" !DecimalDigit { return "\\0"; }\n    / HexEscapeSequence\n    / UnicodeEscapeSequence\n\nCharacterEscapeSequence\n    = SingleEscapeCharacter\n    / NonEscapeCharacter\n\nHexEscapeSequence\n    = "x" digits:$(HexDigit HexDigit) {\n        return String.fromCharCode(parseInt(digits, 16));\n    }\n\nUnicodeEscapeSequence\n    = "u" digits:$(HexDigit HexDigit HexDigit HexDigit) {\n        return String.fromCharCode(parseInt(digits, 16));\n    }\n\n__\n    = (WhiteSpace / LineTerminatorSequence / Comment)*\n\n/* ATTRIBUTE */\n\nAttributeName "attribute name"\n    = name:(Reference / Variable) {\n        if (RESERVED_ATTRIBUTES[name]){\n            error(name+" syntax error");\n        }\n        return name;\n    }\n\nAttributeEnds\n    = ";"\n    / LineTerminator\n    / Comment\n\nAttributeBody\n    = d:Type AttributeEnds? { return d }\n    / "{" __ "}" AttributeEnds { return "{}" }\n    / "[" __ "]" AttributeEnds { return "[]" }\n    / "{" d:(__ d:Declaration __ { return d })* __ "}" AttributeEnds { return d }\n    / "[" d:Type* "]" AttributeEnds { return d }\n    / d:$StringLiteral AttributeEnds { return d }\n    / value:(!AttributeEnds d:($StringLiteral/SourceCharacter) {return d})+ AttributeEnds {\n        return value.join(\'\').trim()\n    }\n\nAttributeDeclaration\n    = name:AttributeName ":" WhiteSpace* {return name}\n\nAttribute "attribute"\n    = name:AttributeDeclaration value:AttributeBody {\n        return { type: \'attribute\', name: name, value: value };\n    }\n\n/* PROPERTY */\n\nPropertyToken\n    = "property"\n\nPropertyValue\n    = Function\n    / Attribute\n    / d:AttributeName AttributeEnds {return d}\n\nFullProperty\n    = PropertyToken WhiteSpace+ value:PropertyValue {\n        var name = value.name || value;\n        var obj = { type: \'property\', name: name };\n        return typeof value === \'string\' ? obj : [obj, value];\n    }\n\nFunctionProperty\n    = d:NamedFunction {\n        return [\n            { type: \'property\', name: d.name },\n            d\n        ];\n    }\n\nProperty "custom property"\n    = FullProperty\n    / FunctionProperty\n\n/* SIGNAL */\n\nSignalToken\n    = "signal"\n\nSignalValue\n    = Function\n    / d:AttributeName AttributeEnds {return d}\n\nSignal "custom signal"\n    = SignalToken WhiteSpace+ value:SignalValue {\n        var name = value.name || value;\n        var obj = { type: \'signal\', name: name };\n        return typeof value === \'string\' ? obj : [obj, value];\n    }\n\n/* ID */\n\nIdToken\n    = "id"\n\nId "id declaration"\n    = IdToken ":" WhiteSpace* value:Variable AttributeEnds {\n        if (options.ids[value]) {\n            error("Id \'" + value + "\' is already defined");\n        }\n        options.ids[value] = true;\n        return { type: \'id\', value: value };\n    }\n\n/* FUNCTION */\n\nFunctionToken\n    = "function"\n\nFunctionBody "function brackets"\n    = "{" FunctionInnerBody "}"\n\nFunctionInnerBody "function brackets"\n    = (!"}" FunctionBodyText)*\n\nFunctionBodyText "function code"\n    = StringLiteral / Comment / FunctionBody / SourceCharacter\n\nFunctionParams "function parameters"\n    = "(" first:Variable? rest:(WhiteSpace* "," WhiteSpace* d:Variable { return d })* ")" {\n        return first ? flattenArray([first, rest]) : [];\n    }\n\nFunctionName "function name"\n    = (Variable ".")* Variable\n\nFunction "function"\n    = name:$FunctionName (":" WhiteSpace* FunctionToken)? WhiteSpace* params:FunctionParams WhiteSpace* "{" body:$FunctionInnerBody "}" AttributeEnds {\n        return { type: \'function\', name: name, params: params, code: body };\n    }\n\n/* NAMED FUNCTION */\n\nNamedFunction "function with name"\n    = FunctionToken WhiteSpace+ name:$FunctionName WhiteSpace* params:FunctionParams WhiteSpace* "{" body:$FunctionInnerBody "}" AttributeEnds {\n        return { type: \'function\', name: name, params: params, code: body };\n    }\n\n/* ANONYMOUS FUNCTION */\n\nAnonymousFunction "anonymous function"\n    = FunctionToken WhiteSpace* params:FunctionParams WhiteSpace* "{" body:$FunctionInnerBody "}" AttributeEnds {\n        return { type: \'function\', name: \'\', params: params, code: body };\n    }\n\n/* DECLARATION */\n\nDeclaration\n    = __ d:(Function / Id / Attribute / Property / Signal / Type) {\n        return d\n    }\n\nDeclarations\n    = d:(Declaration / ConditionStatement / SelectStatement)* { return flattenArray(d) }\n\n/* TYPE */\n\nTypeNameRest\n    = "." ("/"? Variable)+\n    / "[\'" (("." / "/")? Variable)+ "\']"\n    / "[\\"" (("." / "/")? Variable)+ "\\"]"\n\nTypeName "renderer type name"\n    = "@" d:$(Variable TypeNameRest?) {\n        if (d.indexOf(\'/\') !== -1 && d.indexOf(\'[\') === -1){\n            return d.replace(/\\.([a-zA-Z0-9_/]+)$/, "[\'$1") + "\']";\n        }\n        return d;\n    }\n\nTypeBody "renderer type body"\n    = __ d:Declarations __ { return d }\n\nType "renderer type"\n    = __ name:TypeName query:$(WhiteSpace+ SelectCondition)? WhiteSpace* "{" body:TypeBody "}" __ {\n        var obj = { type: \'object\', name: name, id: \'\', body: body };\n\n        forEachType(body, "id", function(elem){\n            if (obj.id){\n                error("item can has only one id");\n            }\n            obj.id = elem.value;\n        });\n\n        if (!obj.id) {\n            obj.id = "_i" + options.lastUid++;\n        }\n\n        if (query) {\n        \tobj.body.unshift({ type: \'attribute\', name: \'query\', value: "\'" + query.trim() + "\'" })\n        }\n\n        return obj;\n    }\n\nMainType\n    = Type / SelectStatement\n\n/* CONDITION STATEMENT */\n\nConditionToken\n    = "if"\n\nConditionStatement "condition statement"\n    = __ ConditionToken WhiteSpace* "(" WhiteSpace* cond:$(!")" d:($StringLiteral/$InlineBrackets/SourceCharacter) {return d})+ WhiteSpace* ")" WhiteSpace* "{" body:TypeBody "}" __ {\n        return { type: \'condition\', condition: cond, body: body };\n    }\n\n/* SELECT STATEMENT */\n\nSelectCondition\n\t= $[^{}\\n@]+\n\nSelectStatement "select statement"\n    = __ cond:SelectCondition WhiteSpace* "{" body:TypeBody "}" __ {\n        return { type: \'select\', query: "\'" + cond.trim() + "\'", body: body };\n    }\n\n/* CONSTANT */\n\nConstantToken\n    = "const"\n\nConstantValue "constant value"\n    = $NamedFunction\n    / $AnonymousFunction\n    / $StringLiteral\n    / $FunctionBody\n    / d:$(!AttributeEnds SourceCharacter)+ AttributeEnds {return d}\n\nConstant "constant value"\n    = __ ConstantToken WhiteSpace+ name:$(!"=" .)+ "=" WhiteSpace+ value:ConstantValue AttributeEnds? __ {\n        return {\n            name: name.trim(),\n            value: value\n        };\n    }\n'),e=function(n,e){var t,r,a,i,o,u,c,d,s;if(!e.location)return e;for(i=n.split("\n"),s=(u=e.location).start,t=u.end,o="\n",r=a=c=s.line-1,d=t.line-1;c<=d?a<=d:a>=d;r=c<=d?++a:--a)o+="    "+i[r]+"\n";return o+="Line: "+s.line+"\n\nColumn: "+s.column+"\n\n"+e.message},exports.parse=function(n,r){var a,i,o,u,c;c=[];try{o=t.parse(n,{warnings:c,ids:{},lastUid:0})}catch(d){throw Error(e(n,d))}for(a=0,i=c.length;a<i;a++)u=c[a],r.warning(u.message);return o}}).call(this);
},{"fs":"8ITs","pegjs":"o2oZ"}],"ylvh":[function(require,module,exports) {
(function(){"use strict";exports.ID_TYPE="id",exports.ATTRIBUTE_TYPE="attribute",exports.FUNCTION_TYPE="function",exports.OBJECT_TYPE="object",exports.PROPERTY_TYPE="property",exports.SIGNAL_TYPE="signal",exports.CONDITION_TYPE="condition",exports.SELECT_TYPE="select",exports.NESTING_TYPE="nesting",exports.forEachLeaf=function(e,t){var n,o,l,r,s,u,i,p,a,c,T,E,f,y,d,x,P,Y;return n=e.ast,a=e.onlyType,p=e.omitTypes,i=e.omitDeepTypes,r=null!=(T=e.includeGiven)&&T,s=null!=(E=e.includeValues)&&E,l=null!=(f=e.deeply)&&f,c=null!=(y=e.parent)?y:null,t||(Y=[],t=function(e){return Y.push(e)}),o={ast:n.value,onlyType:a,omitTypes:p,omitDeepTypes:i,deeply:l,includeValues:s},u=function(e){var t;return(t=!a||e===a)&&(t=!p||!p.has(e)),t},r&&u(n.type)&&t(n,c),s&&(null!=(d=n.value)?d.type:void 0)&&exports.forEachLeaf(Object.assign({},o,{ast:n.value,includeGiven:!0,includeValues:s&&l,parent:n}),t),l?null!=(x=n.body)&&x.forEach(function(e){if(!i||!i.has(e.type))return exports.forEachLeaf(Object.assign({},o,{ast:e,includeGiven:!0,parent:n}),t)}):null!=(P=n.body)&&P.forEach(function(e){if(u(e.type))return t(e,n)}),Y}}).call(this);
},{}],"XDfx":[function(require,module,exports) {
(function(){"use strict";var t,i,e,n,r,s,o,u,a,c,p=function(t,i){return function(){return t.apply(i,arguments)}},h=[].slice;a=require("@neft/core"),c=a.util,r=a.Renderer,o=require("@neft/compiler-binding"),u=require("./nmlAst"),e={__proto__:null,Renderer:!0},n={__proto__:null,New:!0},i=o.BINDING_THIS_TO_TARGET_OPTS,t={modifyBindingPart:function(t){return r[t[0]]&&t.unshift("Renderer"),t}},s=function(){function r(t,i,e){this.ast=t,this.path=i,null==e&&(e=0),this.isBindingPublicId=p(this.isBindingPublicId,this),this.isBindingPublicVariable=p(this.isBindingPublicVariable,this),this.lastUID=e,this.objects=u.forEachLeaf({ast:this.ast,onlyType:u.OBJECT_TYPE,includeGiven:!0,includeValues:!0,deeply:!0,omitDeepTypes:new Set([u.NESTING_TYPE])}),this.ids=this.objects.map(function(t){return t.id}),this.publicIds=this.ids.filter(function(t){return"_"!==t[0]})}return r.prototype.getNextUID=function(){return"_r"+this.lastUID++},r.prototype.isBindingPublicVariable=function(t){return e[t]||c.has(this.publicIds,t)},r.prototype.isBindingPublicId=function(t){return"this"===t||this.isBindingPublicVariable(t)},r.prototype.stringifyObject=function(t){var i,e,n,s,o,a,p,h,y,f,T,l,g,d;for(p=[],i=[],o=[],n=[],T=[],a=0,y=(d=t.body).length;a<y;a++)switch((e=d[a]).type){case u.ID_TYPE:p.push(e);break;case u.ATTRIBUTE_TYPE:i.push(e);break;case u.FUNCTION_TYPE:o.push(e);break;case u.OBJECT_TYPE:case u.CONDITION_TYPE:case u.SELECT_TYPE:n.push(e);break;case u.NESTING_TYPE:T.push.apply(T,e.body);break;case u.PROPERTY_TYPE:case u.SIGNAL_TYPE:break;default:throw new Error("Unknown object type '"+e.type+"'")}for(g=[],h=0,f=p.length;h<f;h++)s=p[h],g.push({type:"primitive",name:"id",value:'"'+s.value+'"'});return c.isEmpty(i)||g.push.apply(g,i),c.isEmpty(o)||g.push.apply(g,o),c.isEmpty(n)||g.push({type:u.ATTRIBUTE_TYPE,name:"children",value:n}),c.isEmpty(T)||(l=new r({type:u.NESTING_TYPE,body:T},this.path,10*this.lastUID),g.push({type:u.ATTRIBUTE_TYPE,name:"nesting",value:{type:u.FUNCTION_TYPE,params:[],code:"\n"+l.stringify()}})),c.isEmpty(g)?t.id:"_RendererObject.setOpts("+t.id+", "+this.stringifyOpts(g)+")"},r.prototype.stringifyAttribute=function(t){var i;return i=t.value,Array.isArray(i)?this.stringifyAttributeListValue(i):(null!=i?i.type:void 0)?this.stringifyAnyObject(i):this.isAnchor(t)?this.anchorToString(i):this.isReference(i)?this.referenceToString(i):o.isBinding(i)?this.bindingToString(i):i},r.prototype.stringifyAttributeListValue=function(t){var i,e,n;return e=t.map(function(t){return t.type}),(n=c.has(e,u.ATTRIBUTE_TYPE))||(n=c.has(e,u.FUNCTION_TYPE)),n||(n=c.has(e,"primitive")),n?this.stringifyOpts(t):"["+function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(this.stringifyAnyObject(i));return r}.call(this).join(", ")+"]"},r.prototype.stringifyFunction=function(t){var i;return(i="")&&String(t.params)&&(i+=","),"function("+(i+=String(t.params))+"){"+t.code+"}"},r.prototype.createClass=function(t){var i,e,n,r,s,o,a;for(e=[],i=[],r=0,s=(a=t.body).length;r<s;r++)switch((n=a[r]).type){case u.ATTRIBUTE_TYPE:case u.FUNCTION_TYPE:e.push(n);break;default:i.push(n)}return o={type:u.OBJECT_TYPE,name:"Class",id:this.getNextUID(),body:[{type:u.ATTRIBUTE_TYPE,name:"changes",value:e}].concat(h.call(i))},this.objects.push(o),this.ids.push(o.id),o},r.prototype.stringifyCondition=function(t){var e;return(e=this.createClass(t)).body.unshift({type:u.ATTRIBUTE_TYPE,name:"running",value:{type:"primitive",value:this.bindingToString(t.condition,i)}}),this.stringifyObject(e)},r.prototype.stringifySelect=function(t){var i;return(i=this.createClass(t)).body.unshift({type:u.ATTRIBUTE_TYPE,name:"document.query",value:t.query}),this.stringifyObject(i)},r.prototype.stringifyNesting=function(t){return"return "+this.stringifyAttributeListValue(t.body)},r.prototype.stringifyPrimitiveType=function(t){return t.value},r.prototype.stringifyAnyObject=function(t){switch(t.type){case u.ATTRIBUTE_TYPE:return this.stringifyAttribute(t);case u.FUNCTION_TYPE:return this.stringifyFunction(t);case u.OBJECT_TYPE:return this.stringifyObject(t);case u.CONDITION_TYPE:return this.stringifyCondition(t);case u.SELECT_TYPE:return this.stringifySelect(t);case u.NESTING_TYPE:return this.stringifyNesting(t);case"primitive":return this.stringifyPrimitiveType(t);default:throw new Error("Unknown NML object '"+t.type+"'")}},r.prototype.bindingToString=function(i,e){var n;return null==e&&(e=0),"["+("function(){return "+(n=o.parse(i,this.isBindingPublicId,e,t,this.isBindingPublicVariable)).hash+"}")+", "+n.connections+"]"},r.prototype.isAnchor=function(t){return 0===t.name.indexOf("anchors.")},r.prototype.anchorToString=function(t){return JSON.stringify(t.split("."))},r.prototype.isReference=function(t){return"string"==typeof t&&c.has(this.publicIds,t)},r.prototype.referenceToString=function(t){return t},r.prototype.getIdsObject=function(t){var i,e,n,r,s;for(i=[],e=0,r=(s=this.ids).length;e<r;e++)n=s[e],i.push('"'+n+'": '+n);return"{"+i.join(", ")+"}"},r.prototype.stringifyOpts=function(t){var i;return"{"+function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push('"'+i.name+'": '+this.stringifyAnyObject(i));return r}.call(this).join(", ")+"}"},r.prototype.getItemsCreator=function(){var t,i,e,n,r;for(r="",i=0,e=(n=this.objects).length;i<e;i++)r+="const "+(t=n[i]).id+" = "+t.name+".New()\n",this.path&&(r+=t.id+'._path = "'+this.path+'"\n');return r},r.prototype.getItemsProperties=function(){var t,i,e,n,r,s,o,a,c;for(c="",i=0,n=(a=this.objects).length;i<n;i++)for(t=a[i],e=0,r=(s=u.forEachLeaf({ast:t,onlyType:u.PROPERTY_TYPE})).length;e<r;e++)o=s[e],c+="_RendererObject.createProperty("+t.id+', "'+o.name+'")\n';return c},r.prototype.getItemsSignals=function(){var t,i,e,n,r,s,o,a,c;for(o="",i=0,n=(s=this.objects).length;i<n;i++)for(t=s[i],e=0,r=(c=u.forEachLeaf({ast:t,onlyType:u.SIGNAL_TYPE})).length;e<r;e++)a=c[e],o+="_RendererObject.createSignal("+t.id+', "'+a.name+'")\n';return o},r.prototype.stringify=function(){var t,i;if(n[this.ast.id])throw new Error("Reserved NML id '"+this.ast.id+"'");return i="",t=this.stringifyAnyObject(this.ast),i+=this.getItemsCreator(),i+=this.getItemsProperties(),i+=this.getItemsSignals(),t&&(i+=t+"\n"),this.ast.type===u.NESTING_TYPE?i:(i+="return { objects: "+this.getIdsObject(this.ast),this.ast.id?i+=", item: "+this.ast.id:i+=", select: "+this.ids[0],i+=" }")},r}(),exports.stringify=function(t,i){return new s(t,i).stringify()}}).call(this);
},{"@neft/core":"lp4R","@neft/compiler-binding":"a2Ly","./nmlAst":"ylvh"}],"dxB6":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"r7L2"}],"0j3C":[function(require,module,exports) {
(function(){"use strict";var e,n,r,t,o,s,c;c=require("path"),e=require("fs"),t=function(e){if(e.ref)return e.ref;if(e.path)return'require("'+e.path+'")';throw new Error("Unsupported import config object '"+e+"'")},o=function(e){var n,r,o,s,c;for(s="",r=0,o=e.length;r<o;r++)n=e[r],c=t(n),s+="const "+n.name+" = "+c+"\n";return s},n=function(e){var n,r,t,o;for(o="",r=0,t=e.length;r<t;r++)o+="const "+(n=e[r]).name+" = "+n.value+"\n";return o},s=function(e,n){var r,t,o,s,c,u;for(u="",t=o=0,s=n.length;o<s;t=++o)r="  "+(c=n[t]).code.replace(/\n/g,"\n  "),"select"===e[t].type?u+="exports.selects.push(() => {\n"+r+"\n})\n":u+="exports."+c.id+" = () => {\n"+r+"\n}\n";return u},r=function(n){var r;return r=n,c.isAbsolute(n)&&(r=c.relative(e.realpathSync("."),n)),'exports._path = "'+r+'"\n'},exports.bundle=function(e){var t,c,u,i,p,a,f;return a=e.path,u=e.imports,t=e.constants,p=e.objects,i=e.objectCodes,e.queries,c=p.find(function(e){return"select"===e.type}),f="const exports = {}\n\nconst { Renderer } = require('@neft/core')\nconst _RendererObject = Renderer.itemUtils.Object\n",f+=o(u),f+=n(t),c&&(f+="exports.selects = []\n"),f+=s(p,i),a&&(f+=r(a)),f+="return exports"}}).call(this);
},{"path":"dxB6","fs":"8ITs"}],"tJn+":[function(require,module,exports) {
(function(){"use strict";var r,e=[].slice;r=require("./nmlAst"),exports.getQueries=function(t){var n,l,i,u,a,o;for(a={},o={},n=function(t,l){var i,u,s,c,f,h,y,g,v,d;if(t.id&&(l=e.call(l).concat([t.id])),Array.isArray(t.body)){for(d=[],u=0,f=(g=t.body).length;u<f;u++)i=g[u],d.push(n(i,l));return d}if(Array.isArray(null!=(v=t.value)?v.body:void 0))return n(t.value,l);if(t.type===r.ATTRIBUTE_TYPE&&"query"===t.name){if(y=t.value.slice(1,-1),l.length>1){for(h="",s=c=l.length-2;c>=0&&!(h=o[l[s]]);s=c+=-1);h&&(y=h+" "+y)}return o[l[l.length-1]]=y,a[y]=l.length>1?[l[0],l[l.length-1]]:[l[0]]}},l=0,i=t.length;l<i;l++)u=t[l],n(u,[]);return a}}).call(this);
},{"./nmlAst":"ylvh"}],"Xv0R":[function(require,module,exports) {
(function(){"use strict";var e,t,n;t=require("@neft/core").Renderer,n=require("./nmlAst"),e=function(){function e(e){this.objects=e,this.usedTypes=this.getUsedTypes()}return e.prototype.getUsedTypes=function(){var e,t,r,s,o;for(o={__proto__:null,Class:!0,Device:!0,Navigator:!0,Screen:!0},e=0,t=(s=this.objects).length;e<t;e++)r=s[e],n.forEachLeaf({ast:r,onlyType:n.OBJECT_TYPE,includeGiven:!0,includeValues:!0,deeply:!0},function(e){return o[e.name]=!0});return Object.keys(o)},e.prototype.getDefaultImports=function(){var e,n,r,s,o;for(o=[],e=0,r=(s=this.usedTypes).length;e<r;e++)n=s[e],null!=t[n]&&o.push({name:n,ref:"Renderer."+n});return o},e.prototype.findAll=function(){return this.getDefaultImports()},e}(),exports.getImports=function(t){var n;return n=t.objects,new e(n).findAll()}}).call(this);
},{"@neft/core":"lp4R","./nmlAst":"ylvh"}],"U/hf":[function(require,module,exports) {
(function(){var e,a,n,t,l,r,i=[].slice;l=require("./nmlAst"),e=l.ATTRIBUTE_TYPE,n=l.forEachLeaf,t=function(e){var a;return(a=e.startsWith("'")&&e.endsWith("'"))||(a=e.startsWith('"')&&e.endsWith('"')),a},a={margin:r=function(a){var n,l,r,i,u,s,o;if(r=t(a.value),l=!isNaN(a.value),r){if(!(u=a.value.slice(1,-1).split(" ")).every(function(e){return!isNaN(e)}))return[];switch((u=u.map(function(e){return parseFloat(e)||0})).length){case 1:i=o=s=n=u[0];break;case 2:o=n=u[0],i=s=u[1];break;case 3:o=u[0],i=s=u[1],n=u[2];break;default:o=u[0],s=u[1],n=u[2],i=u[3]}}else l?i=o=s=n=parseFloat(a.value)||0:(o=a.value,i=s=n="this."+a.name+".left");return[{type:e,name:a.name+".top",value:o},{type:e,name:a.name+".right",value:s},{type:e,name:a.name+".bottom",value:n},{type:e,name:a.name+".left",value:i}]},padding:r,alignment:function(a){var n,l;return t(a.value)?n=l=a.value:(n=a.value,l="this.alignment.horizontal"),[{type:e,name:a.name+".horizontal",value:n},{type:e,name:a.name+".vertical",value:l}]}},exports.transform=function(t){var l;l=[],n({ast:t,onlyType:e,includeValues:!0,deeply:!0},function(e,n){a[e.name]&&l.push({elem:e,parent:n})}),l.forEach(function(e){var n,t,l,r,u;return n=e.elem,r=e.parent,l=a[n.name],t=r.body.indexOf(n),(u=r.body).splice.apply(u,[t,1].concat(i.call(l(n))))})}}).call(this);
},{"./nmlAst":"ylvh"}],"zKWu":[function(require,module,exports) {
(function(){var n,t,e,r,i,u,a,f,o=[].indexOf||function(n){for(var t=0,e=this.length;t<e;t++)if(t in this&&this[t]===n)return t;return-1};f=require("./nmlAst"),i=f.SELECT_TYPE,e=f.OBJECT_TYPE,n=f.CONDITION_TYPE,t=f.NESTING_TYPE,a=f.forEachLeaf,r=[i,e,n],u=function(n){var e;e=[],n.body.forEach(function(n){var t;if(t=n.type,o.call(r,t)>=0)return e.push(n)}),n.body=n.body.filter(function(n){var t;return t=n.type,o.call(r,t)<0}),e.length>0&&n.body.push({type:t,body:e})},exports.transform=function(t){a({ast:t,includeGiven:!0,includeValues:!0,deeply:!0},function(t,r){var a;if((a=t.type===i)||(a=t.type===n),a||(a=t.type===e&&"Class"===t.name),a)return u(t)})}}).call(this);
},{"./nmlAst":"ylvh"}],"jwep":[function(require,module,exports) {
(function(){var e,r,t,s,o,n,i;e=require("./astParser"),t=require("./codeStringifier"),r=require("./bundler"),o=require("./queriesFinder"),s=require("./importsFinder"),i=require("./transformNamespaceSetters"),n=require("./transformClassNesting"),exports.getAST=function(r,t){return e.parse(r,t)},exports.getObjectCode=function(e){var r,s;return r=e.ast,s=e.path,t.stringify(r,s)},exports.getQueries=function(e){return o.getQueries(e)},exports.getImports=function(e){return s.getImports(e)},exports.transformNamespaceSetters=function(e){return i.transform(e)},exports.transformClassNesting=function(e){return n.transform(e)},exports.bundle=function(e,t){var s,o,n,i,u,a,p,c;for(a=[],o=0,i=(c=(s=exports.getAST(e,t)).objects).length;o<i;o++)u=c[o],exports.transformNamespaceSetters(u),exports.transformClassNesting(u),a.push({id:u.id,code:exports.getObjectCode({ast:u,path:t.resourcePath})});return p=exports.getQueries(s.objects),n=exports.getImports(s),{bundle:r.bundle({path:t.resourcePath,imports:n,constants:s.constants,objects:s.objects,objectCodes:a,queries:p}),queries:p}}}).call(this);
},{"./astParser":"SZ6B","./codeStringifier":"XDfx","./bundler":"0j3C","./queriesFinder":"tJn+","./importsFinder":"Xv0R","./transformNamespaceSetters":"U/hf","./transformClassNesting":"zKWu"}],"Focm":[function(require,module,exports) {
var e=require("fs"),r=require("@neft/core"),n=r.util,t=require("@neft/compiler-document"),o=t.parseToAst,i=t.parseToCode,l=require("@neft/compiler-style"),a=l.bundle,s=[{name:"@neft/default-styles",file:"@Item body, div, li, pre, layer, article, aside, footer, header, hgroup, main, nav, section, ul, menu, dir, ol, li, dl, dt, dd, form, fieldset, pre {\n  layout: 'flow'\n  fillWidth: true\n}\n\n@Item p, address, blockquote, h1, h2, h3, h4, h5, h6, h7, legend {\n  layout: 'flow'\n  fillWidth: true\n\n  #text {\n    fillWidth: true\n  }\n}\n\n@Item u, strong, b, i, em, code, mark {\n  layout: 'flow'\n\n  #text {\n    fillWidth: true\n  }\n}\n\n@Image img {}\n"}].map(function(e){var r=e.name,n=e.file;return{name:r,queries:a(n,{resourcePath:r}).queries,path:"".concat(r,"/style.nml")}});window.NeftEditor={compile:function(e){var r=o(e),t="editor-".concat(n.uid(),".neft"),l={};r.queryAll("script").forEach(function(e){var r=e.queryParents("n-component"),n=t;if(r&&(n+="#".concat(r.props.name)),!(n in l)){var o=e.stringifyChildren();o=Babel.transform(o,{presets:["es2015"]}).code,l[n]={value:o}}});var u={};return r.queryAll("style").forEach(function(e){var r=e.queryParents("n-component"),n=t;if(r&&(n+="#".concat(r.props.name)),!(n in u)){var o=e.stringifyChildren(),i=a(o,{resourcePath:t});o=i.bundle,o="module.exports = (() => { ".concat(o," })()"),o=Babel.transform(o,{presets:["es2015"]}).code,u[n]={value:o,queries:i.queries}}}),i(r,{defaultStyles:s,resourcePath:t,scripts:l,styles:u}).code}};
},{"fs":"8ITs","@neft/core":"lp4R","@neft/compiler-document":"JaWY","@neft/compiler-style":"jwep"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map