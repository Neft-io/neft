module.exports = (function(){"use strict";function e(e,n){var r=e[n];return r in t?t[r]:"undefined"!=typeof Neft&&Neft[n]||"function"==typeof require&&require(n)||function(){throw new Error("Cannot find module '"+n+"'")}()}var t={"../utils/namespace.coffee.md":{},"../utils/stringifying.coffee.md":{},"../utils/async.coffee.md":{},"../utils/index.coffee.md":{},"../neft-assert/index.coffee.md":{},"../log/impls/node/index.coffee":{},"../log/index.coffee.md":{},"../signal/emitter.coffee":{},"../signal/index.coffee.md":{},"../list/index.coffee.md":{},"../dict/index.coffee.md":{},"../db/implementations/memory.coffee":{},"../db/implementation.coffee":{},"../db/index.coffee.md":{},"../schema/validators/array.coffee.md":{},"../schema/validators/object.coffee.md":{},"../schema/validators/optional.coffee.md":{},"../schema/validators/max.coffee.md":{},"../schema/validators/min.coffee.md":{},"../schema/validators/options.coffee.md":{},"../schema/validators/regexp.coffee.md":{},"../schema/validators/type.coffee.md":{},"../schema/index.coffee.md":{},"../networking/impl/node/index.coffee":{},"../networking/impl.coffee":{},"../networking/impl/node/request.coffee":{},"../document/element/element/text.coffee.md":{},"../document/element/element/tag/stringify.coffee":{},"../typed-array/index.coffee.md":{},"../document/element/element/tag.coffee.md":{},"../document/element/element/tag/query.coffee":{},"../document/node_modules/htmlparser2/node_modules/entities/maps/decode.json":{},"../document/node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js":{},"../document/node_modules/htmlparser2/node_modules/entities/maps/entities.json":{},"../document/node_modules/htmlparser2/node_modules/entities/maps/legacy.json":{},"../document/node_modules/htmlparser2/node_modules/entities/maps/xml.json":{},"../document/node_modules/htmlparser2/lib/Tokenizer.js":{},"../document/node_modules/htmlparser2/lib/Parser.js":{},"../document/node_modules/htmlparser2/node_modules/domelementtype/index.js":{},"../document/node_modules/htmlparser2/node_modules/domhandler/lib/node.js":{},"../document/node_modules/htmlparser2/node_modules/domhandler/lib/element.js":{},"../document/node_modules/htmlparser2/node_modules/domhandler/index.js":{},"../document/node_modules/htmlparser2/lib/index.js":{},"../document/element/element/parser.coffee":{},"../document/element/element.coffee.md":{},"../document/element/index.coffee":{},"../document/attrChange.coffee":{},"../document/use.coffee":{},"../document/input.coffee":{},"../document/input/text.coffee":{},"../document/input/attr.coffee":{},"../document/condition.coffee":{},"../document/iterator.coffee":{},"../document/log.coffee":{},"../renderer/impl.coffee":{},"../renderer/impl/base/level0/item.coffee":{},"../renderer/impl/base/level0/image.coffee":{},"../renderer/impl/base/level0/text.coffee":{},"../renderer/impl/base/level0/textInput.coffee":{},"../renderer/impl/base/level0/loader/font.coffee":{},"../renderer/impl/base/level0/loader/resources.coffee":{},"../renderer/impl/base/level0/device.coffee":{},"../renderer/impl/base/level0/screen.coffee":{},"../renderer/impl/base/level0/navigator.coffee":{},"../renderer/impl/base/level0/sensor/rotation.coffee":{},"../renderer/impl/base/level0/sound/ambient.coffee":{},"../renderer/impl/base/level1/rectangle.coffee":{},"../renderer/impl/base/level1/grid.coffee":{},"../renderer/impl/base/level1/column.coffee":{},"../renderer/impl/base/level1/row.coffee":{},"../renderer/impl/base/level1/flow.coffee":{},"../renderer/impl/base/level1/animation.coffee":{},"../renderer/impl/base/level1/animation/property.coffee":{},"../renderer/impl/base/level1/animation/number.coffee":{},"../renderer/impl/base/level2/scrollable.coffee":{},"../renderer/impl/base/level1/binding.coffee":{},"../renderer/impl/base/level1/anchors.coffee":{},"../renderer/impl/base/utils.coffee":{},"../renderer/impl/base/utils/grid.coffee":{},"../renderer/impl/base/index.coffee":{},"../renderer/impl/base/level0/item/pointer.coffee":{},"../renderer/utils/item.coffee":{},"../renderer/types/namespace/screen.coffee.md":{},"../renderer/types/namespace/device.coffee.md":{},"../renderer/types/namespace/navigator.coffee.md":{},"../renderer/types/namespace/sensor/rotation.coffee.md":{},"../renderer/types/extension.coffee":{},"../renderer/types/extensions/class.coffee.md":{},"../renderer/types/extensions/animation.coffee.md":{},"../renderer/types/extensions/animation/types/property.coffee.md":{},"../renderer/types/extensions/animation/types/property/types/number.coffee.md":{},"../renderer/types/extensions/transition.coffee.md":{},"../renderer/types/basics/component.coffee":{},"../renderer/types/basics/item.coffee.md":{},"../renderer/types/basics/item/spacing.coffee.md":{},"../renderer/types/basics/item/alignment.coffee.md":{},"../renderer/types/basics/item/anchors.coffee.md":{},"../renderer/types/basics/item/layout.coffee.md":{},"../renderer/types/basics/item/margin.coffee.md":{},"../renderer/types/basics/item/pointer.coffee.md":{},"../renderer/types/basics/item/keys.coffee.md":{},"../renderer/types/basics/item/document.coffee.md":{},"../renderer/types/basics/item/types/image.coffee.md":{},"../renderer/types/basics/item/types/text.coffee.md":{},"../renderer/types/basics/item/types/text/font.coffee.md":{},"../renderer/types/basics/item/types/textInput.coffee.md":{},"../renderer/types/shapes/rectangle.coffee.md":{},"../renderer/types/layout/grid.coffee.md":{},"../renderer/types/layout/column.coffee.md":{},"../renderer/types/layout/row.coffee.md":{},"../renderer/types/layout/flow.coffee.md":{},"../renderer/types/layout/scrollable.coffee.md":{},"../renderer/types/sound/ambient.coffee.md":{},"../resources/resource.coffee.md":{},"../resources/index.coffee.md":{},"../renderer/types/loader/resources.coffee.md":{},"../renderer/types/loader/font.coffee.md":{},"../renderer/index.coffee.md":{},"../document/func.coffee.md":{},"../document/attrsToSet.coffee":{},"../document/file/clear.coffee":{},"../document/file/parse/rules.coffee.md":{},"../document/file/parse/fragments/links.coffee.md":{},"../document/file/parse/fragments.coffee.md":{},"../document/file/parse/attrs.coffee.md":{},"../document/file/parse/attrChanges.coffee.md":{},"../document/file/parse/iterators.coffee.md":{},"../document/file/parse/target.coffee.md":{},"../document/file/parse/uses.coffee.md":{},"../document/file/parse/storage.coffee.md":{},"../document/file/parse/conditions.coffee.md":{},"../document/file/parse/ids.coffee.md":{},"../document/file/parse/logs.coffee.md":{},"../document/file/parse/funcs.coffee.md":{},"../document/file/parse/attrSetting.coffee.md":{},"../document/file/render/parse/target.coffee":{},"../document/file/render/revert/target.coffee":{},"../document/file.coffee.md":{},"../document/index.coffee.md":{},"node_modules/expect/index.coffee.md":{},"../networking/impl/node/response.coffee":{},"../networking/uri.coffee.md":{},"../networking/handler.coffee.md":{},"../networking/request.coffee.md":{},"../networking/response.coffee.md":{},"../networking/response/error.coffee.md":{},"../networking/index.coffee.md":{},"route.coffee.md":{},"bootstrap/route.node.coffee.md":{},"package.json":{},"../native/actions.coffee":{},"../native/bridge.coffee":{},"../native/index.coffee.md":{},"../styles/file/styles.coffee":{},"../styles/style.coffee":{},"../styles/index.coffee":{},"index.coffee.md":{}};t["../utils/namespace.coffee.md"]=function(){var module={exports:t["../utils/namespace.coffee.md"]},exports=(e.bind(null,{}),module.exports);return function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};module.exports=function(e){var n,r,i;return r=e.get=function(e,t,o){var s,a,l,u,c,f,p;switch(null==t&&(t=""),typeof t){case"object":t=exports.clone(t);break;case"string":t=t.split(".");break;default:throw new TypeError}for(a=u=0,f=t.length;f>u;a=++u){if(l=t[a],!l.length&&a)throw new ReferenceError("utils.get(): empty properties are not supported");if(i(l)){if(l=l.substring(0,l.indexOf("[]")),t=t.splice(a),t[0]=t[0].substring(l.length+2),t[0].length||t.shift(),null==o&&(o=new n),l.length&&(e=e[l]),"undefined"==typeof e)return void 0;for(c=0,p=e.length;p>c;c++)s=e[c],r(s,t.join("."),o);return o.length?o:void 0}if(l.length&&(e=e[l]),"object"!=typeof e&&"function"!=typeof e){a!==t.length-1&&(e=void 0);break}}return o&&"undefined"!=typeof e&&o.push(e),e},r.OptionsArray=n=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(Array),i=e.isStringArray=function(e){return/\[\]$/.test(e)}}}.call(this),module.exports}(),t["../utils/stringifying.coffee.md"]=function(){var module={exports:t["../utils/stringifying.coffee.md"]},exports=(e.bind(null,{}),module.exports);return function(){var e;e=Array.isArray,module.exports=function(t){return t.simplify=function(){var t,n;return n=[Array.prototype,Object.prototype],t=[Array,Object],function(r,i){var o,s,a,l,u,c,f,p,d,h,m,_,g,y,v;for(null==i&&(i={}),p=null!=i.properties?i.properties:i.properties=!1,d=null!=i.protos?i.protos:i.protos=!1,c=null!=i.constructors?i.constructors:i.constructors=!1,f=i.instances=!d&&c,u=[],l=[],_={},c&&(o={}),d&&(m={}),s=function(e){var t,r,i,o,a,c;i=u.push(e),l.push(o=[]);for(r in e)c=e[r],e.hasOwnProperty(r)&&c&&"object"==typeof c&&(p&&exports.lookupGetter(e,r)?o.push(null):(~(t=u.indexOf(c))||(t=s(c)),o.push(t)));return d&&(a=getPrototypeOf(e))&&(~n.indexOf(a)?t=null:~(t=u.indexOf(a))||(t=s(a)),o.push(t)),i-1},h=function(n,r){var i,s,a,u,h,g,y,v,b,x,S;x=e(n)?[]:{},g=l[r],v=0,y=null;for(u in n)S=n[u],n.hasOwnProperty(u)&&(x[u]=S,a=!1,S&&"object"==typeof S&&(null==y&&(y=[]),h=S=g[v++],null!==S&&(a=!0,y.push(u))),p&&(s=getObjOwnPropDesc(n,u),a&&(s.value=S),S=s),x[u]=S);return d&&getPrototypeOf(n)&&(b=g[v++],null!==b&&(m[r]=b)),c&&(i=n.constructor)&&(f||n.hasOwnProperty("constructor"))&&(~t.indexOf(i)||(o[r]=i)),y&&(_[r]=y),x},s(r),a=y=0,v=u.length;v>y;a=++y)g=u[a],u[a]=h(g,a);return{opts:i,objects:u,references:_,protos:m,constructors:o}}}(),t.assemble=function(){var e;return e={value:null},function(n){var r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T;if(u=n.opts,l=n.objects,y=n.references,h=n.protos,r=n.constructors,p=u.properties,d=u.protos,c=u.constructors,f=u.instances,b=[],p)for(s in y)for(v=y[s],n=l[s],S=0,A=v.length;A>S;S++)m=v[S],b.push(n[m].value),n[m].value=l[n[m].value];else for(s in y)for(v=y[s],n=l[s],w=0,I=v.length;I>w;w++)m=v[w],b.push(n[m]),n[m]=l[n[m]];if(p)for(E=0,C=l.length;C>E;E++){n=l[E];for(o in n)x=n[o],n.hasOwnProperty(o)&&defObjProp(n,o,x)}for(s in h)_=h[s],l[s]=t.setPrototypeOf(l[s],l[_]);if(f)for(s in r)i=r[s],a=l[s]=t.setPrototypeOf(l[s],i.prototype),"function"==typeof i.fromAssembled&&i.fromAssembled(a);else if(c)for(s in r)i=r[s],e.value=i,defObjProp(l[s],"constructor",e);g=0;for(s in y)for(v=y[s],n=l[s],O=0,T=v.length;T>O;O++)m=v[O],n[m]=l[b[g++]];return l[0]}}()}}.call(this),module.exports}(),t["../utils/async.coffee.md"]=function(){{var module={exports:t["../utils/async.coffee.md"]};e.bind(null,{}),module.exports}return function(){var e,t,exports,n,r,i,o,s=[].slice;o=null,exports=module.exports,i=Array.prototype.shift,r=Array.isArray,e=function(){},n=function(){var e,t;return e=function(e,t,n,r){var i,o,s;return i=0,o=e.length,(s=function(){return i===o?n.call(r):(i++,t.call(r,e[i-1],i-1,e,s))})()},t=function(e,t,n,r){var i,o,s,a;return o=Object.keys(e),i=0,s=o.length,(a=function(){var l;return i===s?n.call(r):(l=o[i],t.call(r,l,e[l],e,a),i++)})()},function(n,i,o,s){var a;return a=r(n)?e:t,a(n,i,o,s),null}}(),t=function(){function t(){this._arr=[],this.length=0}return t.prototype.add=function(e,t,n){return this._arr.push(e,t,n),this.length++,this},t.prototype.callNext=function(e,t){var n,r,i,s,a,l,u,c,f,p,d;if("function"==typeof e&&null==t&&(t=e,e=null),!this._arr.length)return t();if(this.length--,a=this._arr.shift(),s=this._arr.shift(),l=this._arr.shift(),"string"==typeof a&&(a=o.get(s,a)),"function"!=typeof a)throw new TypeError("ASync Stack::callNext(): function to call is not a function");if(u=a.length||Math.max((null!=e?e.length:void 0)||0,(null!=l?l.length:void 0)||0)+1,f=null,i=!1,r=function(){return i=!0,t.apply(this,arguments)},l=Object.create(l||null),l[u-1]=r,(void 0===l.length||l.length<u)&&(l.length=u),e)for(c=p=0,d=e.length;d>p;c=++p)n=e[c],c!==u-1&&void 0===l[c]&&(l[c]=n);return f=o.catchError(a,s,l),f&&r(f),null},t.prototype.runAll=function(t,n){var r,i;if(null==t&&(t=e),null==n&&(n=null),"function"!=typeof t)throw new TypeError("ASync runAll(): passed callback is not a function");return this._arr.length?(i=function(e){return function(){var i,o;return o=arguments[0],i=2<=arguments.length?s.call(arguments,1):[],null!=o?t.call(n,o):e._arr.length?r(i):t.apply(n,arguments)}}(this),r=function(e){return function(t){return e.callNext(t,i)}}(this),r(),null):t.call(n,null)},t.prototype.runAllSimultaneously=function(t,n){var r,i,o,s;if(null==t&&(t=e),null==n&&(n=null),i=o=this._arr.length/3,r=0,!i)return t.call(n);for(s=function(e){return++r,r>i?void 0:e?(r=i,t.call(n,e)):r===i?t.call(n):void 0};o--;)this.callNext(s);return null},t}(),module.exports=function(){return o=arguments[0],o.async={forEach:n,Stack:t}}}.call(this),module.exports}(),t["../utils/index.coffee.md"]=function(){var module={exports:t["../utils/index.coffee.md"]},require=e.bind(null,{"./namespace":"../utils/namespace.coffee.md","./stringifying":"../utils/stringifying.coffee.md","./async":"../utils/async.coffee.md"}),exports=module.exports;return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S;switch(x=Object.prototype.toString,i=Function.prototype.toString,c=Array.isArray,S=Array.prototype,b=S.shift,g=S.pop,n=Object.create,a=Object.getPrototypeOf,s=Object.getOwnPropertyNames,_=Object.keys,u=Object.hasOwnProperty,o=Object.getOwnPropertyDescriptor,r=Object.defineProperty,y=Math.random,require("./namespace")(exports),require("./stringifying")(exports),require("./async")(exports),exports.isNode=exports.isServer=exports.isClient=exports.isBrowser=exports.isQt=exports.isAndroid=exports.isIOS=!1,!0){case null!=("undefined"!=typeof Qt&&null!==Qt?Qt.include:void 0):exports.isClient=exports.isQt=!0;break;case"undefined"!=typeof android&&null!==android:exports.isClient=exports.isAndroid=!0;break;case"ios"===("undefined"!=typeof _neft&&null!==_neft?_neft.platform:void 0):exports.isClient=exports.isIOS=!0;break;case null!=("undefined"!=typeof window&&null!==window?window.document:void 0):exports.isClient=exports.isBrowser=!0;break;case"undefined"!=typeof process&&null!==process&&"[object process]"===Object.prototype.toString.call(process):exports.isNode=exports.isServer=!0}exports.NOP=function(){},exports.is=Object.is||function(e,t){return 0===e&&0===t?1/e===1/t:e!==e?t!==t:e===t},exports.isFloat=function(e){return"number"==typeof e&&isFinite(e)},exports.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&9007199254740992>e&&Math.floor(e)===e},d=exports.isPrimitive=function(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"undefined"==typeof e},p=exports.isObject=function(e){return null!==e&&"object"==typeof e},exports.isPlainObject=function(e){var t;return p(e)?(t=a(e),t&&(t!==Object.prototype||a(t))?!1:!0):!1},exports.isArguments=function(e){return"[object Arguments]"===x.call(e)},h=exports.merge=function(e,t){var n,r;for(n in t)r=t[n],t.hasOwnProperty(n)&&(e[n]=r);return e},exports.mergeAll=function(e){var t,n,r,i,o,s;for(t=o=1,s=arguments.length;s>o;t=o+=1)if(null!=(r=arguments[t]))for(n in r)i=r[n],r.hasOwnProperty(n)&&(e[n]=i);return e},m=exports.mergeDeep=function(e,t){var n,r,i;for(n in t)i=t[n],u.call(t,n)&&(r=e[n],!i||"object"!=typeof i||c(i)||!r||"object"!=typeof r||c(r)?e[n]=i:m(r,i));return e},exports.fill=function(e,t){var n,r;for(n in t)r=t[n],u.call(t,n)&&n in e&&!u.call(e,n)&&(e[n]=r);return e},exports.remove=function(e,t){var n;c(e)?(n=e.indexOf(t),-1!==n&&(0===n?e.shift():n===e.length-1?e.pop():e.splice(n,1))):delete e[t]},exports.removeFromUnorderedArray=function(e,t){var n;n=e.indexOf(t),-1!==n&&(e[n]=e[e.length-1],e.pop())},exports.getPropertyDescriptor=function(e,t){for(var n;e&&!n;)n=o(e,t),e=a(e);return n},exports.lookupGetter=function(){var e;return Object.prototype.__lookupGetter__&&(e=Object.prototype.lookupGetter),function(e,t){var n,r;return(n=exports.getPropertyDescriptor(e,t))?(null!=(r=n.get)?r.trueGetter:void 0)||n.get:void 0}}(),exports.lookupSetter=function(){return Object.prototype.__lookupSetter__?Function.call.bind(Object.prototype.__lookupSetter__):function(e,t){var n;return n=exports.getPropertyDescriptor(e,t),null!=n?n.set:void 0}}(),r(exports,"WRITABLE",{value:1}),r(exports,"ENUMERABLE",{value:2}),r(exports,"CONFIGURABLE",{value:4}),exports.defineProperty=function(){var e,t,n,i,o,s,a;return n=exports.WRITABLE,t=exports.ENUMERABLE,e=exports.CONFIGURABLE,o={enumerable:!0,configurable:!0},a=exports.merge({writable:!0,value:null},o),i=exports.merge({get:void 0,set:void 0},o),s="undefined"!=typeof navigator&&null!==navigator?/^((?!chrome).)*safari/i.test(navigator.userAgent):!1,function(o,l,u,c,f){var p,d;return void 0===f?(p=a,a.value=c,a.writable=u&n):(s&&c&&(d=c,c=function(){return this!==o&&this.hasOwnProperty(l)?this[l]:d.call(this)}),p=i,i.get="function"==typeof c?c:void 0,i.set="function"==typeof f?f:void 0),p.enumerable=u&t,p.configurable=u&e,r(o,l,p),o}}(),e=exports.clone=function(e){var t,r,i,o,s,l;if(c(e))return e.slice();if(p(e)){for(r=a(e),i=r===Object.prototype?{}:n(r),l=_(e),o=0,s=l.length;s>o;o++)t=l[o],i[t]=e[t];return i}return e},t=exports.cloneDeep=function(n){var r,i,o,s,a;if(i=e(n),p(i))for(a=_(i),o=0,s=a.length;s>o;o++)r=a[o],i[r]=t(i[r]);return i},exports.isEmpty=function(e){var t;if("string"==typeof e)return""===e;if(c(e))return!e.length;for(t in e)return!1;return!0},exports.last=function(e){return e[e.length-1]},exports.clear=function(e){var t,n,r,i,o,s,a;if(c(e))for(n=r=0,s=e.length;s>r;n=r+=1)e.pop();else for(a=_(e),i=0,o=a.length;o>i;i++)t=a[i],delete e[t];return e},v=exports.setPrototypeOf=function(){var e;return"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:(e={},e.__proto__={a:1},1===e.a?function(e,t){return e.__proto__=t,e}:function(e,t){var r;return"object"==typeof e?(r=n(t),h(r,e)):h(e,t),r})}(),l=exports.has=function(e,t){var n,r;if("string"==typeof e)return!!~e.indexOf(t);if(c(e))return!!~Array.prototype.indexOf.call(e,t);for(n in e)if(r=e[n],u.call(e,n)&&r===t)return!0;return!1},exports.objectToArray=function(e,t,n){var r,i,o,s,a,l;for(o=_(e),null==n&&(n=o),r=a=0,l=o.length;l>a;r=++a)i=o[r],s=t?t(i,e[i],e):e[i],n[r]=s;return n},exports.arrayToObject=function(e,t,n,r){var i,o,s,a,l,u;for(null==r&&(r={}),o=l=0,u=e.length;u>l;o=++l)i=e[o],s=t?t(o,i,e):o,a=n?n(o,i,e):i,null!=s&&(r[s]=a);return r},exports.capitalize=function(e){return e.length?e[0].toUpperCase()+e.slice(1):""},exports.addSlashes=function(){var e,t;return t=/'|"/g,e="\\$&",function(n){return n.length?n.replace(t,e):n}}(),exports.uid=function(e){var t;for(null==e&&(e=8),t="";;)if(t+=y().toString(16).slice(2),t.length>=e)break;return t.length!==e&&(t=t.slice(0,e)),t},exports.tryFunction=function(e,t,n,r){var i;try{return e.apply(t,n)}catch(e){return i=e,"function"==typeof r?r(i):r}},exports.catchError=function(e,t,n){var r;try{e.apply(t,n)}catch(e){return r=e}},exports.bindFunctionContext=function(e,t){switch(e.length){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)};case 6:return function(n,r,i,o,s,a){return e.call(t,n,r,i,o,s,a)};case 7:return function(n,r,i,o,s,a,l){return e.call(t,n,r,i,o,s,a,l)};default:return function(){return e.apply(t,arguments)}}},exports.errorToObject=function(e){var t;return t={name:e.name,message:e.message},exports.merge(t,e),t},exports.getOwnProperties=function(e){var t;return t=c(e)?[]:{},h(t,e),t},f=exports.isEqual=function(){var e,t,n;return e=function(e,t){return e===t},t=function(e,t,n,r){var i,o,s,l,u,c,p,d,h,m,_;if(a(e)!==a(t))return!1;if(e.length!==t.length)return!1;if(0>=r)return!0;for(l=0,d=e.length;d>l;l++){for(i=e[l],s=!1,u=0,h=t.length;h>u;u++)if(o=t[u],o&&"object"==typeof o)f(i,o,n,r-1)&&(s=!0);else if(n(i,o)){s=!0;break}if(!s)return!1}for(c=0,m=t.length;m>c;c++){for(o=t[c],s=!1,p=0,_=e.length;_>p;p++)if(i=e[p],i&&"object"==typeof i)f(o,i,n,r-1)&&(s=!0);else if(n(o,i)){s=!0;break}if(!s)return!1}return!0},n=function(e,t,n,r){var i,o;if(a(e)!==a(t))return!1;for(i in e)if(o=e[i],e.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;for(i in t)if(o=t[i],t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;if(0>=r)return!0;for(i in e)if(o=e[i],e.hasOwnProperty(i))if(o&&"object"==typeof o){if(!f(o,t[i],n,r-1))return!1}else if(!n(o,t[i]))return!1;return!0},function(r,i,o,s){return null==o&&(o=e),null==s&&(s=1/0),"number"==typeof o&&(s=o,o=e),0>s?o(r,i):c(r)&&c(i)?t(r,i,o,s):p(r)&&p(i)?n(r,i,o,s):o(r,i)}}()}.call(this),module.exports}(),t["../neft-assert/index.coffee.md"]=function(){{var module={exports:t["../neft-assert/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md"});module.exports}return function(){{var e;({}).hasOwnProperty}e=require("utils")}.call(this),module.exports}(),t["../log/impls/node/index.coffee"]=function(){{var module={exports:t["../log/impls/node/index.coffee"]};e.bind(null,{}),module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=process.stdout.write.bind(process.stdout),module.exports=function(t){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.MARKERS={white:function(e){return"[37m"+e+"[39m"},green:function(e){return"[32m"+e+"[39m"},gray:function(e){return"[90m"+e+"[39m"},blue:function(e){return"[34m"+e+"[39m"},yellow:function(e){return"[33m"+e+"[39m"},red:function(e){return"[31m"+e+"[39m"},bold:function(e){return"[1m"+e+"[22m"}},r.time=process.hrtime,r.timeDiff=function(e){var t;return t=process.hrtime(e),(1e9*t[0]+t[1])/1e6},r.prototype._write=function(t){return e(t+"\n")},r}(t)}}.call(this),module.exports}(),t["../log/index.coffee.md"]=function(){{var module={exports:t["../log/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./impls/node/index.coffee":"../log/impls/node/index.coffee"});module.exports}return function(){var e,t,n,r,i,o,s,a,l=[].slice;a=require("utils"),n=Function.bind,o=Array.isArray,s=Array.prototype.unshift,r=function(e){var t,n,r,i;for(n="",r=0,i=e.length;i>r;r++)t=e[r],n+=""+t+" → ";return n.substring(0,n.length-3)},e=function(){function e(e){var r,i,o,s,l,u,c,f;if(this.prefixes=e,e)for(r=a.clone(e),r.unshift(this),f=t.LOGS_METHODS,u=0,c=f.length;c>u;u++)s=f[u],this[s]=n.apply(this[s],r);for(o in this)l=this[o],this[o]=l;return"function"==typeof this.log?(i=function(e){return function(){return!0}}(this),a.merge(i,this)):void 0}var i,o,u,c,f;for(e.LOGS_METHODS=["info","warn","error","time","ok"],e.TIMES_LEN=50,e.MARKERS={white:function(e){return"LOG: "+e},green:function(e){return"OK: "+e},gray:function(e){return""+e},blue:function(e){return"INFO: "+e},yellow:function(e){return"WARN: "+e},red:function(e){return"ERROR: "+e}},e.time=Date.now,e.timeDiff=function(t){return e.time()-t},e.times=new Array(e.TIMES_LEN),f=e.times,i=u=0,c=f.length;c>u;i=++u)o=f[i],e.times[i]=[0,""];return e.prototype._write=("undefined"!=typeof console&&null!==console?console.log.bind(console):void 0)||function(){},i=0,e.prototype.LOG=1<<i++,e.prototype.INFO=1<<i++,e.prototype.OK=1<<i++,e.prototype.WARN=1<<i++,e.prototype.ERROR=1<<i++,e.prototype.TIME=1<<i++,e.prototype.ALL=(1<<i++)-1,e.prototype.enabled=e.prototype.ALL,e.prototype.log=function(){this.enabled&this.LOG&&this._write(t.MARKERS.white(r(arguments)))},e.prototype.info=function(){this.enabled&this.INFO&&this._write(t.MARKERS.blue(r(arguments)))},e.prototype.ok=function(){this.enabled&this.OK&&this._write(t.MARKERS.green(r(arguments)))},e.prototype.warn=function(){this.enabled&this.WARN&&this._write(t.MARKERS.yellow(r(arguments)))},e.prototype.error=function(){this.enabled&this.ERROR&&this._write(t.MARKERS.red(r(arguments)))},e.prototype.time=function(){var e,n,o,s,a;if(!(this.enabled&this.TIME))return-1;for(n=t.times,i=s=0,a=n.length;a>s;i=++s)if(o=n[i],!o[0]){e=i,n[i][0]=t.time(),n[i][1]=r(arguments);break}return e},e.prototype.end=function(e){var n,r,i;-1!==e&&(i=t.times[e],n=t.timeDiff(i[0]),n=n.toFixed(2),r=""+i[1]+": "+n+" ms",this._write(t.MARKERS.gray(r)),i[0]=0)},e.prototype.scope=function(){var e;return e=1<=arguments.length?l.call(arguments,0):[],this.prefixes&&s.apply(e,this.prefixes),new t(e)},e}(),i=function(){switch(!0){case a.isNode:return require("./impls/node/index.coffee");case a.isBrowser:case a.isIOS:return require("./impls/browser/index.coffee")}}(),t="function"==typeof i?i(e):e,module.exports=new t}.call(this),module.exports}(),t["../signal/emitter.coffee"]=function(){{var module={exports:t["../signal/emitter.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){var n;return n=function(){function n(){this._signals={}}var r,i,o;return i=t.callSignal,r=function(){},o=t.createSignalFunction(),n.emitSignal=function(e,t,n,r){var o;return e&&(o=e._signals[t])?i(e,o,n,r):void 0},n.createSignalOnObject=function(t,n,r){var i;return i=function(){var e,t;return t=this._signals,(e=t[n])||(e=t[n]=[null,null,null,null],"function"==typeof r&&r(this,n)),o.obj=this,o.listeners=e,o},e.defineProperty(t,n,null,i,null),i},n.createSignal=function(e,t,r){return n.createSignalOnObject(e.prototype,t,r)},n}()}}.call(this),module.exports}(),t["../signal/index.coffee.md"]=function(){var module={exports:t["../signal/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./emitter":"../signal/emitter.coffee"}),exports=module.exports;return function(){var e,t,n,r,i;i=require("utils"),e=exports.STOP_PROPAGATION=1<<30,exports.create=function(e,t){var n;return n=r(e),void 0===t?n:e[t]=n},exports.isEmpty=function(e){var t,n,r,i;for(i=e.listeners,n=0,r=i.length;r>n;n+=2)if(t=i[n],null!==t)return!1;return!0},n=function(t,n,r,i){var o,s,a,l,u,c;for(a=c=0,l=n.length,u=0;l>a;)s=n[a],null===s?c-=2:(o=n[a+1],0!==c&&(n[a+c]=s,n[a+c+1]=o,n[a]=null,n[a+1]=null),0>=u&&s.call(o||t,r,i)===e&&(u=e)),a+=2;return u},r=function(e){var n;return n=function(e,t){return n.connect(e,t)},n.obj=e,n.listeners=[],i.setPrototypeOf(n,t),n},t={emit:function(e,t){return n(this.obj,this.listeners,e,t)},connect:function(e,t){var n,r,i;for(null==t&&(t=null),r=this.listeners,n=i=r.length;(n-=2)>=0&&null===r[n];);n+2===i?r.push(e,t):(r[n+2]=e,r[n+3]=t)},disconnect:function(e,t){var n,r;for(null==t&&(t=null),r=this.listeners,n=0;;){if(n=r.indexOf(e,n),-1===n||r[n+1]===t)break;n+=2}r[n]=null,r[n+1]=null},disconnectAll:function(){var e,t,n,r,i;for(t=this.listeners,e=r=0,i=t.length;i>r;e=++r)n=t[e],t[e]=null}},exports.Emitter=require("./emitter")({create:exports.create,createSignalFunction:r,callSignal:n})}.call(this),module.exports}(),t["../list/index.coffee.md"]=function(){{var module={exports:t["../list/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=require("signal"),module.exports=e=function(e){function r(e){return null==e&&(e=[]),this instanceof r?(r.__super__.constructor.call(this),void(this._data=e)):new r(e)}var o;return i(r,e),r.__name__="List",r.__path__="List",n.defineProperty(r.prototype,"0",null,function(){throw"Can't get elements from a list as properties; use `List::get()` method instead"},function(){throw"Can't set elements into a list with properties; use `List::set()` method instead"}),t.Emitter.createSignal(r,"onChange"),t.Emitter.createSignal(r,"onInsert"),t.Emitter.createSignal(r,"onPop"),o=n.CONFIGURABLE,n.defineProperty(r.prototype,"length",o,function(){return this._data.length},null),r.prototype.get=function(e){return this._data[e]},r.prototype.set=function(e,t){var n;return n=this._data[e],n===t?t:(this._data[e]=t,this.onChange.emit(n,e),t)},r.prototype.items=function(){return this._data},r.prototype.append=function(e){return this._data.push(e),this.onInsert.emit(e,this.length-1),e},r.prototype.insert=function(e,t){return this._data.splice(e,0,t),this.onInsert.emit(t,e),t},r.prototype.extend=function(e){var t,n,i,o;for(t=e instanceof r?e.items():e,i=0,o=t.length;o>i;i++)n=t[i],this.append(n);return e},r.prototype.remove=function(e){var t;return t=this.index(e),-1!==t&&this.pop(t),e},r.prototype.pop=function(e){var t;return void 0===e&&(e=this.length-1),t=this._data[e],this._data.splice(e,1),this.onPop.emit(t,e),t},r.prototype.clear=function(){for(;this._data.length;)this.pop();return null},r.prototype.index=function(e){return this._data.indexOf(e)},r.prototype.has=function(e){return-1!==this.index(e)},r.prototype.toJSON=function(){return this._data},r.prototype.toString=function(){return this._data+""},r}(t.Emitter)}.call(this),module.exports}(),t["../dict/index.coffee.md"]=function(){{var module={exports:t["../dict/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=require("signal"),module.exports=e=function(e){function r(e){return null==e&&(e={}),this instanceof r?(r.__super__.constructor.call(this),this._data=e,this._keys=null,this._values=null,this._items=null,void(this._dirty=o)):new r(e)}var o,s,a,l,u;return i(r,e),r.__name__="Dict",r.__path__="Dict",a=1,l=2,s=4,o=(s<<1)-1,r.fromJSON=function(e){return e=n.tryFunction(JSON.parse,JSON,[e],e),new r(e)},u=n.CONFIGURABLE|n.ENUMERABLE,n.defineProperty(r.prototype,"length",u,function(){return this.keys().length},null),t.Emitter.createSignal(r,"onChange"),r.prototype.get=function(e){return this._data[e]},r.prototype.set=function(e,t){var n;return n=this._data[e],n===t?this:(this._data[e]=t,this._dirty|=o,this.onChange.emit(e,n),t)},r.prototype.has=function(e){return void 0!==this._data[e]},r.prototype.extend=function(e){var t,n,i;n=e instanceof r?e._data:e;for(t in n)i=n[t],this.set(t,i);return e},r.prototype.pop=function(e){var t;t=this._data[e],this._data[e]=void 0,this._dirty|=o,this.onChange.emit(e,t)},r.prototype.clear=function(){var e,t,n;n=this._data;for(e in n)t=n[e],void 0!==t&&this.pop(e)},r.prototype.keys=function(){var e,t,n,r,i;if(this._dirty&a){this._dirty^=a,e=null!=this._keys?this._keys:this._keys=[],t=0,i=this._data;for(n in i)r=i[n],void 0!==r&&(e[t]=n,t++);e.length=t}return this._keys},r.prototype.values=function(){var e,t,n,r,i;if(this._dirty&l){this._dirty^=l,e=null!=this._values?this._values:this._values=[],t=0,i=this._data;for(n in i)r=i[n],void 0!==r&&(e[t]=r,t++);
e.length=t}return this._values},r.prototype.items=function(){var e,t,n,r,i;if(this._dirty&s){e=null!=this._values?this._values:this._values=[],t=0,i=this._data;for(n in i)r=i[n],void 0!==r&&(null==e[t]&&(e[t]=["",null]),e[t][0]=n,e[t][1]=r,t++);e.length=t}return this._values},r.prototype.toJSON=function(){return this._data},r.prototype.toString=function(){return this._data+""},r}(t.Emitter)}.call(this),module.exports}(),t["../db/implementations/memory.coffee"]=function(){var module={exports:t["../db/implementations/memory.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md"}),exports=module.exports;return function(){var e,t;t=require("utils"),e=Object.create(null),exports.get=function(n,r){var i;return i=e[n],i=t.cloneDeep(i),r(null,i)},exports.set=function(t,n,r){return e[t]=n,r(null)},exports.remove=function(t,n){return e[t]=void 0,n(null)}}.call(this),module.exports}(),t["../db/implementation.coffee"]=function(){{var module={exports:t["../db/implementation.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","./implementations/memory":"../db/implementations/memory.coffee"});module.exports}return function(){var e;e=require("utils"),module.exports=function(){var t;return e.isBrowser&&(t=require("./implementations/browser")),t||(t=require("./implementations/memory")),t}()}.call(this),module.exports}(),t["../db/index.coffee.md"]=function(){var module={exports:t["../db/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",list:"../list/index.coffee.md",dict:"../dict/index.coffee.md","./implementation":"../db/implementation.coffee"}),exports=module.exports;return function(){var e,t,n,r,i,o,s,a,l,u,c,f={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=require("utils"),i=require("list"),r=require("dict"),o=function(){},a=require("./implementation"),c=Object.create(null),u=Object.create(null),exports.OBSERVABLE=1<<29,e=exports.OBSERVABLE,exports.get=function(e,r,i){return"function"==typeof r&&(i=r,r=0),r&exports.OBSERVABLE&&null!=u[e]?i(null,u[e].spawn()):void a.get(e,function(o,s){var a;return null==o&&s?(r&exports.OBSERVABLE&&(Array.isArray(s)?s=new n(e,s,r):l.isObject(s)&&(s=new t(e,s,r)),s=(null!=(a=u[e])?a.spawn():void 0)||s),i(null,s)):i(o,s)})},exports.set=function(e,t,n){var r;null==n&&(n=o),null!=(r=u[e])&&r.disconnect(),a.set(e,t,n)},exports.remove=function(e,t,n){var r;null==n&&(n=o),"function"==typeof t&&(n=t,t=null),null!=t?exports.get(e,function(r,i){var o,s,c,f,p,d,h,m,_;if(null!=r)return n(r);if(!Array.isArray(i))return n(new Error("'"+e+"' is not an array"));if(f=u[e])if(-1!==(s=f.items().indexOf(t)))f.pop(s);else for(_=f.items(),o=p=0,h=_.length;h>p;o=++p)if(c=_[o],l.isEqual(c,t)){f.pop(o);break}if(-1!==(s=i.indexOf(t)))i.splice(s,1);else for(o=d=0,m=i.length;m>d;o=++d)if(c=i[o],l.isEqual(c,t)){i.splice(o,1);break}return a.set(e,i,n)}):(null!=(r=u[e])&&r.disconnect(),a.remove(e,n))},exports.append=function(e,t,n){null==n&&(n=o),exports.get(e,function(r,i){var o;return null!=r?n(r):(null==i&&(i=[]),Array.isArray(i)?(null!=(o=u[e])&&o.append(t),i.push(t),a.set(e,i,n)):n(new Error("'"+e+"' is not an array")))})},s=function(e,t){return l.defineProperty(e,t,null,function(){return Object.getPrototypeOf(this)[t]},function(e){return Object.getPrototypeOf(this)[t]=e})},n=function(e){function t(e,r,i){this._key=e,t.__super__.constructor.call(this,r),u[e]=this,this.onChange(n),this.onInsert(n),this.onPop(n)}var n;return p(t,e),n=function(e){this._isConnected&&a.set(this._key,this._data,o)},t.prototype.spawn=function(){var e;return c[this._key]=c[this._key]+1||1,e=Object.create(u[this._key]),e._isConnected=!0,e},t.prototype.disconnect=function(){this._isConnected&&(this._isConnected=!1,--c[this._key]||(u[this._key]=null))},t}(i),t=function(e){function t(e,r,i){this._key=e,t.__super__.constructor.call(this,r),u[e]=this,this.onChange(n)}var n;return p(t,e),n=function(e){this._isConnected&&a.set(this._key,this._data,o)},t.prototype.spawn=function(){var e;return c[this._key]=c[this._key]+1||1,e=Object.create(u[this._key]),e._isConnected=!0,s(e,"_keys"),s(e,"_values"),s(e,"_items"),s(e,"_dirty"),e},t.prototype.disconnect=function(){this._isConnected&&(this._isConnected=!1,--c[this._key]||(u[this._key]=null))},t}(r)}.call(this),module.exports}(),t["../schema/validators/array.coffee.md"]=function(){{var module={exports:t["../schema/validators/array.coffee.md"]};e.bind(null,{}),module.exports}return function(){var e;e=Array.isArray,module.exports=function(t){return function(n,r,i){if(i&&!e(r))throw new t.Error(n,"array",""+n+" must be an array")}}}.call(this),module.exports}(),t["../schema/validators/object.coffee.md"]=function(){{var module={exports:t["../schema/validators/object.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){return function(n,r,i){var o,s;if(i){if(!e.isObject(r))throw new t.Error(n,"object",""+n+" must be an object");if(s=null!=i?i.properties:void 0)for(o in r)if(!~s.indexOf(o))throw new t.Error(n,"object.properties",""+n+" doesn't provide "+o+" property")}}}}.call(this),module.exports}(),t["../schema/validators/optional.coffee.md"]=function(){{var module={exports:t["../schema/validators/optional.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return function(){}}}.call(this),module.exports}(),t["../schema/validators/max.coffee.md"]=function(){{var module={exports:t["../schema/validators/max.coffee.md"]};e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"}),module.exports}return function(){module.exports=function(e){return function(t,n,r){if(!n||n.length>r)throw new e.Error(t,"max","Maximum range of "+t+" is "+r)}}}.call(this),module.exports}(),t["../schema/validators/min.coffee.md"]=function(){{var module={exports:t["../schema/validators/min.coffee.md"]};e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"}),module.exports}return function(){module.exports=function(e){return function(t,n,r){if(!n||n.length<r)throw new e.Error(t,"min","Minimum range of "+t+" is "+r)}}}.call(this),module.exports}(),t["../schema/validators/options.coffee.md"]=function(){{var module={exports:t["../schema/validators/options.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){return function(n,r,i){var o;if(o=Array.isArray(i)?e.has(i,r):i.hasOwnProperty(r),!o)throw new t.Error(n,"options","Passed "+n+" value is not acceptable")}}}.call(this),module.exports}(),t["../schema/validators/regexp.coffee.md"]=function(){{var module={exports:t["../schema/validators/regexp.coffee.md"]};e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"}),module.exports}return function(){module.exports=function(e){return function(t,n,r){if(!r.test(n))throw new e.Error(t,"regexp",""+t+" doesn't pass the regular expression")}}}.call(this),module.exports}(),t["../schema/validators/type.coffee.md"]=function(){{var module={exports:t["../schema/validators/type.coffee.md"]};e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"}),module.exports}return function(){module.exports=function(e){return function(t,n,r){if(typeof n!==r)throw new e.Error(t,"type",""+t+" must be a "+r)}}}.call(this),module.exports}(),t["../schema/index.coffee.md"]=function(){{var module={exports:t["../schema/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./validators/array":"../schema/validators/array.coffee.md","./validators/object":"../schema/validators/object.coffee.md","./validators/optional":"../schema/validators/optional.coffee.md","./validators/max":"../schema/validators/max.coffee.md","./validators/min":"../schema/validators/min.coffee.md","./validators/options":"../schema/validators/options.coffee.md","./validators/regexp":"../schema/validators/regexp.coffee.md","./validators/type":"../schema/validators/type.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=function(e){function t(e,n,r){this.property=e,this.validator=n,this.message=r,t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.name="SchemaError",t.prototype.message="",t}(Error),module.exports=e=function(){function e(e){var t,n;this.schema=e;for(n in e)t=e[n]}var r;return e.Error=t,e.prototype.schema=null,r={array:require("./validators/array")(e),object:require("./validators/object")(e),optional:require("./validators/optional")(e),max:require("./validators/max")(e),min:require("./validators/min")(e),options:require("./validators/options")(e),regexp:require("./validators/regexp")(e),type:require("./validators/type")(e)},e.prototype.validate=function(e){var i,o,s,a,l,u,c,f,p,d,h;for(o in e)if(!this.schema.hasOwnProperty(o))throw new t(o,null,"Unexpected "+o+" property");h=this.schema;for(o in h){if(s=h[o],f=n.get(e,o),null==f&&!s.optional)throw new t(o,"optional","Required property "+o+" not found");for(l in s)if(u=s[l],a=r[l],f instanceof n.get.OptionsArray)for(i=p=0,d=f.length;d>p;i=++p)c=f[i],a(o,c,u);else a(o,f,u)}return!0},e}()}.call(this),module.exports}(),t["../networking/impl/node/index.coffee"]=function(){{var module={exports:t["../networking/impl/node/index.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./request":"../networking/impl/node/request.coffee","./response":"../networking/impl/node/response.coffee"});module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,c;c=require("utils"),n=require("http"),r=require("https"),u=require("url"),o=require("path"),i=require("node-static"),t=require("form-data"),a=require("qs"),e={__proto__:null,".js":"text",".txt":"text",".json":"json"},s=Object.create(null),l=new i.Server({gzip:!0}),module.exports=function(t){var i;return{Request:require("./request")(t,s),Response:i=require("./response")(t,s),init:function(i){var f;switch(i.protocol){case"http":f=n.createServer();break;case"https":f=r.createServer();break;default:throw new Error("Unsupported protocol '"+i.protocol+"'")}return f.listen(i.port,i.host),f.on("request",function(n,r){var p;return p="",n.on("data",function(e){return p+=e}),n.on("end",function(){var d,h,m,_,g,y,v;if(/^(?:\/static\/|\/build\/static\/)/.test(n.url))return void l.serve(n,r);if(v=c.uid(),_=u.parse(n.url),m=s[v]={networking:i,server:f,req:null,serverReq:n,serverRes:r},y=n.headers["x-expected-type"],y||(h=o.extname(_.pathname),y=e[h]),y||(y=t.Request.HTML_TYPE),""!==p)switch(n.headers["content-type"]){case"application/x-www-form-urlencoded":g=a.parse(p);break;default:g=c.tryFunction(JSON.parse,null,[p],p)}else g=null;return d=n.headers["x-cookies"],"string"==typeof d&&(d=c.tryFunction(JSON.parse,null,[d],null)),m.req=i.createLocalRequest({uid:v,method:t.Request[n.method],uri:n.url,data:g,type:y,headers:n.headers,cookies:d})})})},sendRequest:function(e,o,s){var a,l,f,p,d,h;switch(h=u.parse(e.uri.toString()),p={protocol:h.protocol,hostname:h.hostname,port:h.port,auth:h.auth,path:h.path,method:e.method,headers:c.clone(e.headers)},p.headers["X-Expected-Type"]=e.type,(a=c.tryFunction(JSON.stringify,null,[e.cookies],null))&&(p.headers["X-Cookies"]=a),h.protocol){case"http:":d=n;break;case"https:":d=r;break;default:return void s({status:500,data:new Error("Unsupported protocol '"+h.protocol+"'")})}return f=d.request(p,function(n){var r;return n.setEncoding(o.encoding),r="",n.on("data",function(e){return r+=e}),n.on("end",function(){var i;return i=n.statusCode,e.type===t.Request.JSON_TYPE&&(r=c.tryFunction(JSON.parse,null,[r],r)),(a=n.headers["x-cookies"])&&(a=c.tryFunction(JSON.parse,null,[a],null)),s({status:i,data:r,headers:n.headers,cookies:a})})}),f.on("error",function(e){return s({status:500,data:e})}),l=i._prepareData(e.type,f,e.data),i._sendData(e.type,null,f,l,function(e){return e?s(e):void 0})}}}}.call(this),module.exports}(),t["../networking/impl.coffee"]=function(){{var module={exports:t["../networking/impl.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./impl/node/index":"../networking/impl/node/index.coffee"});module.exports}return function(){var e,t;t=require("utils"),e=function(){switch(!0){case t.isNode:return require("./impl/node/index");case t.isBrowser:return require("./impl/browser/index");case t.isIOS:return require("./impl/ios/index");case t.isQt:return require("./impl/qt/index");case t.isAndroid:return require("./impl/android/index")}}(),module.exports=function(t){return e(t)}}.call(this),module.exports}(),t["../networking/impl/node/request.coffee"]=function(){{var module={exports:t["../networking/impl/node/request.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e,t){}}.call(this),module.exports}(),t["../document/element/element/text.coffee.md"]=function(){{var module={exports:t["../document/element/element/text.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=require("signal"),e=t.Emitter.emitSignal,module.exports=function(r){var o;return o=function(o){function s(){r.call(this),this._text=""}var a,l,u,c,f;return i(s,o),s.__name__="Text",s.__path__="File.Element.Text",l=s.JSON_CTOR_ID=r.JSON_CTORS.push(s)-1,c=r.JSON_ARGS_LENGTH,u=c++,a=s.JSON_ARGS_LENGTH=c,s._fromJSON=function(e,t){return null==t&&(t=new s),r._fromJSON(e,t),t.text=e[u],t},s.prototype.clone=function(){var e;return e=new s,e._text=this._text,e},t.Emitter.createSignal(s,"onTextChange"),f=n.CONFIGURABLE,n.defineProperty(s.prototype,"text",f,function(){return this._text},function(t){var n;return n=this._text,n===t?!1:(this._text=t,e(this,"onTextChange",n),r.Tag.query.checkWatchersDeeply(this),!0)}),s.prototype.toJSON=function(e){return e||(e=new Array(a),e[0]=l),s.__super__.toJSON.call(this,e),e[u]=this.text,e},s}(r)}}.call(this),module.exports}(),t["../document/element/element/tag/stringify.coffee"]=function(){{var module={exports:t["../document/element/element/tag/stringify.coffee"]};e.bind(null,{}),module.exports}return function(){var e,t,n,r,i;e={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},i=function(e){return!/^(?:neft:|style:)/.test(e)},n=function(e,t){var n,i,o,s,a;if(e.children){for(i="",a=e.children,o=0,s=a.length;s>o;o++)n=a[o],i+=r(n,t);return i}return""},r=function(r,o){var s,a,l,u,c,f;if(r._visible===!1)return"";if(void 0!==r._text)return r._text;if(o&&(u=o[r.name])&&(r=u(r)||r),l=r.name,!l||!i(l))return n(r,o);c="<"+l,f=r._attrs;for(s in f)a=f[s],i(s)&&(c+=" "+s,null==a?t[s]||(c+='=""'):c+='="'+a+'"');return e[l]?c+">":c+">"+n(r,o)+"</"+l+">"},module.exports={getInnerHTML:n,getOuterHTML:r},t={__proto__:null,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,defer:!0,disabled:!0,hidden:!0,loop:!0,multiple:!0,open:!0,readonly:!0,required:!0,scoped:!0,selected:!0}}.call(this),module.exports}(),t["../typed-array/index.coffee.md"]=function(){var module={exports:t["../typed-array/index.coffee.md"]},exports=(e.bind(null,{}),module.exports);return function(){var e;e=function(e){var t,n,r;for(t=new Array(e),n=r=0;e>r;n=r+=1)t[n]=0;return t},exports.Int8=function(){return"undefined"!=typeof Int8Array?Int8Array:e}(),exports.Uint8=function(){return"undefined"!=typeof Uint8Array?Uint8Array:e}(),exports.Int16=function(){return"undefined"!=typeof Int16Array?Int16Array:e}(),exports.Uint16=function(){return"undefined"!=typeof Uint16Array?Uint16Array:e}(),exports.Int32=function(){return"undefined"!=typeof Int32Array?Int32Array:e}(),exports.Uint32=function(){return"undefined"!=typeof Uint32Array?Uint32Array:e}(),exports.Float32=function(){return"undefined"!=typeof Float32Array?Float32Array:e}(),exports.Float64=function(){return"undefined"!=typeof Float64Array?Float64Array:e}()}.call(this),module.exports}(),t["../document/element/element/tag.coffee.md"]=function(){{var module={exports:t["../document/element/element/tag.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md","./tag/stringify":"../document/element/element/tag/stringify.coffee","typed-array":"../typed-array/index.coffee.md","./tag/query":"../document/element/element/tag/query.coffee"});module.exports}return function(){var e,t,n,r,i,o,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=require("utils"),i=require("signal"),o=require("./tag/stringify"),t=require("typed-array"),n=i.Emitter.emitSignal,r=function(e){return null!=e},e=/\#([^\s]+)/,module.exports=function(e){var r;return r=function(r){function a(){e.call(this),this.name="neft:blank",this.children=[],this._attrs={}}var u,c,f,p,d,h,m;return l(a,r),a.INTERNAL_TAGS=["neft:attr","neft:fragment","neft:function","neft:rule","neft:target","neft:use","neft:require","neft:blank","neft:log"],a.DEFAULT_STRINGIFY_REPLACEMENTS=Object.create(null),a.extensions=Object.create(null),a.__name__="Tag",a.__path__="File.Element.Tag",p=a.JSON_CTOR_ID=e.JSON_CTORS.push(a)-1,h=e.JSON_ARGS_LENGTH,d=h++,f=h++,c=h++,u=a.JSON_ARGS_LENGTH=h,a._fromJSON=function(t,n){var r,i,o,s;for(null==n&&(n=new a),e._fromJSON(t,n),n.name=t[d],n._attrs=t[c],s=t[f],i=0,o=s.length;o>i;i++)r=s[i],e.fromJSON(r).parent=n;return n},i.Emitter.createSignal(a,"onChildrenChange"),i.Emitter.createSignal(a,"onAttrsChange"),a.prototype.getAttrByIndex=function(e,t){var n,r,i;null==t&&(t=[]),t[0]=t[1]=void 0,h=0,i=this._attrs;for(n in i){if(r=i[n],h===e){t[0]=n,t[1]=r;break}h++}return t},a.prototype.hasAttr=function(e){return this._attrs.hasOwnProperty(e)},a.prototype.getAttr=function(e){return this._attrs[e]},a.prototype.setAttr=function(e,t){var r;return r=this._attrs[e],r===t?!1:(this._attrs[e]=t,n(this,"onAttrsChange",e,r),m.checkWatchersDeeply(this),!0)},a.prototype.clone=function(){var e;return e=new a,e.name=this.name,e._visible=this._visible,e._attrs=s.cloneDeep(this._attrs),e},a.prototype.cloneDeep=function(){var e,t,n,r,i,o,s;for(t=this.clone(),r=null,s=this.children,i=0,o=s.length;o>i;i++)e=s[i],n=e.cloneDeep(),t.children.push(n),n._parent=t,(n._previousSibling=r)&&(r._nextSibling=n),r=n;return t},a.prototype.getCopiedElement=function(){var e;return e=new t.Uint16(256),function(t,n){var r,i,o;if(t===this)return n;for(h=0,r=t;(o=r._parent)&&(e[h++]=o.children.indexOf(r),r=o,r!==this););for(r=n;h-->0;)i=e[h],r=r.children[i];return r}}(),a.prototype.getChildByAccessPath=function(e){var t,n;for(t=this,n=e.length-1;n>=0;n+=-1)if(h=e[n],!(t=t.children[h]))return null;return t},a.query=m=require("./tag/query")(e,a),a.prototype.queryAll=m.queryAll,a.prototype.query=m.query,a.prototype.watch=m.watch,a.prototype.stringify=function(e){return null==e&&(e=a.DEFAULT_STRINGIFY_REPLACEMENTS),o.getOuterHTML(this,e)},a.prototype.stringifyChildren=function(e){return null==e&&(e=a.DEFAULT_STRINGIFY_REPLACEMENTS),o.getInnerHTML(this,e)},a.prototype.replace=function(e,t){var n;return n=this.children.indexOf(e),e.parent=void 0,t.parent=this,t.index=n,null},a.prototype.toJSON=function(e){var t,n,r,i,o;for(e||(e=new Array(u),e[0]=p),a.__super__.toJSON.call(this,e),e[d]=this.name,n=e[f]=[],e[c]=this._attrs,o=this.children,r=0,i=o.length;i>r;r++)t=o[r],n.push(t.toJSON());return e},a}(e)}}.call(this),module.exports}(),t["../document/element/element/tag/query.coffee"]=function(){{var module={exports:t["../document/element/element/tag/query.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T,P,N,R,k,L={}.hasOwnProperty,j=function(e,t){function n(){this.constructor=e}for(var r in t)L.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};k=require("utils"),N=require("signal"),I=N.Emitter.emitSignal,p=d=null,R=function(e,t,n,r,i,o){for(var s,a,l;n<t.length;){if(l=t[n],l.isIterator)return l(e,t,n+3,r,i,o);if(s=t[n+1],a=t[n+2],!l(e,s,a))return!1;n+=3}return r.call(i,e),!0},_=function(e,t,n,r,i,o){var s,a,l,u;for(u=e.children,a=0,l=u.length;l>a;a++){if(s=u[a],(!(s instanceof p)||"neft:blank"!==s.name)&&R(s,t,n,r,i,o)&&o)return!0;if(s instanceof p&&_(s,t,n,r,i,o)&&o)return!0}return!1},_.isIterator=!0,_.toString=function(){return"anyDescendant"},A=function(e,t,n,r,i,o){var s;if(s=e._parent){if(R(s,t,n,r,i,o))return!0;if("neft:blank"===s.name)return A(s,t,n,r,i,o)}return!1},A.isIterator=!0,A.toString=function(){return"directParent"},m=function(e,t,n,r,i,o){var s,a,l,u;for(u=e.children,a=0,l=u.length;l>a;a++)if(s=u[a],s instanceof p&&"neft:blank"===s.name){if(m(s,t,n,r,i,o)&&o)return!0}else if(R(s,t,n,r,i,o)&&o)return!0;return!1},m.isIterator=!0,m.toString=function(){return"anyChild"},g=function(e,t,n,r,i,o){var s;return(s=e._parent)?R(s,t,n,r,i,o)?!0:g(s,t,n,r,i,o):!1},g.isIterator=!0,g.toString=function(){return"anyParent"},E=function(e,t){return e instanceof p?e.name===t:"#text"===t&&e instanceof d?!0:void 0},E.isIterator=!1,E.toString=function(){return"byName"},w=function(e,t){return e instanceof t},w.isIterator=!1,w.toString=function(){return"byInstance"},O=function(e,t){return e===t},O.isIterator=!1,O.toString=function(){return"byTag"},y=function(e,t){return e instanceof p?void 0!==e._attrs[t]:!1},y.isIterator=!1,y.toString=function(){return"byAttr"},S=function(e,t,n){return e instanceof p?e._attrs[t]==n:!1},S.isIterator=!1,S.toString=function(){return"byAttrValue"},x=function(e,t,n){var r;return e instanceof p&&(r=e._attrs[t],"string"==typeof r)?0===r.indexOf(n):!1},x.isIterator=!1,x.toString=function(){return"byAttrStartsWithValue"},b=function(e,t,n){var r;return e instanceof p&&(r=e._attrs[t],"string"==typeof r)?r.indexOf(n,r.length-n.length)>-1:!1},b.isIterator=!1,b.toString=function(){return"byAttrEndsWithValue"},v=function(e,t,n){var r;return e instanceof p&&(r=e._attrs[t],"string"==typeof r)?r.indexOf(n)>-1:!1},v.isIterator=!1,v.toString=function(){return"byAttrContainsValue"},f=/^#?[a-zA-Z0-9|\-:_]+/,i=/^([ ]*)>([ ]*)|^([ ]+)/,t=/^\[([^\]]+?)\]/,n=/^\[([^=]+?)=([^\]]+?)\]/,e=/^\.([a-zA-Z0-9|\-_]+)/,u=/\^$/,o=/\$$/,r=/\*$/,c=/(?:'|")?([^'"]*)/,T=0,a=1<<T++,l=1<<T++,s=1<<T++,P=[],C=function(d,h){var I,C,T,N,R,k,L,j,D,q,M,B,V,F,U,H,z,G,W;if(null==h&&(h=0),B=!!(h&l),M=null!=(W=P[h])?W[d]:void 0)return M;for(N=B?g:_,C=B?A:m,I=B?"unshift":"push",V=B?"push":"unshift",j=[],q=[j],F=d.trim();F.length;)if("*"===F[0])F=F.slice(1),j[I](w,p,null);else if("&"===F[0])F=F.slice(1),h&a||j[I](O,null,null);else if(R=f.exec(F))F=F.slice(R[0].length),D=R[0],j[I](E,D,null);else if(R=n.exec(F))F=F.slice(R[0].length),H=R[0],D=R[1],U=R[2],U=c.exec(U)[1],L=u.test(D)?x:o.test(D)?b:r.test(D)?v:S,L!==S&&(D=D.slice(0,-1)),j[I](L,D,U);else if(R=t.exec(F))F=F.slice(R[0].length),j[I](y,R[1],null);else if(R=e.exec(F))F=F.slice(R[0].length),j[I](v,"class",R[1]);else if(R=i.exec(F))F=F.slice(R[0].length),T=R[0].trim(),""===T?j[I](N,null,null):">"===T&&j[I](C,null,null);else{if(","!==F[0])throw new Error("queryAll: unexpected selector '"+F+"' in '"+d+"'");j=[],q.push(j),F=F.slice(1),F=F.trim()}for(z=0,G=q.length;G>z;z++)j=q[z],k=!B||h&a?j[0]:j[j.length-3],k!==O&&(h&a&&!(null!=k?k.isIterator:void 0)?j[I](N,null,null):B&&!(null!=k?k.isIterator:void 0)?j[V](N,null,null):B||(null!=k?k.isIterator:void 0)||j[V](N,null,null),h&s&&j[V](O,null,null));return null==P[h]&&(P[h]={}),P[h][d]=q,q},h=function(e){function t(e,n){this.node=e,this.queries=n,t.__super__.constructor.call(this),this.uid=k.uid(),this.nodes=[],this.forceUpdate=!0}var n,r;return j(t,e),n=function(){},r=[],t.watchers=[],t.create=function(e,n){var i;return r.length?(i=r.pop(),i.node=e,i.queries=n,i.forceUpdate=!0):(i=new t(e,n),t.watchers.push(i)),i},N.Emitter.createSignal(t,"onAdd"),N.Emitter.createSignal(t,"onRemove"),t.prototype.test=function(e){var t,r,i,o;for(o=this.queries,r=0,i=o.length;i>r;r++)if(t=o[r],t[t.length-2]=this.node,R(e,t,0,n,null,!0))return!0;return!1},t.prototype.disconnect=function(){var e,t,n;for(n=this.uid,t=this.nodes;e=t.pop();)e._inWatchers[n]=!1,I(this,"onRemove",e);this.onAdd.disconnectAll(),this.onRemove.disconnectAll(),this.node=this.queries=null,r.push(this)},t}(N.Emitter),module.exports=function(e,t){var n,r,i;return p=t,d=e.Text,{getSelectorCommandsLength:module.exports.getSelectorCommandsLength,queryAll:i=function(e,t,n,r){var i,o,s,a,l;for(null==t&&(t=[]),null==n&&(n=t),null==r&&(r=0),s=C(e,r),i=Array.isArray(t)?t.push:t,a=0,l=s.length;l>a;a++)o=s[a],o[0](this,o,3,i,n,!1);return Array.isArray(t)?t:void 0},queryAllParents:function(e,t,n){return i.call(this,e,t,n,l|a)},query:r=function(){var e,t;return e=null,t=function(t){return e=t},function(n,r){var i,o,s,a;for(null==r&&(r=0),o=C(n,r),s=0,a=o.length;a>s;s++)if(i=o[s],i[0](this,i,3,t,null,!0))return e;return null}}(),queryParents:function(e){return r.call(this,e,l|a)},watch:function(e){var t,r;return t=C(e,l|s),r=h.create(this,t),n(this),r},checkWatchersDeeply:n=function(){var e,t,n,r,i,o,s,a,l;return s=!1,T=0,n=1<<T++,t=1<<T++,e=(1<<T++)-1,r=function(e,i,o,s){var a,l,u,c,f;if(s&n||(s|=o._checkWatchers),s&n&&(l=o._inWatchers,l&&l[i]||!e.test(o)?l&&l[i]&&!e.test(o)&&(o._inWatchers[i]=!1,k.removeFromUnorderedArray(e.nodes,o),I(e,"onRemove",o)):(l||(o._inWatchers={}),o._inWatchers[i]=!0,e.nodes.push(o),I(e,"onAdd",o))),s&t&&o instanceof p)for(f=o.children,u=0,c=f.length;c>u;u++)a=f[u],(s&n||a._checkWatchers)&&r(e,i,a,s)},i=function(e){var t,n,r,o;if(e._checkWatchers=0,e instanceof p)for(o=e.children,n=0,r=o.length;r>n;n++)t=o[n],t._checkWatchers>0&&i(t)},o=function(e,t){var n;for(n=e;n=n._parent;)if(n===t)return!0;return!1},a=function(t){var n,i,s,a;for(s=t.nodes,a=t.node,T=n=s.length;T-->0;)i=s[T],i===a||o(i,a)||(i._inWatchers[t.uid]=!1,s[T]=s[n-1],s.pop(),I(t,"onRemove",i),n--);t.forceUpdate?(r(t,t.uid,t.node,e),t.forceUpdate=!1):r(t,t.uid,t.node,0)},l=function(){var e,t,n,r,o,l;for(s=!1,t=h.watchers,n=0,o=t.length;o>n;n++)e=t[n],e.node&&a(e);for(r=0,l=t.length;l>r;r++)e=t[r],e.node&&i(e.node)},function(e){var r;for(r=e,e._checkWatchers|=n;(r=r._parent)&&!(r._checkWatchers&t);)r._checkWatchers|=t;s||(setImmediate(l),s=!0)}}()}},module.exports.getSelectorCommandsLength=function(e,t,n){var r,i,o,s,a;for(null==t&&(t=0),null==n&&(n=1/0),o=0,r=C(e,0),T=s=0,a=r.length;a>s;T=++s)if(i=r[T],!(t>T)){if(T>=n)break;o+=i.length}return o}}.call(this),module.exports}(),t["../document/node_modules/htmlparser2/node_modules/entities/maps/decode.json"]=function(){{var module={exports:t["../document/node_modules/htmlparser2/node_modules/entities/maps/decode.json"]};e.bind(null,{}),module.exports}return module.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},module.exports}(),t["../document/node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js"]=function(){function n(e){if(e>=55296&&57343>=e||e>1114111)return"�";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}var module={exports:t["../document/node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js"]},require=e.bind(null,{"../maps/decode.json":"../document/node_modules/htmlparser2/node_modules/entities/maps/decode.json"}),r=(module.exports,require("../maps/decode.json"));return module.exports=n,module.exports}(),t["../document/node_modules/htmlparser2/node_modules/entities/maps/entities.json"]=function(){{var module={exports:t["../document/node_modules/htmlparser2/node_modules/entities/maps/entities.json"]};e.bind(null,{}),module.exports}return module.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"},module.exports
}(),t["../document/node_modules/htmlparser2/node_modules/entities/maps/legacy.json"]=function(){{var module={exports:t["../document/node_modules/htmlparser2/node_modules/entities/maps/legacy.json"]};e.bind(null,{}),module.exports}return module.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"},module.exports}(),t["../document/node_modules/htmlparser2/node_modules/entities/maps/xml.json"]=function(){{var module={exports:t["../document/node_modules/htmlparser2/node_modules/entities/maps/xml.json"]};e.bind(null,{}),module.exports}return module.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},module.exports}(),t["../document/node_modules/htmlparser2/lib/Tokenizer.js"]=function(){function n(e){return" "===e||"\n"===e||"	"===e||"\f"===e||"\r"===e}function r(e,t){return function(n){n===e&&(this._state=t)}}function i(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function o(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=h,this._index--)}}function s(e,t){this._state=p,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=p,this._special=mt,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}{var module={exports:t["../document/node_modules/htmlparser2/lib/Tokenizer.js"]},require=e.bind(null,{"entities/lib/decode_codepoint.js":"../document/node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js","entities/maps/entities.json":"../document/node_modules/htmlparser2/node_modules/entities/maps/entities.json","entities/maps/legacy.json":"../document/node_modules/htmlparser2/node_modules/entities/maps/legacy.json","entities/maps/xml.json":"../document/node_modules/htmlparser2/node_modules/entities/maps/xml.json"});module.exports}module.exports=s;var a=require("entities/lib/decode_codepoint.js"),l=require("entities/maps/entities.json"),u=require("entities/maps/legacy.json"),c=require("entities/maps/xml.json"),f=0,p=f++,d=f++,h=f++,m=f++,_=f++,g=f++,y=f++,v=f++,b=f++,x=f++,S=f++,w=f++,E=f++,O=f++,A=f++,I=f++,C=f++,T=f++,P=f++,N=f++,R=f++,k=f++,L=f++,j=f++,D=f++,q=f++,M=f++,B=f++,V=f++,F=f++,U=f++,H=f++,z=f++,G=f++,W=f++,J=f++,Y=f++,X=f++,Q=f++,K=f++,Z=f++,et=f++,tt=f++,nt=f++,rt=f++,it=f++,ot=f++,st=f++,at=f++,lt=f++,ut=f++,ct=f++,ft=f++,pt=f++,dt=f++,ht=0,mt=ht++,_t=ht++,gt=ht++;return s.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=d,this._sectionStart=this._index):this._decodeEntities&&this._special===mt&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=p,this._state=ut,this._sectionStart=this._index)},s.prototype._stateBeforeTagName=function(e){"/"===e?this._state=_:">"===e||this._special!==mt||n(e)?this._state=p:"!"===e?(this._state=A,this._sectionStart=this._index+1):"?"===e?(this._state=C,this._sectionStart=this._index+1):"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):(this._state=this._xmlMode||"s"!==e&&"S"!==e?h:U,this._sectionStart=this._index)},s.prototype._stateInTagName=function(e){("/"===e||">"===e||n(e))&&(this._emitToken("onopentagname"),this._state=v,this._index--)},s.prototype._stateBeforeCloseingTagName=function(e){n(e)||(">"===e?this._state=p:this._special!==mt?"s"===e||"S"===e?this._state=H:(this._state=p,this._index--):(this._state=g,this._sectionStart=this._index))},s.prototype._stateInCloseingTagName=function(e){(">"===e||n(e))&&(this._emitToken("onclosetag"),this._state=y,this._index--)},s.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=p,this._sectionStart=this._index+1)},s.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=p,this._sectionStart=this._index+1):"/"===e?this._state=m:n(e)||(this._state=b,this._sectionStart=this._index)},s.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=p,this._sectionStart=this._index+1):n(e)||(this._state=v,this._index--)},s.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||n(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=x,this._index--)},s.prototype._stateAfterAttributeName=function(e){"="===e?this._state=S:"/"===e||">"===e?(this._cbs.onattribend(),this._state=v,this._index--):n(e)||(this._cbs.onattribend(),this._state=b,this._sectionStart=this._index)},s.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=w,this._sectionStart=this._index+1):"'"===e?(this._state=E,this._sectionStart=this._index+1):n(e)||(this._state=O,this._sectionStart=this._index,this._index--)},s.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ut,this._sectionStart=this._index)},s.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ut,this._sectionStart=this._index)},s.prototype._stateInAttributeValueNoQuotes=function(e){n(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ut,this._sectionStart=this._index)},s.prototype._stateBeforeDeclaration=function(e){this._state="["===e?k:"-"===e?T:I},s.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=p,this._sectionStart=this._index+1)},s.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=p,this._sectionStart=this._index+1)},s.prototype._stateBeforeComment=function(e){"-"===e?(this._state=P,this._sectionStart=this._index+1):this._state=I},s.prototype._stateInComment=function(e){"-"===e&&(this._state=N)},s.prototype._stateAfterComment1=function(e){this._state="-"===e?R:P},s.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=p,this._sectionStart=this._index+1):"-"!==e&&(this._state=P)},s.prototype._stateBeforeCdata1=i("C",L,I),s.prototype._stateBeforeCdata2=i("D",j,I),s.prototype._stateBeforeCdata3=i("A",D,I),s.prototype._stateBeforeCdata4=i("T",q,I),s.prototype._stateBeforeCdata5=i("A",M,I),s.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=B,this._sectionStart=this._index+1):(this._state=I,this._index--)},s.prototype._stateInCdata=function(e){"]"===e&&(this._state=V)},s.prototype._stateAfterCdata1=r("]",F),s.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=p,this._sectionStart=this._index+1):"]"!==e&&(this._state=B)},s.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=z:"t"===e||"T"===e?this._state=tt:(this._state=h,this._index--)},s.prototype._stateBeforeSpecialEnd=function(e){this._state=this._special!==_t||"c"!==e&&"C"!==e?this._special!==gt||"t"!==e&&"T"!==e?p:ot:X},s.prototype._stateBeforeScript1=o("R",G),s.prototype._stateBeforeScript2=o("I",W),s.prototype._stateBeforeScript3=o("P",J),s.prototype._stateBeforeScript4=o("T",Y),s.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||n(e))&&(this._special=_t),this._state=h,this._index--},s.prototype._stateAfterScript1=i("R",Q,p),s.prototype._stateAfterScript2=i("I",K,p),s.prototype._stateAfterScript3=i("P",Z,p),s.prototype._stateAfterScript4=i("T",et,p),s.prototype._stateAfterScript5=function(e){">"===e||n(e)?(this._special=mt,this._state=g,this._sectionStart=this._index-6,this._index--):this._state=p},s.prototype._stateBeforeStyle1=o("Y",nt),s.prototype._stateBeforeStyle2=o("L",rt),s.prototype._stateBeforeStyle3=o("E",it),s.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||n(e))&&(this._special=gt),this._state=h,this._index--},s.prototype._stateAfterStyle1=i("Y",st,p),s.prototype._stateAfterStyle2=i("L",at,p),s.prototype._stateAfterStyle3=i("E",lt,p),s.prototype._stateAfterStyle4=function(e){">"===e||n(e)?(this._special=mt,this._state=g,this._sectionStart=this._index-5,this._index--):this._state=p},s.prototype._stateBeforeEntity=i("#",ct,ft),s.prototype._stateBeforeNumericEntity=i("X",dt,pt),s.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?c:l;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},s.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(u.hasOwnProperty(n))return this._emitPartial(u[n]),void(this._sectionStart+=t+1);t--}},s.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):("a">e||e>"z")&&("A">e||e>"Z")&&("0">e||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==p?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},s.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,t);this._emitPartial(a(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},s.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):("0">e||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},s.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):("a">e||e>"f")&&("A">e||e>"F")&&("0">e||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},s.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._index=0,this._bufferOffset+=this._index):this._running&&(this._state===p?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._index=0,this._bufferOffset+=this._index):this._sectionStart===this._index?(this._buffer="",this._index=0,this._bufferOffset+=this._index):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},s.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},s.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===p?this._stateText(e):this._state===d?this._stateBeforeTagName(e):this._state===h?this._stateInTagName(e):this._state===_?this._stateBeforeCloseingTagName(e):this._state===g?this._stateInCloseingTagName(e):this._state===y?this._stateAfterCloseingTagName(e):this._state===m?this._stateInSelfClosingTag(e):this._state===v?this._stateBeforeAttributeName(e):this._state===b?this._stateInAttributeName(e):this._state===x?this._stateAfterAttributeName(e):this._state===S?this._stateBeforeAttributeValue(e):this._state===w?this._stateInAttributeValueDoubleQuotes(e):this._state===E?this._stateInAttributeValueSingleQuotes(e):this._state===O?this._stateInAttributeValueNoQuotes(e):this._state===A?this._stateBeforeDeclaration(e):this._state===I?this._stateInDeclaration(e):this._state===C?this._stateInProcessingInstruction(e):this._state===T?this._stateBeforeComment(e):this._state===P?this._stateInComment(e):this._state===N?this._stateAfterComment1(e):this._state===R?this._stateAfterComment2(e):this._state===k?this._stateBeforeCdata1(e):this._state===L?this._stateBeforeCdata2(e):this._state===j?this._stateBeforeCdata3(e):this._state===D?this._stateBeforeCdata4(e):this._state===q?this._stateBeforeCdata5(e):this._state===M?this._stateBeforeCdata6(e):this._state===B?this._stateInCdata(e):this._state===V?this._stateAfterCdata1(e):this._state===F?this._stateAfterCdata2(e):this._state===U?this._stateBeforeSpecial(e):this._state===H?this._stateBeforeSpecialEnd(e):this._state===z?this._stateBeforeScript1(e):this._state===G?this._stateBeforeScript2(e):this._state===W?this._stateBeforeScript3(e):this._state===J?this._stateBeforeScript4(e):this._state===Y?this._stateBeforeScript5(e):this._state===X?this._stateAfterScript1(e):this._state===Q?this._stateAfterScript2(e):this._state===K?this._stateAfterScript3(e):this._state===Z?this._stateAfterScript4(e):this._state===et?this._stateAfterScript5(e):this._state===tt?this._stateBeforeStyle1(e):this._state===nt?this._stateBeforeStyle2(e):this._state===rt?this._stateBeforeStyle3(e):this._state===it?this._stateBeforeStyle4(e):this._state===ot?this._stateAfterStyle1(e):this._state===st?this._stateAfterStyle2(e):this._state===at?this._stateAfterStyle3(e):this._state===lt?this._stateAfterStyle4(e):this._state===ut?this._stateBeforeEntity(e):this._state===ct?this._stateBeforeNumericEntity(e):this._state===ft?this._stateInNamedEntity(e):this._state===pt?this._stateInNumericEntity(e):this._state===dt?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},s.prototype.pause=function(){this._running=!1},s.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},s.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},s.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},s.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===B||this._state===V||this._state===F?this._cbs.oncdata(e):this._state===P||this._state===N||this._state===R?this._cbs.oncomment(e):this._state!==ft||this._xmlMode?this._state!==pt||this._xmlMode?this._state!==dt||this._xmlMode?this._state!==h&&this._state!==v&&this._state!==S&&this._state!==x&&this._state!==b&&this._state!==E&&this._state!==w&&this._state!==O&&this._state!==g&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},s.prototype.reset=function(){s.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},s.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},s.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},s.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},s.prototype._emitPartial=function(e){this._baseState!==p?this._cbs.onattribdata(e):this._cbs.ontext(e)},module.exports}(),t["../document/node_modules/htmlparser2/lib/Parser.js"]=function(){function n(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var module={exports:t["../document/node_modules/htmlparser2/lib/Parser.js"]},require=e.bind(null,{"./Tokenizer.js":"../document/node_modules/htmlparser2/lib/Tokenizer.js"}),r=(module.exports,require("./Tokenizer.js")),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygone:!0},a=/\s|\//;return require("util").inherits(n,require("events").EventEmitter),n.prototype._updatePosition=function(e){this.startIndex=null===this.endIndex?this._tokenizer._sectionStart<=e?0:this._tokenizer._sectionStart-e:this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},n.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},n.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in s||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},n.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in s&&this._cbs.onclosetag(this._tagname),this._tagname=""},n.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in s&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},n.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},n.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},n.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},n.prototype.onattribdata=function(e){this._attribvalue+=e},n.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},n.prototype._getInstructionName=function(e){var t=e.search(a),n=0>t?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},n.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},n.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},n.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},n.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},n.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},n.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},n.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.write=function(e){this._tokenizer.write(e)},n.prototype.end=function(e){this._tokenizer.end(e)},n.prototype.pause=function(){this._tokenizer.pause()},n.prototype.resume=function(){this._tokenizer.resume()},n.prototype.parseChunk=n.prototype.write,n.prototype.done=n.prototype.end,module.exports=n,module.exports}(),t["../document/node_modules/htmlparser2/node_modules/domelementtype/index.js"]=function(){{var module={exports:t["../document/node_modules/htmlparser2/node_modules/domelementtype/index.js"]};e.bind(null,{}),module.exports}return module.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}},module.exports}(),t["../document/node_modules/htmlparser2/node_modules/domhandler/lib/node.js"]=function(){var module={exports:t["../document/node_modules/htmlparser2/node_modules/domhandler/lib/node.js"]},n=(e.bind(null,{}),module.exports,module.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}}),r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};return Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}),module.exports}(),t["../document/node_modules/htmlparser2/node_modules/domhandler/lib/element.js"]=function(){var module={exports:t["../document/node_modules/htmlparser2/node_modules/domhandler/lib/element.js"]},require=e.bind(null,{"./node":"../document/node_modules/htmlparser2/node_modules/domhandler/lib/node.js"}),n=(module.exports,require("./node")),r=module.exports=Object.create(n),i={tagName:"name"};return Object.keys(i).forEach(function(e){var t=i[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}),module.exports}(),t["../document/node_modules/htmlparser2/node_modules/domhandler/index.js"]=function(){function n(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=a),this._callback=e,this._options=t||a,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var module={exports:t["../document/node_modules/htmlparser2/node_modules/domhandler/index.js"]},require=e.bind(null,{domelementtype:"../document/node_modules/htmlparser2/node_modules/domelementtype/index.js","./lib/node":"../document/node_modules/htmlparser2/node_modules/domhandler/lib/node.js","./lib/element":"../document/node_modules/htmlparser2/node_modules/domhandler/lib/element.js"}),r=(module.exports,require("domelementtype")),i=/\s+/g,o=require("./lib/node"),s=require("./lib/element"),a={normalizeWhitespace:!1,withStartIndices:!1};return n.prototype.onparserinit=function(e){this._parser=e},n.prototype.onreset=function(){n.call(this,this._callback,this._options,this._elementCB)},n.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},n.prototype._handleCallback=n.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},n.prototype.onclosetag=function(){var e=this._tagStack.pop();this._elementCB&&this._elementCB(e)},n.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withDomLvl1&&(e.__proto__="tag"===e.type?s:o),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},n.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]};this._addDomElement(n),this._tagStack.push(n)},n.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text?n?t.data=(t.data+e).replace(i," "):t.data+=e:this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text?n?t.data=(t.data+e).replace(i," "):t.data+=e:(n&&(e=e.replace(i," ")),this._addDomElement({data:e,type:r.Text}))},n.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)return void(t.data+=e);var n={data:e,type:r.Comment};this._addDomElement(n),this._tagStack.push(n)},n.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA};this._addDomElement(e),this._tagStack.push(e)},n.prototype.oncommentend=n.prototype.oncdataend=function(){this._tagStack.pop()},n.prototype.onprocessinginstruction=function(e,t){this._addDomElement({name:e,data:t,type:r.Directive})},module.exports=n,module.exports}(),t["../document/node_modules/htmlparser2/lib/index.js"]=function(){function n(e,t){return delete module.exports[e],module.exports[e]=t,t}var module={exports:t["../document/node_modules/htmlparser2/lib/index.js"]},require=e.bind(null,{"./Parser.js":"../document/node_modules/htmlparser2/lib/Parser.js",domhandler:"../document/node_modules/htmlparser2/node_modules/domhandler/index.js","./Tokenizer.js":"../document/node_modules/htmlparser2/lib/Tokenizer.js",domelementtype:"../document/node_modules/htmlparser2/node_modules/domelementtype/index.js"}),r=(module.exports,require("./Parser.js")),i=require("domhandler");return module.exports={Parser:r,Tokenizer:require("./Tokenizer.js"),ElementType:require("domelementtype"),DomHandler:i,get FeedHandler(){return n("FeedHandler",require("./FeedHandler.js"))},get Stream(){return n("Stream",require("./Stream.js"))},get WritableStream(){return n("WritableStream",require("./WritableStream.js"))},get ProxyHandler(){return n("ProxyHandler",require("./ProxyHandler.js"))},get DomUtils(){return n("DomUtils",require("domutils"))},get CollectingHandler(){return n("CollectingHandler",require("./CollectingHandler.js"))},DefaultHandler:i,get RssHandler(){return n("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(e,t){var n=new module.exports.FeedHandler(t);return new r(n,t).end(e),n.dom},createDomStream:function(e,t,n){var o=new i(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}},module.exports}(),t["../document/element/element/parser.coffee"]=function(){{var module={exports:t["../document/element/element/parser.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",htmlparser2:"../document/node_modules/htmlparser2/lib/index.js",log:"../log/index.coffee.md"});module.exports}return function(){var e,t,n,r,i;i=require("utils"),r=require("htmlparser2"),e=i.uid(100),t=function(e,t){return t},n=function(e,t){return e},module.exports=function(t){var n,o,s;return o=t.Tag.extensions,s=i.arrayToObject(t.Tag.INTERNAL_TAGS,function(e,t){return t},function(){return!0},Object.create(null)),n=function(){function e(e){this._callback=e,this._done=!1,this._tagStack=[],this.node=new t.Tag}return e.prototype.onreset=function(){return e.call(this,this._callback)},e.prototype.onend=function(){return this._done?void 0:(this._done=!0,this._callback(null,this.node))},e.prototype.onerror=function(e){return this._done=!0,this._callback(e,this.node)},e.prototype.onclosetag=function(e){var t;return t=this._tagStack.pop()},e.prototype._addDomElement=function(e){var t,n;t=i.last(this._tagStack)||this.node,n=t.children.push(e),e._parent=t,(e._previousSibling=t.children[n-2]||null)&&(e._previousSibling._nextSibling=e)},e.prototype.onopentag=function(e,n){var r;return r=new(o[e]||t.Tag),r.name=e,r._attrs=n,this._addDomElement(r),this._tagStack.push(r)},e.prototype.ontext=function(e){var n;if(e.replace(/[\t\n]/gm,""))return n=new t.Text,n._text=e,this._addDomElement(n)},e.prototype.oncomment=function(){},e.prototype.oncdatastart=function(){},e.prototype.oncommentend=function(){},e.prototype.oncdataend=function(){},e.prototype.onprocessinginstruction=function(e,n){var r;return r=new t.Text,r._text="<"+n+">",this._addDomElement(r)},e}(),{parse:function(t){var i,o,s;return s=null,i=new n(function(e){return function(e,t){if(e)throw e;return s=t}}(this)),o=new r.Parser(i,{xmlMode:!1,recognizeSelfClosing:!0,lowerCaseAttributeNames:!1,lowerCaseTags:!1}),o.onattribname=function(t){return function(n){return t.call(this,n),this._attribvalue=e}}(o.onattribname),o.onattribdata=function(t){return function(n){return this._attribvalue===e&&(this._attribvalue=""),t.call(this,n)}}(o.onattribdata),o.onattribend=function(t){return function(){return this._attribvalue===e&&(this._attribvalue="true"),t.call(this)}}(o.onattribend),o.write(t),o.end(),s}}}}.call(this),module.exports}(),t["../document/element/element.coffee.md"]=function(){{var module={exports:t["../document/element/element.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md","./element/text":"../document/element/element/text.coffee.md","./element/tag":"../document/element/element/tag.coffee.md","./element/parser":"../document/element/element/parser.coffee"});module.exports}return function(){var e,t,n,r,i,o,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=require("utils"),i=require("signal"),r=Array.isArray,t=i.Emitter,n=t.emitSignal,e=function(e){function r(){t.call(this),this._parent=null,this._nextSibling=null,this._previousSibling=null,this._style=null,this._documentStyle=null,this._visible=!0,this._inWatchers=null,this._checkWatchers=0}var s,l,u,c,f,p;return a(r,e),r.__name__="Element",r.__path__="File.Element",r.JSON_CTORS=[],l=r.JSON_CTOR_ID=r.JSON_CTORS.push(r)-1,f=1,u=f++,s=r.JSON_ARGS_LENGTH=f,r.fromHTML=function(e){if(!o.isNode)throw"Creating Views from HTML files is allowed only on a server";return r.parser.parse(e)},r.fromJSON=function(e){return"string"==typeof e&&(e=JSON.parse(e)),r.JSON_CTORS[e[0]]._fromJSON(e)
},r._fromJSON=function(e,t){return null==t&&(t=new r),t.visible=1===e[u],t},r.Text=require("./element/text")(r),r.Tag=c=require("./element/tag")(r),p=o.CONFIGURABLE,o.defineProperty(r.prototype,"index",p,function(){var e;return(null!=(e=this.parent)?e.children.indexOf(this):void 0)||0},function(e){var t,n,r,i,o,s,a;return(r=this._parent)?(n=this.index,t=r.children,e>t.length&&(e=t.length),n===e||n===e-1?!1:(null!=(i=this._previousSibling)&&(i._nextSibling=this._nextSibling),null!=(o=this._nextSibling)&&(o._previousSibling=this._previousSibling),t.splice(n,1),e>n&&e--,t.splice(e,0,this),this._previousSibling=t[e-1]||null,this._nextSibling=t[e+1]||null,null!=(s=this._previousSibling)&&(s._nextSibling=this),null!=(a=this._nextSibling)&&(a._previousSibling=this),!0)):!1}),p=o.CONFIGURABLE,o.defineProperty(r.prototype,"nextSibling",p,function(){return this._nextSibling},null),p=o.CONFIGURABLE,o.defineProperty(r.prototype,"previousSibling",p,function(){return this._previousSibling},null),p=o.CONFIGURABLE,o.defineProperty(r.prototype,"parent",p,function(){return this._parent},function(e){var t,r,i,o,s,a,l;return i=this._parent,i===e?!1:(this._parent&&(o=this._parent.children,this._nextSibling?this._previousSibling?(t=o.indexOf(this),o.splice(t,1)):o.shift():o.pop(),n(this._parent,"onChildrenChange",null,this),null!=(a=this._previousSibling)&&(a._nextSibling=this._nextSibling),null!=(l=this._nextSibling)&&(l._previousSibling=this._previousSibling),this._previousSibling=null,this._nextSibling=null),this._parent=s=e,s&&(r=this._parent.children,t=r.push(this)-1,n(s,"onChildrenChange",this),0===t?this._previousSibling=null:(this._previousSibling=r[t-1],this._previousSibling._nextSibling=this)),this._previousSibling,n(this,"onParentChange",i),c.query.checkWatchersDeeply(this),!0)}),i.Emitter.createSignal(r,"onParentChange"),p=o.CONFIGURABLE,o.defineProperty(r.prototype,"style",p,function(){return this._style},function(e){var t;return t=this._style,t===e?!1:(this._style=e,n(this,"onStyleChange",t,e),!0)}),i.Emitter.createSignal(r,"onStyleChange"),p=o.CONFIGURABLE,o.defineProperty(r.prototype,"visible",p,function(){return this._visible},function(e){var t;return t=this._visible,t===e?!1:(this._visible=e,n(this,"onVisibleChange",t),!0)}),i.Emitter.createSignal(r,"onVisibleChange"),r.prototype.queryAllParents=c.query.queryAllParents,r.prototype.queryParents=c.query.queryParents,r.prototype.getAccessPath=function(e){var t,n,r;for(t=[],f=0,n=this,r=this;(r=n._parent)&&(t.push(r.children.indexOf(n)),n=r,r!==e););return t},r.prototype.clone=function(){return new r},r.prototype.cloneDeep=function(){return this.clone()},r.prototype.toJSON=function(e){return e||(e=new Array(s),e[0]=l),e[u]=this.visible?1:0,e},o.isNode&&(r.parser=require("./element/parser")(r)),r}(t),module.exports=e}.call(this),module.exports}(),t["../document/element/index.coffee"]=function(){{var module={exports:t["../document/element/index.coffee"]},require=e.bind(null,{"./element":"../document/element/element.coffee.md"});module.exports}return function(){module.exports=require("./element")}.call(this),module.exports}(),t["../document/attrChange.coffee"]=function(){{var module={exports:t["../document/attrChange.coffee"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t;return t=function(){function t(e,t,n,r){this.file=e,this.node=t,this.target=n,this.name=r,this._defaultValue=n.getAttr(r),this.update(),t.onVisibleChange(u,this),t.onAttrsChange(l,this)}var n,r,i,o,s,a,l,u;return t.__name__="AttrChange",t.__path__="File.AttrChange",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,a=1,o=a++,s=a++,i=a++,n=t.JSON_ARGS_LENGTH=a,t._fromJSON=function(e,n,r){var a,l;return r||(a=e.node.getChildByAccessPath(n[o]),l=e.node.getChildByAccessPath(n[s]),r=new t(e,a,l,n[i])),r},t.prototype.update=function(){var e;e=this.node.visible?this.node.getAttr("value"):this._defaultValue,this.target.setAttr(this.name,e)},u=function(){return this.update()},l=function(e,t){if("name"===e)throw new Error("Dynamic neft:attr name is not implemented");"value"===e&&this.update()},t.prototype.clone=function(e,n){var r,i;return r=e.node.getCopiedElement(this.node,n.node),i=e.node.getCopiedElement(this.target,n.node),new t(n,r,i,this.name)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=r),t[o]=this.node.getAccessPath(this.file.node),t[s]=this.target.getAccessPath(this.file.node),t[i]=this.name,t},t}()}}.call(this),module.exports}(),t["../document/use.coffee"]=function(){{var module={exports:t["../document/use.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t;return t=function(){function t(e,t){this.file=e,this.node=t,this.name=t.getAttr("neft:fragment"),this.usedFragment=null,this.isRendered=!1,t.onVisibleChange(a,this),t.onAttrsChange(o,this)}var n,r,i,o,s,a;return t.__name__="Use",t.__path__="File.Use",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,s=1,i=s++,n=t.JSON_ARGS_LENGTH=s,t._fromJSON=function(e,n,r){var o;return r||(o=e.node.getChildByAccessPath(n[i]),r=new t(e,o)),r},a=function(){return this.file.isRendered&&!this.isRendered?this.render():void 0},o=function(e){"neft:fragment"===e&&(this.name=this.node.getAttr("neft:fragment"),this.isRendered&&(this.revert(),this.render()))},t.prototype.render=function(t){var n,r,i;if(this.node.visible&&(this.isRendered&&this.revert(),n=this.file.fragments[this.name],t||n))return r=t||e.factory(n),t||(r.storage=this.file.storage),t&&null!=(i=t.parentUse)&&i.detachUsedFragment(),r.isRendered||(r=r.render(this)),r.node.parent=this.node,this.usedFragment=r,r.parentUse=this,r.onReplaceByUse.emit(this),this.isRendered=!0},t.prototype.revert=function(){this.isRendered&&(this.usedFragment&&this.usedFragment.revert().destroy(),this.isRendered=!1)},t.prototype.detachUsedFragment=function(){this.usedFragment.node.parent=null,this.usedFragment.parentUse=null,this.usedFragment=null},t.prototype.clone=function(e,n){var r;return r=e.node.getCopiedElement(this.node,n.node),new t(n,r)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=r),t[i]=this.node.getAccessPath(this.file.node),t},t}()}}.call(this),module.exports}(),t["../document/input.coffee"]=function(){{var module={exports:t["../document/input.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md",dict:"../dict/index.coffee.md",list:"../list/index.coffee.md",db:"../db/index.coffee.md","./input/text.coffee":"../document/input/text.coffee","./input/attr.coffee":"../document/input/attr.coffee"});module.exports}return function(){var e,t,n;n=require("utils"),e=require("dict"),t=require("list"),module.exports=function(r){var i;return i=function(){function i(e,t,n,r){var o;this.file=e,this.node=t,this.text=n,this.funcBody=r,this.traces=[],this.updatePending=!1,this.traceChanges=!0,this.func=null!=g[o=this.funcBody]?g[o]:g[o]=i.createFunction(this.funcBody)}var o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A;return s=r.Element,i.__name__="Input",i.__path__="File.Input",u=i.JSON_CTOR_ID=r.JSON_CTORS.push(i)-1,v=1,f=i.JSON_NODE=v++,p=i.JSON_TEXT=v++,c=i.JSON_FUNC_BODY=v++,l=i.JSON_ARGS_LENGTH=v,i._fromJSON=function(e,t,n){var r;return n||(r=e.node.getChildByAccessPath(t[f]),n=new i(e,r,t[p],t[c])),n},m=i.RE=new RegExp("([^$]*)\\${([^}]*)}([^$]*)","gm"),_=i.VAR_RE=/(^|\s|\[|:|\()([a-zA-Z_$][\w:_]*)+(?!:)/g,h=i.PROP_RE=/(\.[a-zA-Z_$][a-zA-Z0-9_$]*)+/,d=i.PROPS_RE=/[a-zA-Z_$][a-zA-Z0-9_$]*(\.[a-zA-Z_$][a-zA-Z0-9_$]*)+\s*/g,o=i.CONSTANT_VARS=["undefined","false","true","null","this","JSON"],g=Object.create(null),a={Math:Math,Array:Array,Object:Object,Number:Number,RegExp:RegExp,String:String,db:require("db"),utils:require("utils")},i.getVal=function(){var t,n,i,o;return n=function(e,t){return e instanceof s?e._attrs[t]:void 0},i=function(t,n){var r;return t instanceof e&&(r=t.get(n)),void 0===r&&t&&(r=t[n]),r},t=function(e,t){for(var n,r,i,o;e;){if(n=null!=(r=e.ids)?r[t]:void 0)return n;e=(null!=(i=e.parentUse)?i.file:void 0)||e.file||(null!=(o=e.source)?o.file:void 0)}},o=function(e,t){for(var n,r,i,o;e;){if(n=null!=(r=e.funcs)?r[t]:void 0)return n;e=(null!=(i=e.parentUse)?i.file:void 0)||e.file||(null!=(o=e.source)?o.file:void 0)}},function(e,s){var l,u,c;return l=e.source instanceof r.Iterator?e.source.file:e,void 0===c&&(u=l.source)&&(c=n(u.node,s)),void 0===c&&e.source instanceof r.Iterator&&(c=n(e.source.node,s)),void 0===c&&(c=n(l.node,s)),void 0===c&&u&&(c=i(u.storage,s)),void 0===c&&(c=i(e.storage,s)),void 0===c&&(c=t(e,s)),void 0===c&&(c=o(e,s)),void 0===c&&(c=a[s]),c}}(),i.get=function(e,t){return"this"===t?e.node:i.getVal(e.file,t)},i.getStoragesArray=function(e){return function(t){var n,r,i,o,s,a,l;return e[0]=t.node,e[1]=null!=(n=t.source)?n.node:void 0,e[2]=null!=(r=t.source)?r.storage:void 0,e[3]=t.storage,e[4]=null!=(i=t.source)&&null!=(o=i.file)?o.node:void 0,e[5]=null!=(s=t.source)&&null!=(a=s.file)&&null!=(l=a.source)?l.node:void 0,e}}([]),i.test=function(e){return m.lastIndex=0,m.test(e)},i.parse=function(e){var t,r,i,s,a,l,u,c,f,p,m;for(e=e.replace(/[\t\n]/gm,""),s="",r=[],m="",u=l=!1,a=0,v=0,f=e.length;f>v;){if(t=e[v],"$"===t&&"{"===e[v+1])l=!0,r.push(m),m="",v++;else if("{"===t)a++,m+=t;else if("}"===t)if(a>0)a--,m+=t;else{if(!l)return;r.push(m),m=""}else m+=t;v++}for(r.push(m);r.length>1;)c=[r.shift(),r.shift()],p=c[1],p&&(p=p.replace(d,function(e,t,n,r){var i,o;return i=r.substr(n+e.length,2),o="",e=e.replace(h,function(e){var t,n,r,s;for(e=e.split("."),e.shift(),"("===i[0]||"="===i[0]&&"=="!==i?(o+="__input.trace(",t=")."+e[e.length-1],e.pop()):t="",n="",r=0,s=e.length;s>r;r++)p=e[r],o+="__input.traceObj(",n+=", '"+p+"')";return n+t}),""+o+e}),p=p.replace(_,function(e,t,r){return 0===r.indexOf("__")?e:(m=t.trim()||!n.has(o,r)?"__get(__input, '"+n.addSlashes(r)+"')":r,""+t+m)})),null==p&&(p=""),c[0]&&(s+="'"+n.addSlashes(c[0])+"' + "),p&&(s+=""+p+" + ");r.length&&r[0]&&(s+="'"+n.addSlashes(r[0])+"' + "),s="return "+s.slice(0,-3);try{new Function(s)}catch(e){i=e}return s},i.createFunction=function(e){return new Function("__input","__get",e)},w=0,E=[[],[]],S=E[w],x=!1,A=function(){var e,t;for(x=!1,e=S,S=E[++w%E.length];t=e.pop();)t.update()},b=n.isServer?function(){return this.update()}:function(){this.updatePending||(S.push(this),this.updatePending=!0,x||(setImmediate(A),x=!0))},O=function(){var e,t,r,i,o;for(r=this.traces,v=i=0,o=r.length;o>i;v=i+=2)e=r[v],t=r[v+1],e[t].disconnect(b,this);n.clear(r)},y=function(){return g=Object.create(null),function(e){return g[e]||(g[e]="on"+n.capitalize(e)+"Change")}}(),i.prototype.trace=function(n){return n&&this.traceChanges&&(n instanceof e?(n.onChange(b,this),this.traces.push(n,"onChange")):n instanceof t&&(n.onChange(b,this),this.traces.push(n,"onChange"),n.onInsert(b,this),this.traces.push(n,"onInsert"),n.onPop(b,this),this.traces.push(n,"onPop"))),n},i.prototype.traceObj=function(n,r){var i,o;return this.trace(n),n&&(n instanceof e?o=n.get(r):n instanceof t?"number"==typeof r&&(o=n.get(r)):(i=y(r),"function"==typeof n[i]&&(n[i](b,this),this.traces.push(n,i))),void 0===o&&(o=n[r])),o},i.prototype.render=function(){var t,n,r,o;for(o=i.getStoragesArray(this.file),n=0,r=o.length;r>n;n++)t=o[n],t instanceof s?t.onAttrsChange(b,this):t instanceof e&&this.trace(t);return this.update()},i.prototype.revert=function(){var e,t,n,r;for(r=i.getStoragesArray(this.file),t=0,n=r.length;n>t;t++)e=r[t],e instanceof s&&e.onAttrsChange.disconnect(b,this);O.call(this)},i.prototype.update=function(){this.updatePending=!1},i.prototype.toString=function(){var e;return e=function(){return O.call(this),this.func.call(this.node,this,i.get)},function(){var t;try{return e.call(this)}catch(e){return t=e,!0}}}(),i.prototype.clone=function(e,t){var n;return n=e.node.getCopiedElement(this.node,t.node),new i(t,n,this.text,this.funcBody)},i.prototype.toJSON=function(e,t){return t||(t=new Array(l),t[0]=u),t[f]=this.node.getAccessPath(this.file.node),t[p]=this.text,t[c]=this.funcBody,t},i.Text=require("./input/text.coffee")(r,i),i.Attr=require("./input/attr.coffee")(r,i),i}()}}.call(this),module.exports}(),t["../document/input/text.coffee"]=function(){{var module={exports:t["../document/input/text.coffee"]};e.bind(null,{}),module.exports}return function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};module.exports=function(e,n){var r;return r=function(r){function i(e,t,r,i){n.call(this,e,t,r,i),this.lastValue=0/0}var o,s,a,l,u;return t(i,r),i.__name__="InputText",i.__path__="File.Input.Text",s=i.JSON_CTOR_ID=e.JSON_CTORS.push(i)-1,l=n.JSON_NODE,u=n.JSON_TEXT,a=n.JSON_FUNC_BODY,o=n.JSON_ARGS_LENGTH,i._fromJSON=function(e,t,n){var r;return n||(r=e.node.getChildByAccessPath(t[l]),n=new i(e,r,t[u],t[a])),n},i.prototype.update=function(){var e;i.__super__.update.call(this),e=this.toString(),null==e?e="":"string"!=typeof e&&(e+=""),e!==this.lastValue&&(this.lastValue=e,this.node.text=e)},i.prototype.clone=function(e,t){var n;return n=e.node.getCopiedElement(this.node,t.node),new i(t,n,this.text,this.funcBody)},i.prototype.toJSON=function(e,t){return t||(t=new Array(o),t[0]=s),i.__super__.toJSON.call(this,e,t),t},i}(n)}}.call(this),module.exports}(),t["../document/input/attr.coffee"]=function(){{var module={exports:t["../document/input/attr.coffee"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(e,t){var r;return r=function(r){function i(e,n,r,i,o){this.attrName=o,t.call(this,e,n,r,i),this.lastValue=0/0,d(o)?(this.traceChanges=!1,this.handlerFunc=f(clone)):this.handlerFunc=null}var o,s,a,l,u,c,f,p,d;return n(i,r),i.__name__="InputAttr",i.__path__="File.Input.Attr",a=i.JSON_CTOR_ID=e.JSON_CTORS.push(i)-1,p=t.JSON_ARGS_LENGTH,u=t.JSON_NODE,c=t.JSON_TEXT,l=t.JSON_FUNC_BODY,s=p++,o=i.JSON_ARGS_LENGTH=p,i._fromJSON=function(e,t,n){var r;return n||(r=e.node.getChildByAccessPath(t[u]),n=new i(e,r,t[c],t[l],t[s])),n},d=function(e){return/^on[A-Z]|\:on[A-Z][A-Za-z0-9_$]*$/.test(e)},i.prototype.update=function(){var e;i.__super__.update.call(this),e=this.handlerFunc||this.toString(),e!==this.lastValue&&(this.lastValue=e,this.node.setAttr(this.attrName,e))},f=function(e){return function(t,n){var r;r=e.toString(),"function"==typeof r&&r.call(this,t,n)}},i.prototype.clone=function(e,t){var n;return n=e.node.getCopiedElement(this.node,t.node),new i(t,n,this.text,this.funcBody,this.attrName)},i.prototype.toJSON=function(e,t){return t||(t=new Array(o),t[0]=a),i.__super__.toJSON.call(this,e,t),t[s]=this.attrName,t},i}(t)}}.call(this),module.exports}(),t["../document/condition.coffee"]=function(){{var module={exports:t["../document/condition.coffee"]};e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"}),module.exports}return function(){module.exports=function(e){var t;return t=function(){function t(e,t,n){this.file=e,this.node=t,this.elseNode=null!=n?n:null,t.onAttrsChange(a,this)}var n,r,i,o,s,a;return t.__name__="Condition",t.__path__="File.Condition",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,s=1,o=s++,i=s++,n=t.JSON_ARGS_LENGTH=s,t._fromJSON=function(e,n,r){var s,a;return r||(a=e.node.getChildByAccessPath(n[o]),n[i]&&(s=e.node.getChildByAccessPath(n[i])),r=new t(e,a,s)),r},a=function(e){"neft:if"===e&&this.update()},t.prototype.update=function(){var e,t;e=this.node.visible=!!this.node.getAttr("neft:if"),null!=(t=this.elseNode)&&(t.visible=!e)},t.prototype.render=function(){return this.update()},t.prototype.clone=function(e,n){var r,i;return i=e.node.getCopiedElement(this.node,n.node),this.elseNode&&(r=e.node.getCopiedElement(this.elseNode,n.node)),new t(n,i,r)},t.prototype.toJSON=function(e,t){var s;return t||(t=new Array(n),t[0]=r),t[o]=this.node.getAccessPath(this.file.node),t[i]=null!=(s=this.elseNode)?s.getAccessPath(this.file.node):void 0,t},t}()}}.call(this),module.exports}(),t["../document/iterator.coffee"]=function(){{var module={exports:t["../document/iterator.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",list:"../list/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t,n;n=require("utils"),e=require("list"),t=Array.isArray,module.exports=function(n){var r;return r=function(){function r(e,t,n){this.file=e,this.node=t,this.name=n,this.usedFragments=[],this.text="",this.data=null,this.isRendered=!1,t.onAttrsChange(u,this),t.onVisibleChange(f,this)}var i,o,s,a,l,u,c,f;return r.__name__="Iterator",r.__path__="File.Iterator",r.HTML_ATTR=""+n.HTML_NS+":each",o=r.JSON_CTOR_ID=n.JSON_CTORS.push(r)-1,c=1,s=c++,a=c++,l=c++,i=r.JSON_ARGS_LENGTH=c,r._fromJSON=function(e,t,n){var i;return n||(i=e.node.getChildByAccessPath(t[a]),n=new r(e,i,t[s])),n.text=t[l],n},u=function(e){return this.file.isRendered&&"neft:each"===e?this.update():void 0},f=function(e){return this.file.isRendered&&e===!1&&!this.node.data?this.update():void 0},r.prototype.render=function(){var n,i,o,s,a;if(this.node.visible&&(i=this.node.getAttr(r.HTML_ATTR),i!==this.data&&(t(i)||i instanceof e))){for(this.data=n=i,i instanceof e&&(i.onChange(this.updateItem,this),i.onInsert(this.insertItem,this),i.onPop(this.popItem,this),n=i.items()),c=s=0,a=n.length;a>s;c=++s)o=n[c],this.insertItem(c);return this.isRendered=!0,null}},r.prototype.revert=function(){var t;return t=this.data,t&&(this.clearData(),t instanceof e&&(t.onChange.disconnect(this.updateItem,this),t.onInsert.disconnect(this.insertItem,this),t.onPop.disconnect(this.popItem,this))),this.data=null,this.isRendered=!1},r.prototype.update=function(){return this.revert(),this.render()},r.prototype.clearData=function(){for(var e;e=this.usedFragments.length;)this.popItem(e-1);return this},r.prototype.updateItem=function(e,t){return null==t&&(t=e),this.popItem(t),this.insertItem(t),this},r.prototype.insertItem=function(t,r){var i,o,s,a,l,u;return null==r&&(r=t),i=this.data,u=n.factory(this.name),this.usedFragments.splice(r,0,u),i instanceof e?(o=i.items(),s=i.get(r)):(o=i,s=i[r]),a=u.node,a.parent=this.node,a.index=r,l=Object.create(this.file.storage||null),l.each=o,l.i=r,l.item=s,u.render(l,this),u.onReplaceByUse.emit(this),this},r.prototype.popItem=function(e,t){var n;return null==t&&(t=e),this.node.children[t].parent=void 0,n=this.usedFragments[t],n.revert().destroy(),this.usedFragments.splice(t,1),this},r.prototype.clone=function(e,t){var n;return n=e.node.getCopiedElement(this.node,t.node),new r(t,n,this.name)},r.prototype.toJSON=function(e,t){return t||(t=new Array(i),t[0]=o),t[s]=this.name,t[a]=this.node.getAccessPath(this.file.node),t[l]=this.text,t},r}()}}.call(this),module.exports}(),t["../document/log.coffee"]=function(){{var module={exports:t["../document/log.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){var n;return n=function(){function n(e,t){this.file=e,this.node=t,a(t,this)}var r,i,o,s,a;return n.__name__="Log",n.__path__="File.Log",i=n.JSON_CTOR_ID=t.JSON_CTORS.push(n)-1,s=1,o=s++,r=n.JSON_ARGS_LENGTH=s,n._fromJSON=function(e,t,r){var i;return r||(i=e.node.getChildByAccessPath(t[o]),r=new n(e,i)),r},n.prototype.render=function(){var t,n,r;if(e.isEmpty(this.node._attrs));else{r=this.node._attrs;for(t in r)n=r[t]}},n.prototype.clone=function(e,t){var r;return r=e.node.getCopiedElement(this.node,t.node),new n(t,r)},n.prototype.toJSON=function(e,t){return t||(t=new Array(r),t[0]=i),t[o]=this.node.getAccessPath(this.file.node),t},n}()}}.call(this),module.exports}(),t["../renderer/impl.coffee"]=function(){{var module={exports:t["../renderer/impl.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","./impl/base":"../renderer/impl/base/index.coffee"});module.exports}return function(){var e,t;t=require("utils"),e=require("signal"),module.exports=function(n){var r,i,o,s,a,l,u,c,f,p,d,h,m,_;for(s=i=require("./impl/base"),s.Renderer=n,s.window=null,e.create(s,"onWindowReady"),r=["Item","Image","Text","TextInput","FontLoader","ResourcesLoader","Device","Screen","Navigator","RotationSensor","Rectangle","Grid","Column","Row","Flow","Animation","PropertyAnimation","NumberAnimation","Scrollable","AmbientSound"],l=function(){var e;if(e=null,t.isBrowser&&null!=window.HTMLCanvasElement)try{null==e&&(e=require("./impl/pixi")(s))}catch(e){}return t.isBrowser&&null==e&&(e=require("./impl/css")(s)),t.isQt&&null==e&&(e=require("./impl/qt")(s)),(t.isAndroid||t.isIOS)&&null==e&&(e=require("./impl/native")(s)),e}(),c=0,d=r.length;d>c;c++)a=r[c],u=s.Types[a]=s.Types[a](s),t.merge(s,u);for(l&&t.mergeDeep(s,l),f=0,h=r.length;h>f;f++)a=r[f],"function"==typeof s.Types[a]&&(u=s.Types[a]=s.Types[a](s),t.merge(s,u));for(p=0,m=r.length;m>p;p++)a=r[p],s.Types[a].createData&&(s.Types[a].createData=s.Types[a].createData());_=s.Extras;for(a in _)o=_[a],o=s.Extras[a]=o(s),t.merge(s,o);return s.createObject=function(e,t){var n,r;for(n=e;t&&null==s.Types[t];)n=Object.getPrototypeOf(n),t=n.constructor.__name__;return e._impl=(null!=(r=s.Types[t])&&"function"==typeof r.createData?r.createData():void 0)||{bindings:null},!0},s.initializeObject=function(e,t){var n,r;return null!=(n=s.Types[t])&&null!=(r=n.create)?r.call(e,e._impl):void 0},s.setWindow=function(e){return function(n){return t.defineProperty(s,"window",t.ENUMERABLE,n),e.call(s,n),s.onWindowReady.emit(),n.keys.focus=!0}}(s.setWindow),s}}.call(this),module.exports}(),t["../renderer/impl/base/level0/item.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/item.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","./item/pointer":"../renderer/impl/base/level0/item/pointer.coffee"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t,n,r;return r=e.pointer=require("./item/pointer")(e),n=function(){},t={bindings:null,anchors:null,capturePointer:0,childrenCapturesPointer:0},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){},setItemParent:function(e){return r.setItemParent.call(this,e)},insertItemBefore:function(t){var n,r,i,o,s,a,l,u,c,f,p;for(e.setItemParent.call(this,null),this._parent=null,s=t.parent,r=s.children,a=[],l=t.index,i=u=l,p=r.length;p>u;i=u+=1)n=r[i],n!==this&&(e.setItemParent.call(n,null),n._parent=null,a.push(n));for(e.setItemParent.call(this,s),this._parent=s,c=0,f=a.length;f>c;c++)o=a[c],e.setItemParent.call(o,s),o._parent=s},setItemBackground:function(e){},setItemVisible:function(e){},setItemClip:function(e){},setItemWidth:function(e){},setItemHeight:function(e){},setItemX:function(e){},setItemY:function(e){},setItemZ:function(e){},setItemScale:function(e){},setItemRotation:function(e){},setItemOpacity:function(e){},setItemLinkUri:function(e){},doItemOverlap:function(e){var t,n,r,i,o,s,a,l,u;for(t=this,n=e,o=null,s=t._x,l=t._y,a=n._x,u=n._y,r=t;o=r._parent;)s+=o._x,l+=o._y,r=o;for(i=n;o=i._parent;)s+=o._x,l+=o._y,i=o;return r===i&&s+t._width>a&&l+t._height>u&&s<a+n._width&&l<u+n._height},attachItemSignal:function(e,t){return"pointer"===e?r.attachItemSignal.call(this,t):void 0},setItemPointerEnabled:function(e){return r.setItemPointerEnabled.call(this,e)},setItemPointerDraggable:function(e){return r.setItemPointerDraggable.call(this,e)},setItemPointerDragActive:function(e){return r.setItemPointerDragActive.call(this,e)},setItemKeysFocus:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/image.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/image.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t={source:""},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t)},setStaticImagePixelRatio:function(e){},setImageSource:function(e){return this._impl.source=e},setImageSourceWidth:function(e){},setImageSourceHeight:function(e){},setImageFillMode:function(e){},setImageOffsetX:function(e){},setImageOffsetY:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/text.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/text.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t,n;return n=e.items,t={},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t)},setText:function(e){},setTextWrap:function(e){},updateTextContentSize:function(){},setTextColor:function(e){},setTextLinkColor:function(e){},setTextLineHeight:function(e){},setTextFontFamily:function(e){},setTextFontPixelSize:function(e){},setTextFontWordSpacing:function(e){},setTextFontLetterSpacing:function(e){},setTextAlignmentHorizontal:function(e){},setTextAlignmentVertical:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/textInput.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/textInput.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t={},{DATA:t,createData:e.utils.createDataCloner("Text",t),create:function(t){return e.Types.Text.create.call(this,t)},setTextInputText:function(e){},setTextInputColor:function(e){},setTextInputLineHeight:function(e){},setTextInputMultiLine:function(e){},setTextInputEchoMode:function(e){},setTextInputFontFamily:function(e){},setTextInputFontPixelSize:function(e){},setTextInputFontWordSpacing:function(e){},setTextInputFontLetterSpacing:function(e){},setTextInputAlignmentHorizontal:function(e){},setTextInputAlignmentVertical:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/loader/font.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/loader/font.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return{loadFont:function(e,t,n){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/loader/resources.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/loader/resources.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return{loadResources:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/device.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/device.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return{initDeviceNamespace:function(){},showDeviceKeyboard:function(){},hideDeviceKeyboard:function(){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/screen.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/screen.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return{initScreenNamespace:function(){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/navigator.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/navigator.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return{initNavigatorNamespace:function(){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/sensor/rotation.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/sensor/rotation.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return{enableRotationSensor:function(){},disableRotationSensor:function(){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level0/sound/ambient.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/sound/ambient.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t={bindings:null},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){},setAmbientSoundSource:function(e){},setAmbientSoundLoop:function(e){},startAmbientSound:function(e){},stopAmbientSound:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/rectangle.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/rectangle.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t,n,r,i,o,s,a;return i=e.items,o=Math.round,n=function(){},r=function(t){var n,r,i,s,a,l,u,c;return i=t._impl,a=e.pixelRatio,t.width<=0||t.height<=0?(i.isRectVisible=!1,null):(i.isRectVisible=!0,c=o(t.width*a),s=o(t.height*a),l=o(t.radius*a),u=o(Math.min(2*t.border.width*a,c,s)),r=i.color,n=i.borderColor,"data:image/svg+xml;utf8,"+("<svg width='"+c+"' height='"+s+"' xmlns='http://www.w3.org/2000/svg'>")+"<clipPath id='clip'><rect "+("rx='"+l+"' ")+("width='"+c+"' height='"+s+"' />")+"</clipPath><rect clip-path='url(#clip)' "+("fill='"+r+"' ")+("stroke='"+n+"' ")+("stroke-width='"+u+"' ")+("rx='"+l+"' ")+("width='"+c+"' height='"+s+"' />")+"</svg>")},s=function(){e.setImageSource.call(this,r(this),n)},a=function(){(!this._impl.isRectVisible||this.radius>0||this.border.width>0)&&s.call(this)},t={color:"transparent",borderColor:"transparent",isRectVisible:!1},{DATA:t,createData:e.utils.createDataCloner("Image",t),create:function(t){return e.Types.Image.create.call(this,t),this.onWidthChange(a),this.onHeightChange(a)},setRectangleColor:function(e){return this._impl.color=e,s.call(this)},setRectangleRadius:s,setRectangleBorderColor:function(e){return this._impl.borderColor=e,s.call(this)},setRectangleBorderWidth:s}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/grid.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/grid.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t;return t=e.utils.grid,{DATA:t.DATA,createData:e.utils.createDataCloner("Item",t.DATA),create:function(n){return e.Types.Item.create.call(this,n),t.create(this,t.COLUMN|t.ROW)},setGridEffectItem:t.setEffectItem,setGridColumns:t.update,setGridRows:t.update,setGridColumnSpacing:t.update,setGridRowSpacing:t.update,setGridAlignmentHorizontal:t.update,setGridAlignmentVertical:t.update,setGridIncludeBorderMargins:t.update}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/column.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/column.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t=e.utils.grid,{DATA:t.DATA,createData:e.utils.createDataCloner("Item",t.DATA),create:function(n){return e.Types.Item.create.call(this,n),t.create(this,t.COLUMN)},setColumnEffectItem:t.setEffectItem,setColumnSpacing:t.update,setColumnAlignmentHorizontal:t.update,setColumnAlignmentVertical:t.update,setColumnIncludeBorderMargins:t.update}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/row.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/row.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t=e.utils.grid,{DATA:t.data,createData:e.utils.createDataCloner("Item",t.DATA),create:function(n){return e.Types.Item.create.call(this,n),t.create(this,t.ROW)
},setRowEffectItem:t.setEffectItem,setRowSpacing:t.update,setRowAlignmentHorizontal:t.update,setRowAlignmentVertical:t.update,setRowIncludeBorderMargins:t.update}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/flow.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/flow.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","typed-array":"../typed-array/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I;I=require("utils"),t=require("typed-array"),e=50,f=function(e,t){return t>e?e:t},c=function(e,t){return e>t?e:t},l=function(e,t){return e.length<t?new e.constructor(1.4*t|0):e},u=function(e,t){var n,r,i;if(r=l(e,t),r===e){for(n=i=0;t>i;n=i+=1)e[n]=0;return e}return r},g=0,y=[[],[]],_=y[g],m=!1,x=new t.Uint32(64),b=new t.Uint32(64),o=new t.Uint32(64),s=new t.Uint32(64),i=new t.Uint32(64),r=new t.Uint32(64),v=new t.Uint8(64),S=new t.Uint8(64),E=function(t){var n,a,f,p,d,h,m,_,g,y,w,E,O,A,I,C,T,P,N,R,k,L,j,D,q,M,B,V,F,U,H,z,G,W,J,Y,X,Q,K,Z,et,tt,nt,rt,it,ot,st,at,lt,ut,ct,ft,pt,dt,ht,mt,_t,gt,yt,vt,bt,xt,St,wt;if((R=t._effectItem)&&(M=t.includeBorderMargins,O=t.collapseMargins,E=R._children,N=t._impl,d=N.autoWidth,p=N.autoHeight,null!=(xt=t._children)?!xt._layout:!0)){if((F=R._layout)&&(d&&(d=!F._fillWidth),p&&(p=!F._fillHeight)),N.loops===e)return void N.loops++;if(!(N.loops>e)){for((Q=t._padding)?(at=Q._top,nt=Q._right,_=Q._bottom,H=Q._left):at=nt=_=H=0,W=d?1/0:R._width-H-nt,A=t.spacing.column,it=t.spacing.row,t._alignment?(n=t._alignment._horizontal,a=t._alignment._vertical):(n="left",a="top"),J=E.length,v=u(v,J),o.length<J&&(J*=1.5,x=l(x,J),b=l(b,J),o=l(o,J),s=l(s,J),i=l(i,J),r=l(r,J)),L=k=0,I=T=0,B=V=C=0,ft=pt=et=h=0,ot=ut=0,q=ht=0,yt=E.length;yt>ht;q=++ht)if(y=E[q],y._visible){if(G=y._margin,F=y._layout,ct=y._width,D=y._height,G?(st=G._top,tt=G._right,m=G._bottom,U=G._left,(w=null!=(St=y._children)&&null!=(wt=St._layout)?wt._margin:void 0)&&(O?(st=c(st,w._top),tt=c(tt,w._right),m=c(m,w._bottom),U=c(U,w._left)):(st+=w._top,tt+=w._right,m+=w._bottom,U+=w._left))):st=tt=m=U=0,F){if(!F._enabled)continue;F._fillWidth&&!d&&(ct=W,M&&(ct-=U+tt),y.width=ct)}et=0,(M||ft>0)&&(ft+=O?c(U+(ft>0?A:0),B):U+B+(ft>0?A:0)),et+=ft+ct,M&&(et+=tt),et>W&&ut>0&&(et-=ft,ft=et-ct,T+=b[I],I++,V=C,C=0),F&&F._fillHeight&&!p&&(v[I]=c(v[I],v[I]+1),ot++,D=0,r[q]=m),h=pt+D,pt=T,(M||pt>0)&&(pt+=O?c(V,st+(pt>0?it:0)):V+st+(pt>0?it:0)),B=tt,C=c(C,m),o[q]=ft,s[q]=pt,i[q]=I,L=c(L,et),k=c(k,pt+D),x[I]=et,b[I]=k-T,ft+=ct,pt+=D,ut++}if(M&&(k=c(k,k+C)),j=R._height-at-_-k,j>0&&ot>0){for(S=u(S,I+1),z=I+1,K=(k+j)/z,lt=!0;lt;)for(lt=!1,q=mt=0;I>=mt;q=mt+=1)0===S[q]&&(0===v[q]||b[q]>K)&&(z--,K-=(b[q]-K)/z,S[q]=1,lt=!0);for(dt=P=0,q=_t=0,vt=E.length;vt>_t;q=++_t)y=E[q],i[q]===rt+1&&0===S[rt]&&(dt+=P,P=0),rt=i[q],s[q]+=dt,0===S[rt]&&(F=y._layout,F&&F._fillHeight&&F._enabled&&(y.height=K,P||(P=K-b[rt],b[rt]=K)));j=0}switch(n){case"left":Y=0;break;case"center":Y=.5;break;case"right":Y=1}switch(a){case"top":X=0;break;case"center":X=.5;break;case"bottom":X=1}for(Z=p||"top"===a?0:j*X,d||(L=R._width-H-nt),p||(k=R._height-at-_),q=gt=0,bt=E.length;bt>gt;q=++gt)y=E[q],y._visible&&(g=i[q],f=y._anchors,F=y._layout,(!F||F._enabled)&&(f&&f._autoX||(y.x=o[q]+(L-x[g])*Y+H),f&&f._autoY||(y.y=s[q]+Z+(b[g]-y._height)*X+at)));d&&(R.width=L+H+nt),p&&(R.height=k+at+_)}}},O=function(){var e,t;for(m=!1,e=_,_=y[++g%y.length];e.length;)t=e.pop(),t._impl.pending=!1,t._impl.updatePending=!0,E(t),t._impl.updatePending=!1},w=function(){var e,t;e=this._impl,!e.pending&&(null!=(t=this._effectItem)?t._visible:void 0)&&(e.updatePending?e.loops++:e.loops=0,e.pending=!0,_.push(this),m||(setImmediate(O),m=!0))},A=function(){this._impl.updatePending||w.call(this)},h=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillWidth||(this._impl.autoWidth=0===this._effectItem._width&&-1!==e),A.call(this)},d=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillHeight||(this._impl.autoHeight=0===this._effectItem._height&&-1!==e),A.call(this)},a=function(e){return e.onVisibleChange(w,this),e.onWidthChange(w,this),e.onHeightChange(w,this),e.onMarginChange(w,this),e.onAnchorsChange(w,this),e.onLayoutChange(w,this)},n=function(e){return e.onVisibleChange.disconnect(w,this),e.onWidthChange.disconnect(w,this),e.onHeightChange.disconnect(w,this),e.onMarginChange.disconnect(w,this),e.onAnchorsChange.disconnect(w,this),e.onLayoutChange.disconnect(w,this)},p=function(e,t){return e&&a.call(this,e),t&&n.call(this,t),w.call(this)},module.exports=function(e){var t;return t={loops:0,pending:!1,updatePending:!1,autoWidth:!0,autoHeight:!0},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t),this.onAlignmentChange(A)},setFlowEffectItem:function(e,t){var r,i,o,s,l,u,c;if(t)for(t.onVisibleChange.disconnect(w,this),t.onChildrenChange.disconnect(p,this),t.onLayoutChange.disconnect(w,this),t.onWidthChange.disconnect(h,this),t.onHeightChange.disconnect(d,this),this._impl.autoWidth&&(t.width=0),this._impl.autoHeight&&(t.height=0),u=t.children,i=0,s=u.length;s>i;i++)r=u[i],n.call(this,r);if(e){for((this._impl.autoWidth=0===e.width)&&(e.width=-1),(this._impl.autoHeight=0===e.height)&&(e.height=-1),e.onVisibleChange(w,this),e.onChildrenChange(p,this),e.onLayoutChange(w,this),e.onWidthChange(h,this),e.onHeightChange(d,this),c=e.children,o=0,l=c.length;l>o;o++)r=c[o],a.call(this,r);w.call(this)}},setFlowColumnSpacing:w,setFlowRowSpacing:w,setFlowIncludeBorderMargins:w,setFlowCollapseMargins:w}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/animation.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/animation.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t={bindings:null},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){},setAnimationLoop:function(e){},startAnimation:function(){},stopAnimation:function(){},resumeAnimation:function(){},pauseAnimation:function(){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/animation/property.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/animation/property.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t,n,r,i;return r=e.Types,i=e.items,n={Linear:function(e,t,n,r){return n*(e/r)+t},InQuad:function(e,t,n,r){return n*(e/=r)*e+t},OutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},InOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},InCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},OutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},InOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},InQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},OutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},InOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},InQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},OutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},InOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},InSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},OutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},InOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},InExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},OutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},InOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},InCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},OutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},InOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},InElastic:function(e,t,n,r){var i,o,s;return s=1.70158,o=0,i=n,0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-s)*Math.PI/o))+t)},OutElastic:function(e,t,n,r){var i,o,s;return s=1.70158,o=0,i=n,0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin(2*(e*r-s)*Math.PI/o)+n+t)},InOutElastic:function(e,t,n,r){var i,o,s;return s=1.70158,o=0,i=n,0===e?t:2===(e/=r/2)?t+n:(o||(o=.3*r*1.5),i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-s)*Math.PI/o)+t:i*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*r-s)*Math.PI/o)*.5+n+t)},InBack:function(e,t,n,r,i){return null==i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},OutBack:function(e,t,n,r,i){return null==i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},InOutBack:function(e,t,n,r,i){return null==i&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},InBounce:function(e,t,r,i){return r-n.OutBounce(i-e,0,r,i)+t},OutBounce:function(e,t,n,r){return(e/=r)<1/2.75?7.5625*n*e*e+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},InOutBounce:function(e,t,r,i){return i/2>e?.5*n.InBounce(2*e,0,r,i)+t:.5*n.OutBounce(2*e-i,0,r,i)+.5*r+t}},t={progress:0,internalPropertyName:"",propertySetter:null,isIntegerProperty:!1,easing:null,startDelay:0},{DATA:t,createData:e.utils.createDataCloner("Animation",t),create:function(t){return t.easing=n.Linear,e.Types.Animation.create.call(this,t)},setPropertyAnimationTarget:function(e){},setPropertyAnimationProperty:function(t){this._impl.internalPropertyName="_"+t,this._impl.propertySetter=e.utils.SETTER_METHODS_NAMES[t],this._impl.isIntegerProperty=!!e.utils.INTEGER_PROPERTIES[t]},setPropertyAnimationDuration:function(e){},setPropertyAnimationStartDelay:function(e){return this._impl.startTime+=e-this._impl.startDelay,this._impl.startDelay=e},setPropertyAnimationLoopDelay:function(e){},setPropertyAnimationFrom:function(e){return this._impl.from=e},setPropertyAnimationTo:function(e){return this._impl.to=e},setPropertyAnimationUpdateData:function(e){},setPropertyAnimationUpdateProperty:function(e){},setPropertyAnimationEasingType:function(e){return this._impl.easing=n[e]||n.Linear},getPropertyAnimationProgress:function(){return this._impl.progress}}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/animation/number.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/animation/number.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t,n,r,i,o,s,a,l;return n=e.Types,r=Date.now,s=Math.round,o=[],i=r(),l=function(){var e,t,n;for(i=r(),t=0,n=o.length;n>t;)e=o[t],e._running&&!e._paused?(a(e),t++):(o[t]=o[n-1],o[n-1]=o[o.length-1],o.pop(),n--);requestAnimationFrame(l)},"function"==typeof requestAnimationFrame&&requestAnimationFrame(l),a=function(t){var n,r,o,s,a,l;return n=t._impl,r=(i-n.startTime)/t._duration,0>r?void(n.progress=0):(r>1&&(r=1),n.progress=r,s=1!==r||t._running&&t._loop&&t._when,l=1===r?n.to:n.easing(t._duration*r,n.from,n.to-n.from,t._duration),a=t._target,l===l&&a&&(o=t._property)&&(s&&!t._updateProperty&&n.propertySetter?(e[n.propertySetter].call(a,l),t._updateData&&(a[n.internalPropertyName]=l)):(t._updatePending=!0,s||a[n.internalPropertyName]!==l||(a[n.internalPropertyName]=n.from),a[o]=l,t._updatePending=!1,1===r&&n.propertySetter&&a[o]===l&&e[n.propertySetter].call(a,l))),void(1===r&&(s?n.startTime+=t._loopDelay+t._duration:(n.startTime=0,t.running=!1))))},t={type:"number",startTime:0,pauseTime:0,from:0,to:0},{DATA:t,createData:e.utils.createDataCloner("PropertyAnimation",t),create:function(t){return e.Types.PropertyAnimation.create.call(this,t)},startAnimation:function(e){return function(){var t;e.call(this),"number"===this._impl.type&&(t=this._impl,t.from=this._from,t.to=this._to,o.push(this),t.startTime=i,a(this),t.startTime+=this._startDelay)}}(e.startAnimation),stopAnimation:function(e){return function(){var t;e.call(this),t=this._impl,"number"===t.type&&0!==t.startTime&&(t.startTime=0,a(this))}}(e.stopAnimation),resumeAnimation:function(e){return function(){var t;e.call(this),"number"===this._impl.type&&(t=this._impl,o.push(this),t.startTime+=Date.now()-t.pauseTime,t.pauseTime=0)}}(e.resumeAnimation),pauseAnimation:function(e){return function(){var t;e.call(this),t=this._impl,"number"===t.type&&(t.pauseTime=Date.now())}}(e.pauseAnimation)}}}.call(this),module.exports}(),t["../renderer/impl/base/level2/scrollable.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level2/scrollable.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n,r;r=require("utils"),n=require("signal"),t=3,e=7,module.exports=function(r){var i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S;return s=r.Types,null==r._scrollableUsePointer&&(r._scrollableUsePointer=!0),null==r._scrollableUseWheel&&(r._scrollableUseWheel=!0),v=function(){return function(e,t,n){var r,i,o,s;return null==t&&(t=0),null==n&&(n=0),r=l(e,t),i=u(e,n),t=Math.round(e._contentX-r),n=Math.round(e._contentY-i),t=o=f(e,t),n=s=p(e,n),e._contentX!==t||e._contentY!==n?(e.contentX=t,e.contentY=n,!0):!1}}(),l=function(e,t){return t/e._impl.globalScale},u=function(e,t){return t/e._impl.globalScale},f=function(e,t){var n;return n=e._impl.contentItem._width-e._width,Math.round(Math.max(0,Math.min(n,t)))},p=function(e,t){var n;return n=e._impl.contentItem._height-e._height,Math.round(Math.max(0,Math.min(n,t)))},c=function(e){var t;for(t=e.scale;e=e.parent;)t*=e.scale;return t},a=function(e,t){var n,r,i,o,s,a,l,u,c,f,p,d,h,m;return n=4,m=0,r=0,h=0,d=0,u=!1,f=!1,a=function(){switch(t){case"x":return"lastSnapTargetX";case"y":return"lastSnapTargetY"}}(),c=function(){switch(t){case"x":return function(t){return v(e,t,0)};case"y":return function(t){return v(e,0,t)}}}(),o=function(){switch(t){case"x":return"_contentX";case"y":return"_contentY"}}(),l=function(){switch(t){case"x":return"_x";case"y":return"_y"}}(),p=function(){switch(t){case"x":return"_width";case"y":return"_height"}}(),i=function(){var t,s,a;0!==r&&(s=Date.now()-h,f&&(a=e[o]-d,(0>r&&0>a||r>0&&a>0)&&(r=-r,u?r*=.3:u=!0)),t=.7*-r*Math.exp(-s/325),f&&(a>n||-n>a)&&(t>0&&n>t||0===t&&a>0?t=Math.min(a,7):(0>t&&t>-7||0===t)&&(t=Math.max(a,-7))),(!f||a>n||-n>a)&&(t>.5||-.5>t)?(c(t),requestAnimationFrame(i)):c(a))},s=function(t){var n,r,i,o,s,a,u,c,f;if(r=(null!=(c=e._snapItem)?c._children:void 0)||(null!=(f=e._contentItem)?f._children:void 0),o=1/0,s=0,r)for(a=0,u=r.length;u>a;a++)n=r[a],i=t-n[l],m>0?i+=.5*n[p]:i-=.5*n[p],(m>=0&&i>=0||0>=m&&0>=i)&&(i=Math.abs(i),o>i&&(o=i,s=n[l]));return 1/0===o?(null!=n?n[l]:void 0)||0:s},{press:function(){return m=r=0,u=!1,h=Date.now()},release:function(){var t,n,l,u;t=e._impl,l=t.snap,Math.abs(m)<5||(r=.8*m,h=Date.now(),d=e[o]+4*r,l&&(u=s(d),f=t[a]!==u,f&&(d=u,t[a]=u)),n=Math.abs(m)>10,n||(n=l&&d===u),n&&i())},update:function(e){var t,n,r;n=Date.now(),t=n-h,h=n,r=100*-e/(1+t),m=.8*r+.2*m}}},o=1,y=[],m=function(){return r.window.pointer.onMove(function(e){var t,r,i,s,a;for(i=!1,s=0,a=y.length;a>s;s++){if(t=y[s],r=t(e),r===n.STOP_PROPAGATION){i=!0;break}r===o&&(i=!0)}return i?n.STOP_PROPAGATION:void 0})},null!=r.window?m():r.onWindowReady(m),g=!1,b=function(t){var i,s,l,u,d,h,_;return u=a(t,"x"),_=a(t,"y"),l=!1,d=!1,i=s=0,h=function(e){return v(t,e.movementX+i,e.movementY+s)?void 0:e.stopPropagation=!1},m=function(){return y.push(function(r){var a,c;if(d){if(!l){if(g)return;if(i+=r.movementX,s+=r.movementY,a=f(t,i),c=p(t,s),(a!==t._contentX||c!==t._contentY)&&Math.abs(a-t._contentX)<e&&Math.abs(c-t._contentY)<e)return o;i=s=0}return h(r)===n.STOP_PROPAGATION&&(l=!0,g=!0,t._impl.swingDisabled=!0,u.update(i+r.movementX),_.update(s+r.movementY)),n.STOP_PROPAGATION}}),r.window.pointer.onRelease(function(e){d=!1,i=s=0,l&&(l=!1,g=!1,t._impl.swingDisabled=!1,h(e),u.release(),_.release())})},null!=r.window?m():r.onWindowReady(m),t.pointer.onPress(function(e){d=!0,t._impl.globalScale=c(t),u.press(),_.press()})},S=!1,d=0,x=function(e){var r,i,o,s,l,u,f,p,h,m,_,g,y,b,x;s=0,g=!1,r=!1,m=!1,i=!0,l=0,o=a(e,"x"),y=a(e,"y"),b=x=0,p=h=u=f=0,_=function(){var e;e=Date.now(),r||e-l>70?(m=!1,r=!0,o.update(b),y.update(x),o.release(),y.release()):requestAnimationFrame(_)},e.pointer.onWheel(function(a){var w;if(!e._impl.snap)return b=a.deltaX/t,x=a.deltaY/t,e._impl.globalScale=c(e),void(v(e,b,x)||(a.stopPropagation=!1));if(w=Date.now(),w-d>300&&(S=!1),d=w,!S||g){if(S||i||(g=!1,r=!1,s=0,p=h=u=f=0),s++,i=!1,b=a.deltaX/t,x=a.deltaY/t,b>0&&b>u?u=(u*(s-1)+b)/s:p>b&&(p=(p*(s-1)+b)/s),x>0&&x>f?f=(f*(s-1)+x)/s:h>x&&(h=(h*(s-1)+x)/s),b>0&&.3*u>b||0>b&&b>.3*p||x>0&&.3*f>x||0>x&&x>.3*h){if(!r)return r=!0,n.STOP_PROPAGATION}else r=!1;return r?n.STOP_PROPAGATION:(e._impl.globalScale=c(e),v(e,b,x)&&(l=w,m?(o.update(b),y.update(x)):(m=!0,o.press(),y.press(),requestAnimationFrame(_)),S=!0,g=!0),g?void 0:a.stopPropagation=!1)}})},_=function(e){this.contentItem.width<e&&v(this)},h=function(e){this.contentItem.height<e&&v(this)},i={contentItem:null,globalScale:1,snap:!1,lastSnapTargetX:0,lastSnapTargetY:0,swingPending:!1,swingDisabled:!1},{DATA:i,_getLimitedX:f,_getLimitedY:p,createData:r.utils.createDataCloner("Item",i),create:function(e){r.Types.Item.create.call(this,e),r._scrollableUsePointer&&b(this),r._scrollableUseWheel&&x(this)},setScrollableContentItem:function(e){var t;(t=this._impl.contentItem)&&(r.setItemParent.call(t,null),t.onWidthChange.disconnect(_,this),t.onHeightChange.disconnect(h,this)),e&&(this.children.length>0?r.insertItemBefore.call(e,this.children[0]):r.setItemParent.call(e,this),this._impl.contentItem=e,e.onWidthChange(_,this),e.onHeightChange(h,this))},setScrollableContentX:function(e){var t;(t=this._impl.contentItem)&&r.setItemX.call(t,-e)},setScrollableContentY:function(e){var t;(t=this._impl.contentItem)&&r.setItemY.call(t,-e)},setScrollableSnap:function(e){this._impl.snap=e},setScrollableSnapItem:function(e){}}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/binding.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/binding.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n,r,i;i=require("utils"),r=require("signal"),n=Array.isArray,t=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="on"+i.capitalize(t)+"Change")}}(),e=50,module.exports=function(e){var r,o,s;return s=e.items,o=function(){function e(i,o,s,a){this.binding=i,this.prop=s,this.parent=a,this.handlerName=t(s),this.isConnected=!1,n(o)?(this.itemId="",this.child=e.factory(i,o[0],o[1],this),this.item=this.child.getValue()):(this.itemId=o,this.child=null,this.item=r.getItemById(i,o)),this.connect()}var i,o;return o=[],e.factory=function(t,n,r,i){var s;return null==i&&(i=null),o.length>0&&(s=o.pop())?(e.call(s,t,n,r,i),s):new e(t,n,r,i)},i=function(){var e,t;return t=function(){return this.parent.updateItem()},e=function(){return this.binding.update()},function(n){return n.parent?t:e}}(),e.prototype.update=function(){return i(this).call(this)},e.prototype.connect=function(){var e;this.item&&(e=this.item[this.handlerName],null!=e&&(this.isConnected=!0,e(i(this),this)))},e.prototype.disconnect=function(){this.item&&this.isConnected&&this.item[this.handlerName].disconnect(i(this),this),this.isConnected=!1},e.prototype.updateItem=function(){var e,t;e=this.item,t=this.child?this.child.getValue():r.getItemById(this.binding,this.itemId),e&&!this.isConnected&&(this.connect(),e=null),e!==t&&(this.disconnect(),this.item=t,this.connect(),this.parent||this.binding.update()),this.parent&&this.parent.updateItem()},e.prototype.getValue=function(){return this.item?this.item[this.prop]:null},e.prototype.destroy=function(){var e;this.disconnect(),null!=(e=this.child)&&e.destroy(),o.push(this)},e}(),r=function(){function t(e,t,r,i,a){var l,u,c,f,p,d;for(this.obj=e,this.prop=t,this.component=i,this.ctx=a,c=this.item=e._ref||e,"function"==typeof i.onObjectChange&&i.onObjectChange(s,this),this.func=r[0],this.args=i.objectsOrder,l=this.connections||(this.connections=[]),d=r[1],f=0,p=d.length;p>f;f++)u=d[f],n(u)&&l.push(o.factory(this,u[0],u[1]));this.update()}var r,s,a;return a=[],t.factory=function(e,n,r,i,o){var s;return(s=a.pop())?(t.call(s,e,n,r,i,o),s):new t(e,n,r,i,o)},t.getItemById=function(t,n){return"this"===n?t.ctx:"view"===n?e.Renderer.window:t.component.objects[n]||e.Renderer[n]||null},s=function(e){var t,n,r,i;for(i=this.connections,n=0,r=i.length;r>n;n++){for(t=i[n];t.child;)t=t.child;t.itemId===e&&t.updateItem()}},r=function(e){var t;switch(t=e.obj[e.prop],typeof t){case"string":return"";case"number":return 0;case"boolean":return!1;default:return null}},t.prototype.update=function(){var e;this.args&&(e=i.tryFunction(this.func,this.ctx,this.args),null==e&&(e=r(this)),"number"!=typeof e||isFinite(e)||(e=r(this)),this.obj[this.prop]=e)},t.prototype.destroy=function(){var e,t,n,r,o;for(r=this.connections,t=0,n=r.length;n>t;t++)e=r[t],e.destroy();this.obj._impl.bindings[this.prop]=null,this.args=null,i.clear(this.connections),null!=(o=this.component.onObjectChange)&&o.disconnect(s,this),a.push(this)},t}(),{setItemBinding:function(e,t,n,i){var o,s;o=this._impl,null==o.bindings&&(o.bindings={}),null!=(s=o.bindings[e])&&s.destroy(),null!=t&&(o.bindings[e]=r.factory(this,e,t,n,i))}}}}.call(this),module.exports}(),t["../renderer/impl/base/level1/anchors.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level1/anchors.coffee"]};e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md"}),module.exports}return function(){var e;e=Array.isArray,module.exports=function(e){var t,n,r,i,o,exports,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A;return n=function(){return 0},r=10,w=0,E=[[],[]],S=E[w],x=!1,A=function(){var e,t;for(x=!1,t=S,S=E[++w%E.length];t.length;)e=t.pop(),e.pending=!1,e.update()},O=function(){this.pending||(this.pending=!0,S.push(this),x||(setImmediate(A),x=!0))},l={left:"x",top:"y",right:"x",bottom:"y",horizontalCenter:"x",verticalCenter:"y",fillWidthSize:"width",fillHeightSize:"height"},f={left:["onMarginChange"],top:["onMarginChange"],right:["onMarginChange","onWidthChange"],bottom:["onMarginChange","onHeightChange"],horizontalCenter:["onMarginChange","onWidthChange"],verticalCenter:["onMarginChange","onHeightChange"],fillWidthSize:["onMarginChange"],fillHeightSize:["onMarginChange"]},d={left:{parent:[],children:[],sibling:["onXChange"]},top:{parent:[],children:[],sibling:["onYChange"]},right:{parent:["onWidthChange"],sibling:["onXChange","onWidthChange"]},bottom:{parent:["onHeightChange"],sibling:["onYChange","onHeightChange"]},horizontalCenter:{parent:["onWidthChange"],sibling:["onXChange","onWidthChange"]},verticalCenter:{parent:["onHeightChange"],sibling:["onYChange","onHeightChange"]},fillWidthSize:{parent:["onWidthChange"],children:[],sibling:["onWidthChange"]},fillHeightSize:{parent:["onHeightChange"],children:[],sibling:["onHeightChange"]}},c={left:function(e){return 0},top:function(e){return 0},right:function(e){return-e._width},bottom:function(e){return-e._height},horizontalCenter:function(e){return-e._width/2},verticalCenter:function(e){return-e._height/2},fillWidthSize:function(e){return 0},fillHeightSize:function(e){return 0}},p={left:{parent:function(e){return 0},children:function(e){return 0},sibling:function(e){return e._x}},top:{parent:function(e){return 0},children:function(e){return 0},sibling:function(e){return e._y}},right:{parent:function(e){return e._width},sibling:function(e){return e._x+e._width}},bottom:{parent:function(e){return e._height},sibling:function(e){return e._y+e._height}},horizontalCenter:{parent:function(e){return e._width/2},sibling:function(e){return e._x+e._width/2}},verticalCenter:{parent:function(e){return e._height/2},sibling:function(e){return e._y+e._height/2}},fillWidthSize:{parent:function(e){return e._width},children:function(e){var t,n,r,i,o;for(r=0,n=0,i=0,o=e.length;o>i;i++)t=e[i],t._visible&&(r=t._width,r>n&&(n=r));return n},sibling:function(e){return e._width}},fillHeightSize:{parent:function(e){return e._height},children:function(e){var t,n,r,i,o;for(r=0,n=0,i=0,o=e.length;o>i;i++)t=e[i],t._visible&&(r=t._height,r>n&&(n=r));return n},sibling:function(e){return e._height}}},u={left:function(e){return e._left},top:function(e){return e._top},right:function(e){return-e._right},bottom:function(e){return-e._bottom},horizontalCenter:function(e){return e._left-e._right},verticalCenter:function(e){return e._top-e._bottom},fillWidthSize:function(e){return-e._left-e._right},fillHeightSize:function(e){return-e._top-e._bottom}},v=function(e){var t,n,r,i,o,s,a,l;if(e)for(a=d[this.line].parent,r=0,o=a.length;o>r;r++)t=a[r],e[t].disconnect(O,this);if(n=this.targetItem=this.item._parent)for(l=d[this.line].parent,i=0,s=l.length;s>i;i++)t=l[i],n[t](O,this);O.call(this)},y=function(e){var t,n,r,i,o,s,a,l;if(e)for(a=d[this.line].sibling,r=0,o=a.length;o>r;r++)t=a[r],e[t].disconnect(O,this);if(n=this.targetItem=this.item._nextSibling)for(l=d[this.line].sibling,i=0,s=l.length;s>i;i++)t=l[i],n[t](O,this);O.call(this)},b=function(e){var t,n,r,i,o,s,a,l;if(e)for(a=d[this.line].sibling,r=0,o=a.length;o>r;r++)t=a[r],e[t].disconnect(O,this);if(n=this.targetItem=this.item._previousSibling)for(l=d[this.line].sibling,i=0,s=l.length;s>i;i++)t=l[i],n[t](O,this);O.call(this)},m=function(e){e.onVisibleChange(O,this),"fillWidthSize"===this.source&&e.onWidthChange(O,this),"fillHeightSize"===this.source&&e.onHeightChange(O,this),O.call(this)},_=function(e){e.onVisibleChange.disconnect(O,this),"fillWidthSize"===this.source&&e.onWidthChange.disconnect(O,this),"fillHeightSize"===this.source&&e.onHeightChange.disconnect(O,this),O.call(this)},g=function(e,t){return e&&m.call(this,e),t?_.call(this,t):void 0},t=function(){function e(e,t,r){var i,o,s,a,u,h,_,x,S,w,E,A,I;for(this.item=e,this.source=t,a=r[0],s=r[1],null==s&&(s=t),this.target=a,this.line=s,this.pending=!1,this.updateLoops=0,this.type="parent"===a||e._parent===a?"parent":"children"===a?"children":"sibling",E=f[t],u=0,x=E.length;x>u;u++)o=E[u],e[o](O,this);switch(this.prop=l[t],this.getSourceValue=c[t],this.getTargetValue=p[s][this.type],"function"!=typeof this.getTargetValue&&(this.getTargetValue=n),a){case"parent":this.targetItem=e._parent,e.onParentChange(v,this),v.call(this,null);break;case"children":for(this.targetItem=e._children,e.onChildrenChange(g,this),A=e.children,h=0,S=A.length;S>h;h++)i=A[h],m.call(this,i);break;case"nextSibling":this.targetItem=e._nextSibling,e.onNextSiblingChange(y,this),y.call(this,null);break;case"previousSibling":this.targetItem=e._previousSibling,e.onPreviousSiblingChange(b,this),b.call(this,null);break;default:if(this.targetItem=a)for(I=d[s][this.type],_=0,w=I.length;w>_;_++)o=I[_],this.targetItem[o](O,this);O.call(this)}}var t;return t=[],e.factory=function(n,r,i){var o;return t.length>0&&(o=t.pop())?(e.call(o,n,r,i),o):new e(n,r,i)},e.prototype.update=function(){var e,t,n;if(this.item&&!(this.updateLoops>=r)){switch(this.target){case"parent":n=this.item._parent;break;case"children":n=this.item._children;break;case"nextSibling":n=this.item._nextSibling;break;case"previousSibling":n=this.item._previousSibling;break;default:n=this.targetItem}n&&n===this.targetItem&&(t=n?this.getSourceValue(this.item)+this.getTargetValue(n):0,(e=this.item._margin)&&(t+=u[this.source](e)),this.updateLoops++,this.item[this.prop]=t,this.updateLoops===r?this.updateLoops++:this.updateLoops<r&&this.updateLoops--)}},e.prototype.destroy=function(){var e,n,r,i,o,s,a,l,u,c,p;switch(this.target){case"parent":this.item.onParentChange.disconnect(v,this);break;case"children":for(this.item.onChildrenChange.disconnect(g,this),u=this.item.children,r=0,s=u.length;s>r;r++)e=u[r],_.call(this,e,-1);break;case"nextSibling":this.item.onNextSiblingChange.disconnect(y,this);break;case"previousSibling":this.item.onPreviousSiblingChange.disconnect(b,this)}for(c=f[this.source],i=0,a=c.length;a>i;i++)n=c[i],this.item[n].disconnect(O,this);if(this.targetItem)for(p=d[this.line][this.type],o=0,l=p.length;l>o;o++)n=p[o],this.targetItem[n].disconnect(O,this);this.item=this.targetItem=null,t.push(this)},e.prototype.toString=function(){return""+this.item.toString()+".anchors."+this.source+": "+this.target+"."+this.line},e}(),s={centerIn:["horizontalCenter","verticalCenter"],fillWidth:["fillWidthSize","left"],fillHeight:["fillHeightSize","top"],fill:["fillWidthSize","fillHeightSize","left","top"]},a={__proto__:null},h=function(e){return!!s[e]},i=function(){function e(e,n,r){var i,o,l,u,c,f;for(this.anchors=[],r=[r[0],""],this.pending=!1,o=null!=(f=a[r[0]])?f[n]:void 0,null==o&&(o=s[n]),u=0,c=o.length;c>u;u++)l=o[u],r[1]=l,i=t.factory(e,l,r),this.anchors.push(i)}var n;return n=[],e.factory=function(t,r,i){var o;return(o=n.pop())?(e.call(o,t,r,i),o):new e(t,r,i)},e.prototype.update=function(){var e,t,n,r;for(r=this.anchors,t=0,n=r.length;n>t;t++)e=r[t],e.update()},e.prototype.destroy=function(){var e,t,r,i;for(i=this.anchors,t=0,r=i.length;r>t;t++)e=i[t],e.destroy();n.push(this)},e}(),o=function(e,n,r){return h(n)?i.factory(e,n,r):t.factory(e,n,r)},exports={setItemAnchor:function(e,t){var n,r;n=null!=(r=this._impl).anchors?r.anchors:r.anchors={},(t||n[e])&&(n[e]&&(n[e].destroy(),n[e]=null),t&&(n[e]=o(this,e,t)))}}}}.call(this),module.exports}(),t["../renderer/impl/base/utils.coffee"]=function(){{var module={exports:t["../renderer/impl/base/utils.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","./utils/grid":"../renderer/impl/base/utils/grid.coffee"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){return{INTEGER_PROPERTIES:{__proto__:null,x:!0,y:!0,width:!0,height:!0},SETTER_METHODS_NAMES:{__proto__:null,x:"setItemX",y:"setItemY",width:"setItemWidth",height:"setItemHeight",opacity:"setItemOpacity",rotation:"setItemRotation",scale:"setItemScale",offsetX:"setImageOffsetX",offsetY:"setImageOffsetY",sourceWidth:"setImageSourceWidth",sourceHeight:"setImageSourceHeight"},grid:require("./utils/grid"),createDataCloner:function(n,r){return function(){var i,o,s;return s=n,null!=r&&(n=t.Types[n].DATA,s=e.clone(n),e.merge(s,r),e.merge(r,s)),o=JSON.stringify(s),i=Function("return "+o)}},radToDeg:function(){var e;return e=180/Math.PI,function(t){return t*e}}(),degToRad:function(){var e;return e=Math.PI/180,function(t){return t*e}}()}}}.call(this),module.exports}(),t["../renderer/impl/base/utils/grid.coffee"]=function(){var module={exports:t["../renderer/impl/base/utils/grid.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","typed-array":"../typed-array/index.coffee.md"}),exports=module.exports;return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I;r=100,A=require("utils"),o=require("typed-array"),g=0,y=[[],[]],_=y[g],m=!1,I=new o.Uint8(64),a=new o.Uint32(64),s=new o.Uint8(64),b=new o.Uint32(64),v=new o.Uint8(64),x=new o.Uint8(64),c=function(e,t){return e.length<t?new e.constructor(1.4*t|0):e},f=function(e,t){var n,r,i;if(r=c(e,t),r===e){for(n=i=0;t>i;n=i+=1)e[n]=0;return e}return r},e={left:0,center:.5,right:1,top:0,bottom:1},w=function(r){var o,l,u,p,d,h,m,_,g,y,S,w,E,O,A,C,T,P,N,R,k,L,j,D,q,M,B,V,F,U,H,z,G,W,J,Y,X,Q,K,Z,et,tt,nt,rt,it,ot,st,at,lt,ut,ct,ft,pt,dt,ht,mt,_t,gt,yt,vt,bt,xt;if(N=r._effectItem){for(B=r.includeBorderMargins,E=N.children,P=r._impl,j=P.gridType,h=P.autoWidth,d=P.autoHeight,A=rt=0,(U=N._layout)&&(h&&(h=!U._fillWidth),d&&(d=!U._fillHeight)),j===t?(T=r.columns,ot=r.rows,A=r.spacing.column,rt=r.spacing.row):j===n?(rt=r.spacing,T=1,ot=1/0):j===i&&(A=r.spacing,T=1/0,ot=1),(u=r._alignment)?(o=e[u._horizontal],l=e[u._vertical]):(o=0,l=0),(X=r._padding)?(at=X._top,tt=X._right,_=X._bottom,z=X._left):at=tt=_=z=0,J=1/0===T?E.length:T,a=f(a,J),s=f(s,J),Y=1/0===ot?Math.ceil(E.length/T):ot,b=f(b,Y),v=f(v,Y),I=c(I,E.length),M=V=0,F=-1,w=ct=0,ht=E.length;ht>ct;w=++ct)S=E[w],!S._visible||S._layout&&!S._layout._enabled?I[w]=0:(I[w]=1,O=M%T,nt=Math.floor(M/T)%ot,O>V&&(V=O),nt>F&&(F=nt),M++);
for(M=C=it=0,w=ft=0,mt=E.length;mt>ft;w=++ft)S=E[w],I[w]&&(ut=S._width,q=S._height,W=S._margin,U=S._layout,O=M%T,nt=Math.floor(M/T)%ot,U&&(U._fillWidth&&(ut=0,C++,s[O]=1),U._fillHeight&&(q=0,it++,v[nt]=1)),W&&((B||0!==O)&&(ut+=W._left),(B||O!==V)&&(ut+=W._right),(B||0!==nt)&&(q+=W._top),(B||nt!==F)&&(q+=W._bottom)),ut>a[O]&&(a[O]=ut),q>b[nt]&&(b[nt]=q),M++);if(D=0,h||C>0||0!==o)for(M=pt=0;V>=pt;M=pt+=1)D+=a[M];if(L=0,d||it>0||0!==l)for(M=dt=0;F>=dt;M=dt+=1)L+=b[M];if(!h&&(k=N._width-A*V-z-tt-D,k>0&&C>0)){for(x=f(x,V+1),G=V+1,Q=(D+k)/G,lt=!0;lt;)for(lt=!1,M=gt=0;V>=gt;M=gt+=1)0===x[M]&&(0===s[M]||a[M]>Q)&&(G--,Q-=(a[M]-Q)/G,x[M]=1,lt=!0);for(M=yt=0;V>=yt;M=yt+=1)0===x[M]&&(a[M]=Q);k=0}if(!d&&(R=N._height-rt*F-at-_-L,R>0&&it>0)){for(x=f(x,F+1),G=F+1,Q=(L+R)/G,lt=!0;lt;)for(lt=!1,M=vt=0;F>=vt;M=vt+=1)0===x[M]&&(0===v[M]||b[M]>Q)&&(G--,Q-=(b[M]-Q)/G,x[M]=1,lt=!0);for(M=bt=0;F>=bt;M=bt+=1)0===x[M]&&(b[M]=Q);R=0}for(K=h||0===o?0:k*o,Z=d||0===l?0:R*l,M=g=y=0,w=xt=0,_t=E.length;_t>xt;w=++xt)S=E[w],I[w]&&(W=S._margin,U=S._layout,p=S._anchors,O=M%T,nt=Math.floor(M/T)%ot,0===O?(g=0,0===nt?y=0:y+=b[nt-1]+rt):g+=a[O-1]+A,H=et=0,W&&((B||0!==O)&&(H=W._left),(B||O!==V)&&(et=W._right)),st=m=0,W&&((B||0!==nt)&&(st=W._top),(B||nt!==F)&&(m=W._bottom)),U&&(U._fillWidth&&(ut=a[O]-H-et,S.width=ut),U._fillHeight&&(q=b[nt]-st-m,S.height=q)),(null!=p?p._autoX:void 0)||(S.x=g+K+H+z+a[O]*o-(S._width+H+et)*o),(null!=p?p._autoY:void 0)||(S.y=y+Z+st+at+b[nt]*l-(S._height+st+m)*l),M++);h&&(N.width=D+A*V+z+tt),d&&(N.height=L+rt*F+at+_)}},E=function(){var e,t;for(m=!1,e=_,_=y[++g%y.length];e.length;)t=e.pop(),t._impl.pending=!1,t._impl.updatePending=!0,w(t),t._impl.updatePending=!1},S=function(){var e,t;if(e=this._impl,!e.pending&&(null!=(t=this._effectItem)?t._visible:void 0)){if(e.pending=!0,e.updatePending){if(e.gridUpdateLoops>r)return;if(++e.gridUpdateLoops===r)return}else e.gridUpdateLoops=0;_.push(this),m||(setImmediate(E),m=!0)}},O=function(){this._impl.updatePending||S.call(this)},h=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillWidth||(this._impl.autoWidth=0===this._effectItem._width&&-1!==e),O.call(this)},d=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillHeight||(this._impl.autoHeight=0===this._effectItem._height&&-1!==e),O.call(this)},u=function(e){return e.onVisibleChange(S,this),e.onWidthChange(S,this),e.onHeightChange(S,this),e.onMarginChange(S,this),e.onAnchorsChange(S,this),e.onLayoutChange(S,this)},l=function(e){return e.onVisibleChange.disconnect(S,this),e.onWidthChange.disconnect(S,this),e.onHeightChange.disconnect(S,this),e.onMarginChange.disconnect(S,this),e.onAnchorsChange.disconnect(S,this),e.onLayoutChange.disconnect(S,this)},p=function(e,t){return e&&u.call(this,e),t&&l.call(this,t),S.call(this)},n=exports.COLUMN=1,i=exports.ROW=2,t=exports.ALL=3,exports.DATA={pending:!1,updatePending:!1,gridType:0,gridUpdateLoops:0,autoWidth:!0,autoHeight:!0},exports.create=function(e,t){return e._impl.gridType=t,e.onAlignmentChange(O)},exports.update=S,exports.setEffectItem=function(e,t){var n,r,i,o,s,a,c;if(t)for(t.onVisibleChange.disconnect(S,this),t.onChildrenChange.disconnect(p,this),t.onLayoutChange.disconnect(S,this),t.onWidthChange.disconnect(h,this),t.onHeightChange.disconnect(d,this),a=t.children,r=0,o=a.length;o>r;r++)n=a[r],l.call(this,n);if(e){for((this._impl.autoWidth=0===e.width)&&(e.width=-1),(this._impl.autoHeight=0===e.height)&&(e.height=-1),e.onVisibleChange(S,this),e.onChildrenChange(p,this),e.onLayoutChange(S,this),e.onWidthChange(h,this),e.onHeightChange(d,this),c=e.children,i=0,s=c.length;s>i;i++)n=c[i],u.call(this,n);S.call(this)}}}.call(this),module.exports}(),t["../renderer/impl/base/index.coffee"]=function(){var module={exports:t["../renderer/impl/base/index.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","./level0/item":"../renderer/impl/base/level0/item.coffee","./level0/image":"../renderer/impl/base/level0/image.coffee","./level0/text":"../renderer/impl/base/level0/text.coffee","./level0/textInput":"../renderer/impl/base/level0/textInput.coffee","./level0/loader/font":"../renderer/impl/base/level0/loader/font.coffee","./level0/loader/resources":"../renderer/impl/base/level0/loader/resources.coffee","./level0/device":"../renderer/impl/base/level0/device.coffee","./level0/screen":"../renderer/impl/base/level0/screen.coffee","./level0/navigator":"../renderer/impl/base/level0/navigator.coffee","./level0/sensor/rotation":"../renderer/impl/base/level0/sensor/rotation.coffee","./level0/sound/ambient":"../renderer/impl/base/level0/sound/ambient.coffee","./level1/rectangle":"../renderer/impl/base/level1/rectangle.coffee","./level1/grid":"../renderer/impl/base/level1/grid.coffee","./level1/column":"../renderer/impl/base/level1/column.coffee","./level1/row":"../renderer/impl/base/level1/row.coffee","./level1/flow":"../renderer/impl/base/level1/flow.coffee","./level1/animation":"../renderer/impl/base/level1/animation.coffee","./level1/animation/property":"../renderer/impl/base/level1/animation/property.coffee","./level1/animation/number":"../renderer/impl/base/level1/animation/number.coffee","./level2/scrollable":"../renderer/impl/base/level2/scrollable.coffee","./level1/binding":"../renderer/impl/base/level1/binding.coffee","./level1/anchors":"../renderer/impl/base/level1/anchors.coffee","./utils":"../renderer/impl/base/utils.coffee"}),exports=module.exports;return function(){var e;e=require("utils"),exports.Types={Item:require("./level0/item"),Image:require("./level0/image"),Text:require("./level0/text"),TextInput:require("./level0/textInput"),FontLoader:require("./level0/loader/font"),ResourcesLoader:require("./level0/loader/resources"),Device:require("./level0/device"),Screen:require("./level0/screen"),Navigator:require("./level0/navigator"),RotationSensor:require("./level0/sensor/rotation"),AmbientSound:require("./level0/sound/ambient"),Rectangle:require("./level1/rectangle"),Grid:require("./level1/grid"),Column:require("./level1/column"),Row:require("./level1/row"),Flow:require("./level1/flow"),Animation:require("./level1/animation"),PropertyAnimation:require("./level1/animation/property"),NumberAnimation:require("./level1/animation/number"),Scrollable:require("./level2/scrollable")},exports.Extras={Binding:require("./level1/binding"),Anchors:require("./level1/anchors")},exports.items={},exports.utils=require("./utils")(exports),exports.window=null,exports.pixelRatio=1,exports.setWindow=function(e){}}.call(this),module.exports}(),t["../renderer/impl/base/level0/item/pointer.coffee"]=function(){{var module={exports:t["../renderer/impl/base/level0/item/pointer.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o;o=require("utils"),r=require("signal"),i=Math.sin,e=Math.cos,t=r.Emitter.emitSignal,n=function(e,t,n,r,i,o){return e>=n&&t>=r&&n+i>e&&r+o>t},module.exports=function(s){var a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E;return d=1,m=2,_=4,g=null,s.Renderer.onReady(function(){return g=this.Scrollable,this}),v=function(){var t;return t=function(r,o,s,a,l,u,c,f){var p,h,y,v,b,x,S,w,E,O,A,I,C,T,P,N,R;if(x=0,T=P=C=y=O=w=A=I=S=E=b=0,!o._visible)return x;if(h=o._impl,v=o._pointer,v&&!v._enabled)return x;if(T=u+o._x*f,P=c+o._y*f,C=o._width*f,y=o._height*f,O=o._scale,w=o._rotation,1!==O&&(A=C*O,I=y*O,T+=(C-A)/2,P+=(y-I)/2,C=A,y=I),0!==w&&(E=i(-w),b=e(-w),A=T+C/2,I=P+y/2,S=b*(s-A)-E*(a-I)+A,a=E*(s-A)+b*(a-I)+I,s=S),o._clip&&!n(s,a,T,P,C,y))return x;if(!(x&m)){for(R=o._children,N=R.length-1;N>=0;N+=-1){if(p=R[N],x|=t(r,p,s,a,l,T,P,O),x&_)return x;if(x&m)break}if(o instanceof g&&o._contentItem&&!(x&m)&&(x|=t(r,o._contentItem,s,a,l,T-o.contentX*f,P-o.contentY*f,O),x&_))return x}return(x&d||n(s,a,T,P,C,y))&&(x|=l(o)),x},function(e,n,r,i,o){return n?t(e,n,r,i,o,0,0,1):0}}(),w=[],S=[],E=[],b=[],s.Renderer.onReady(function(){var e,n,i;return e=s.Renderer.Device,n=s.Renderer.Item.Pointer.event,i=function(){return n._checkSiblings?d:d|m},e.onPointerPress(function(){var e;return e=function(e){var r;return r=e._impl.capturePointer,r&a&&E.push(e),r&p?(n._ensureRelease=n._ensureMove=n._stopPropagation=!0,t(e.pointer,"onPress",n),n._ensureRelease&&w.push(e),n._ensureMove&&S.push(e),n._stopPropagation?_:i()):m},function(t){n._checkSiblings=!1,v(p|a,s.window,t._x,t._y,e)}}()),e.onPointerRelease(function(){var e;return e=function(e){var r,s,l;return s=e._impl,r=s.capturePointer,r&h&&t(e._pointer,"onRelease",n),r&p&&(l=w.indexOf(e),l>=0&&(w[l]=null)),r&a&&o.has(E,e)&&t(e.pointer,"onClick",n),r&(h|a)?n._stopPropagation?_:i():m},function(r){var i,l;if(n._stopPropagation=!1,n._checkSiblings=!1,v(h|a,s.window,r._x,r._y,e),!n._stopPropagation)for(l=w.length-1;l>=0&&(i=w[l],!i||(t(i.pointer,"onRelease",n),!n._stopPropagation));l+=-1);o.clear(w),o.clear(S),o.clear(E)}}()),e.onPointerMove(function(){var e,r;return e=0,r=function(r){var o,s;return s=r._impl,o=s.capturePointer,o&(l|c|f)&&(s.pointerMoveFlag=e),o&(l|c)&&!s.pointerHover&&(s.pointerHover=!0,b.push(r),t(r.pointer,"onEnter",n)),o&f&&t(r._pointer,"onMove",n),o&(l|c|f)?n._stopPropagation?_:i():m},function(i){var o,a,u,p,d,h,m,_;for(n._stopPropagation=!1,n._checkSiblings=!1,e=e%2+1,v(l|c|f,s.window,i._x,i._y,r),p=0,m=S.length;m>p&&(u=S[p],!n._stopPropagation);p++)o=u._impl,o.pointerMoveFlag!==e&&t(u.pointer,"onMove",n);for(a=d=b.length-1;d>=0;a=d+=-1)u=b[a],o=u._impl,o.pointerHover&&o.pointerMoveFlag!==e&&(o.pointerHover=!1,o.pointerMoveFlag=0,b.splice(a,1),t(u.pointer,"onExit",n));for(h=0,_=S.length;_>h;h++)u=S[h],o=u._impl,o.pointerMoveFlag!==e&&(o.pointerMoveFlag=e)}}()),e.onPointerWheel(function(){var e;return e=function(e){var o;return n._stopPropagation=!0,e._impl.capturePointer&y&&(o=e._pointer)&&!r.isEmpty(o.onWheel)?(t(o,"onWheel",n),n._stopPropagation?_:i()):m},function(t){n._checkSiblings=!1,v(y,s.window,t._x,t._y,e)}}())}),x=0,{EVENTS:u={onPress:p=1<<x++,onRelease:h=1<<x++,onMove:f=1<<x++,onWheel:y=1<<x++,onClick:a=1<<x++,onEnter:l=1<<x++,onExit:c=1<<x++},DATA:{pointerHover:!1,pointerMoveFlag:0,capturePointer:0},setItemParent:function(e){},attachItemSignal:function(e){var t,n,r;r=this._ref,t=r._impl,(n=u[e])&&(t.capturePointer|=n)},setItemPointerEnabled:function(e){},setItemPointerDraggable:function(e){},setItemPointerDragActive:function(e){}}}}.call(this),module.exports}(),t["../renderer/utils/item.coffee"]=function(){{var module={exports:t["../renderer/utils/item.coffee"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=require("utils"),r=require("signal"),e=r.Emitter,t=e.emitSignal,n=Array.isArray,module.exports=function(n,o){var a,l,u,c,f,p,exports,d,h,m,_;return f=function(){},d=function(e){var t;return"("+e.constructor.__name__+")"+(null!=(t=e._component)?t.fileName:void 0)+":"+e.id},h=function(e){var t,n;for(t="",n=e;n&&!(t=n.constructor.__file__);)n=n._parent;return t||""},p=function(t){function i(){e.call(this),this.id="",this._impl=null,this._bindings=null,this._classExtensions=null,this._classList=[],this._classQueue=[],this._extensions=[],this._component=null,o.createObject(this,this.constructor.__name__)}var a,l,f,p,h,m;return s(i,t),h=function(e,t){var n,r,i;for(r in t)if(i=t[r],n=this,"document.query"===r&&(n=this.document,r="query"),"function"==typeof i)n[r](i);else{if(Array.isArray(i)&&2===i.length&&"function"==typeof i[0]&&Array.isArray(i[1]))continue;n[r]=i}for(r in t)i=t[r],n=this,"document.query"===r&&(n=this.document,r="query"),Array.isArray(i)&&2===i.length&&"function"==typeof i[0]&&Array.isArray(i[1])&&n.createBinding(r,i,e)},m=function(e,t){var r,i,o,s,a,u,c,d,h,m,_,g,y;if("string"==typeof t.id&&(this.id=t.id),Array.isArray(t.properties))for(_=t.properties,a=0,d=_.length;d>a;a++)o=_[a],f(this,o);if(Array.isArray(t.signals))for(g=t.signals,u=0,h=g.length;h>u;u++)s=g[u],p(this,s);if(Array.isArray(t.children))for(y=t.children,c=0,m=y.length;m>c;c++)r=y[c],r instanceof n.Item?r.parent=this:r instanceof n.Extension&&(r.target=this);i=l(e,t),i.target=this},a={__proto__:null,id:!0,properties:!0,signals:!0,children:!0},l=function(e,t){var r,i,o,s;i=n.Class.New(e),i.priority=-1,r=i.changes;for(o in t)s=t[o],"function"==typeof s?r.setFunction(o,s):Array.isArray(s)&&2===s.length&&"function"==typeof s[0]&&Array.isArray(s[1])?r.setBinding(o,s):a[o]||r.setAttribute(o,s);return i},i.createProperty=f=function(e,t){t in e.$||exports.defineProperty({object:e.$,name:t,namespace:"$"})},p=function(e,t){r.Emitter.createSignalOnObject(e.$,t)},i.setOpts=function(e,t,r){null!=r.id&&(e.id=r.id),e instanceof n.Class||e instanceof u?h.call(e,t,r):m.call(e,t,r)},i.initialize=function(e,t,n){return e._component=t,o.initializeObject(e,e.constructor.__name__),n?i.setOpts(e,t,n):void 0},i.prototype.createBinding=function(e,t,n,r){var i;null==r&&(r=this),(t||this._bindings&&this._bindings.hasOwnProperty(e))&&(i=null!=this._bindings?this._bindings:this._bindings={},i[e]!==t&&(i[e]=t,o.setItemBinding.call(this,e,t,n,r)))},i.prototype.clone=function(e,t){var n;return n=this.constructor.New(e),this.id&&(n.id=this.id),this._$&&(n._$=Object.create(this._$),c.call(n._$,n)),t&&m.call(n,e,t),n},i.prototype.toString=function(){return d(this)},i}(e),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.constrcutor=function(e,n){return t.__super__.constrcutor.call(this,e,n)},t}(p),c=function(e){function t(e){this._ref=e,this._impl={bindings:null},this._component=e._component,this._bindings=null,this._classExtensions=null,this._classList=[],this._classQueue=[],this._extensions=[],t.__super__.constructor.call(this)}return s(t,e),t.prototype.createBinding=p.prototype.createBinding,t.prototype.toString=function(){return d(this._ref)},t}(r.Emitter),l=function(e){function t(e){t.__super__.constructor.call(this,e)}return s(t,e),t}(c),a=function(e){function t(e){t.__super__.constructor.call(this,e)}return s(t,e),t}(c),o.DeepObject=l,exports={Object:p,FixedObject:u,DeepObject:l,MutableDeepObject:c,CustomObject:a,getPropHandlerName:m=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="on"+i.capitalize(t)+"Change")}}(),getPropInternalName:_=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="_"+t)}}(),getInnerPropName:function(){var e;return e=Object.create(null),e[""]="",function(t){return null!=e[t]?e[t]:e[t]="_"+t}}(),defineProperty:function(e){var n,o,s,a,l,u,c,p,d,h,g,y,v,b,x,S,w,E,O,A;return g=e.name,y=e.namespace,A=e.valueConstructor,p=e.implementation,d=e.implementationValue,S=e.object||e.constructor.prototype,s=e.getter,a=e.setter,E=m(g),e.hasOwnProperty("constructor")?r.Emitter.createSignal(e.constructor,E,e.signalInitializer):r.Emitter.createSignalOnObject(S,E,e.signalInitializer),h=_(g),b=n=Function("return this."+h),A&&(b=function(){return null!=this[h]?this[h]:this[h]=new A(this)}),A?l||(x=o=f):null!=y?(v="on"+i.capitalize(y)+"Change",O=y+i.capitalize(g),u=function(){var e;return e="return function(val){\n",e+="var oldVal = this."+h+";\n",e+="if (oldVal === val) return;\n",null!=p&&(e+=null!=d?"impl.call(this._ref, implValue(val));\n":"impl.call(this._ref, val);\n"),e+="this."+h+" = val;\n",e+="emitSignal(this, '"+E+"', oldVal);\n",e+="emitSignal(this._ref, '"+v+"', '"+g+"', oldVal);\n",e+="};",u=new Function("impl","implValue","emitSignal","debug",e)}(),x=o=u(p,d,t,l)):(u=function(){var e;return e="return function(val){\n",e+="var oldVal = this."+h+";\n",e+="if (oldVal === val) return;\n",null!=p&&(e+=null!=d?"impl.call(this, implValue(val));\n":"impl.call(this, val);\n"),e+="this."+h+" = val;\n",e+="emitSignal(this, '"+E+"', oldVal);\n",e+="};",u=new Function("impl","implValue","emitSignal","debug",e)}(),x=o=u(p,d,t,l)),c=null!=s?s(b):b,w=null!=a?a(x):x,S[h]=e.defaultValue,i.defineProperty(S,g,null,c,w),S}}}}.call(this),module.exports}(),t["../renderer/types/namespace/screen.coffee.md"]=function(){{var module={exports:t["../renderer/types/namespace/screen.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o){var s,a;return s=function(e){function n(){n.__super__.constructor.call(this),this._impl={bindings:null},this._touch=!1,this._width=1024,this._height=800,this._orientation="Portrait"}return r(n,e),t.defineProperty(n.prototype,"touch",null,function(){return this._touch},null),t.defineProperty(n.prototype,"width",null,function(){return this._width},null),t.defineProperty(n.prototype,"height",null,function(){return this._height},null),o.defineProperty({constructor:n,name:"orientation",developmentSetter:function(e){return!0}}),n}(e.Emitter),a=new s,i.initScreenNamespace.call(a,function(){n.window&&(n.window.width=a.width,n.window.height=a.height)}),a}}.call(this),module.exports}(),t["../renderer/types/namespace/device.coffee.md"]=function(){{var module={exports:t["../renderer/types/namespace/device.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o){var s,a,l,u;return s=function(n){function i(){i.__super__.constructor.call(this),this._platform="Unix",this._desktop=!0,this._phone=!1,this._pixelRatio=1,this._pointer=new l,this._keyboard=new a}return r(i,n),t.defineProperty(i.prototype,"platform",null,function(){return this._platform},null),t.defineProperty(i.prototype,"desktop",null,function(){return this._desktop},null),t.defineProperty(i.prototype,"tablet",null,function(){return!this.desktop&&!this.phone},null),t.defineProperty(i.prototype,"phone",null,function(){return this._phone},null),t.defineProperty(i.prototype,"mobile",null,function(){return this.tablet||this.phone},null),t.defineProperty(i.prototype,"pixelRatio",null,function(){return this._pixelRatio},null),t.defineProperty(i.prototype,"pointer",null,function(){return this._pointer},null),e.Emitter.createSignal(i,"onPointerPress"),e.Emitter.createSignal(i,"onPointerRelease"),e.Emitter.createSignal(i,"onPointerMove"),e.Emitter.createSignal(i,"onPointerWheel"),t.defineProperty(i.prototype,"keyboard",null,function(){return this._keyboard},null),e.Emitter.createSignal(i,"onKeyPress"),e.Emitter.createSignal(i,"onKeyHold"),e.Emitter.createSignal(i,"onKeyRelease"),e.Emitter.createSignal(i,"onKeyInput"),i}(e.Emitter),l=function(e){function t(){t.__super__.constructor.call(this),this._x=0,this._y=0,this._movementX=0,this._movementY=0,this._deltaX=0,this._deltaY=0}return r(t,e),o.defineProperty({constructor:t,name:"x",defaultValue:0}),o.defineProperty({constructor:t,name:"y",defaultValue:0}),o.defineProperty({constructor:t,name:"movementX",defaultValue:0}),o.defineProperty({constructor:t,name:"movementY",defaultValue:0}),o.defineProperty({constructor:t,name:"deltaX",defaultValue:0}),o.defineProperty({constructor:t,name:"deltaY",defaultValue:0}),t}(e.Emitter),a=function(e){function t(){t.__super__.constructor.call(this),this._visible=!1,this._key="",this._text=""}return r(t,e),o.defineProperty({constructor:t,name:"visible",defaultValue:!1}),o.defineProperty({constructor:t,name:"key",defaultValue:""}),o.defineProperty({constructor:t,name:"text",defaultValue:""}),t.prototype.show=function(){return i.showDeviceKeyboard.call(u)},t.prototype.hide=function(){return i.hideDeviceKeyboard.call(u)},t}(e.Emitter),u=new s,function(){var e,t,n;return t=n=0,e=function(e){e.movementX=e.x-t,e.movementY=e.y-n,t=e.x,n=e.y},u.onPointerPress(e),u.onPointerRelease(e),u.onPointerMove(e)}(),i.initDeviceNamespace.call(u),u}}.call(this),module.exports}(),t["../renderer/types/namespace/navigator.coffee.md"]=function(){{var module={exports:t["../renderer/types/namespace/navigator.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o){var s,a,l;return s=function(e){function n(){n.__super__.constructor.call(this),this._impl={bindings:null},this._language="en",this._browser=!0,this._online=!0}return r(n,e),t.defineProperty(n.prototype,"language",null,function(){return this._language},null),t.defineProperty(n.prototype,"browser",null,function(){return this._browser},null),t.defineProperty(n.prototype,"native",null,function(){return!this._browser},null),o.defineProperty({constructor:n,name:"online",developmentSetter:function(e){return!0}}),n}(e.Emitter),a=new s,null!=(l=i.initNavigatorNamespace)&&l.call(a),a}}.call(this),module.exports}(),t["../renderer/types/namespace/sensor/rotation.coffee.md"]=function(){{var module={exports:t["../renderer/types/namespace/sensor/rotation.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o){var s,a;return s=function(e){function n(){n.__super__.constructor.call(this),this._active=!1,this.x=0,this.y=0,this.z=0}return r(n,e),t.defineProperty(n.prototype,"active",null,function(){return this._active},function(e){this._active=e,e?i.enableRotationSensor.call(a):i.disableRotationSensor.call(a)}),n}(e.Emitter),a=new s}}.call(this),module.exports}(),t["../renderer/types/extension.coffee"]=function(){{var module={exports:t["../renderer/types/extension.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o){var s;return s=function(n){function i(){i.__super__.constructor.call(this),null==this._impl&&(this._impl={bindings:null}),this._target=null,this._running=!1,this._when=!1,this._whenHandler=null}var s;return r(i,n),i.__name__="Extension",s=function(){this._when||(this._when=!0,this.onWhenChange.emit(!1),this._running||this.enable())},o.defineProperty({constructor:i,name:"when",defaultValue:!1,setter:function(e){return function(t){this._whenHandler&&(this._whenHandler.disconnect(s,this),this._whenHandler=null),"function"==typeof t&&null!=t.connect?(t.connect(s,this),this._whenHandler=t):(e.call(this,!!t),t&&!this._running?this.enable():!t&&this._running&&this.disable())}}}),o.defineProperty({constructor:i,name:"target",defaultValue:null}),t.defineProperty(i.prototype,"running",t.CONFIGURABLE,function(){return this._running},null),e.Emitter.createSignal(i,"onRunningChange"),i.prototype.enable=function(){return this._running=!0,this.onRunningChange.emit(!1)},i.prototype.disable=function(){return this._running=!1,this.onRunningChange.emit(!0)},i}(o.Object)}}.call(this),module.exports}(),t["../renderer/types/extensions/class.coffee.md"]=function(){{var module={exports:t["../renderer/types/extensions/class.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md",list:"../list/index.coffee.md","document/element/element/tag/query":"../document/element/element/tag/query.coffee"});module.exports}return function(){var e,t,n,r,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=require("utils"),n=require("signal"),e=require("list"),t=require("document/element/element/tag/query"),module.exports=function(i,s,a){var l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T,P,N,R,k,L,j;return c=function(){function e(){this._links=[],this._attributes={},this._functions=[],this._bindings={}}return e.prototype.setAttribute=function(e,t){this._attributes[e]=t,t instanceof i.Component.Link&&this._links.push(t)},e.prototype.setFunction=function(e,t){var n;n=function(e,n){var r;return this._component?(r=this._component.objectsOrderSignalArr,r[r.length-2]=e,r[r.length-1]=n,t.apply(this._target,r)):t.call(this._target,e,n)},this._functions.push(e,n)},e.prototype.setBinding=function(e,t){this._attributes[e]=t,this._bindings[e]=!0},e}(),f=function(e){function t(){t.__super__.constructor.call(this),this._classUid=r.uid(),this._priority=0,this._inheritsPriority=0,this._nestingPriority=0,this._name="",this._changes=null,this._document=null,this._children=null}var n;return o(t,e),t.__name__="Class",t.New=function(e,n){var r;return r=new t,a.Object.initialize(r,e,n),r},a.defineProperty({constructor:t,name:"name",developmentSetter:function(e){return!0},setter:function(e){return function(t){var n,r,i;r=this.target,n=this.name,n!==t&&(r&&(r.classes.has(n)&&this.disable(),r._classExtensions[n]=null,r._classExtensions[t]=this),e.call(this,t),r&&(t&&null==r._classExtensions&&(r._classExtensions={}),(null!=(i=r._classes)?i.has(t):void 0)&&this.enable()))}}}),a.defineProperty({constructor:t,name:"target",developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n,i,o,s,a,l;i=this._target,n=this.name,i!==t&&(this.disable(),i&&(r.remove(i._extensions,this),this._running&&!(null!=(o=this._document)?o._query:void 0)&&N(this,this._component,i)),n&&(i&&(i._classExtensions[n]=null),t&&(null==t._classExtensions&&(t._classExtensions={}),t._classExtensions[n]=this)),e.call(this,t),t&&(t._extensions.push(this),((null!=(s=t._classes)?s.has(n):void 0)||this._when||-1!==this._priority&&this._component.ready&&!this._name&&!(null!=(a=this._bindings)?a.when:void 0)&&!(null!=(l=this._document)?l._query:void 0))&&this.enable()))}}}),r.defineProperty(t.prototype,"changes",null,function(){return this._changes||(this._changes=new c)},function(e){var t,n,r;t=this.changes;for(n in e)r=e[n],"function"==typeof r?t.setFunction(n,r):Array.isArray(r)&&2===r.length&&"function"==typeof r[0]&&Array.isArray(r[1])?t.setBinding(n,r):t.setAttribute(n,r)}),a.defineProperty({constructor:t,name:"priority",defaultValue:0,developmentSetter:function(e){return!0},setter:function(e){return function(t){e.call(this,t),L(this)}}}),t.prototype.enable=function(){var e,n,r,i,o,s;if(this._running||!this._target||(n=this._document&&this._document._query)){if(n)for(o=this._document._classesInUse,r=0,i=o.length;i>r;r++)e=o[r],e.enable()}else t.__super__.enable.call(this),j(C,this._target,this),(null!=(s=this._document)?s._query:void 0)||E(this,this._component,this._target)},t.prototype.disable=function(){var e,n,r,i,o;if(this._running&&this._target)t.__super__.disable.call(this),(null!=(o=this._document)?o._query:void 0)||N(this,this._target),j(I,this._target,this);else if(this._document&&this._document._query)for(i=this._document._classesInUse,n=0,r=i.length;r>n;n++)e=i[n],e.disable()},r.defineProperty(t.prototype,"children",null,function(){return this._children||(this._children=new n(this))},function(e){var t,n,r,i,o;for(n=this.children,r=n.length;r--;)n.pop(r);if(e)for(i=0,o=e.length;o>i;i++)t=e[i],n.append(t)}),n=function(){function e(e){this._ref=e,this.length=0}return e.prototype.append=function(e){return this._ref._component.isClone||(this._ref._component.disabledObjects[e.id]=!0),e instanceof t&&R(this._ref,e),this[this.length++]=e,e},e.prototype.pop=function(e){var t;return null==e&&(e=this.length-1),t=this[e],delete this[e],--this.length,t},e}(),t.prototype.clone=function(e){var t,n,r;return t=g.call(this,e),(n=null!=(r=this._document)?r._query:void 0)&&(t.document.query=n),t},t}(i.Extension),E=function(e,t,n){var r,o,s,a;if(o=e._children)for(s=0,a=o.length;a>s;s++)r=o[s],r instanceof i.Item?null==r.parent&&(r.parent=n):(r instanceof f&&R(e,r),null==r.target&&(r.target=n))},N=function(e,t){var n,r,o,s;if(r=e._children)for(o=0,s=r.length;s>o;o++)n=r[o],n instanceof i.Item?n.parent===t&&(n.parent=null):n.target===t&&(n.target=null)},R=function(e,t){var n;t._inheritsPriority=e._inheritsPriority+e._priority,t._nestingPriority=e._nestingPriority+1+((null!=(n=t._document)?n._priority:void 0)||0),L(t)},L=function(e){var t,n,r,i,o,s,a,l,u,c,p,d,h,m;if(e._running&&w(e)&&(i=e._target,j(y,i,e),k(i),j(v,i,e)),n=e._children)for(o=0,u=n.length;u>o;o++)t=n[o],t instanceof f&&R(e,t);if(r=e._document){for(s=e._inheritsPriority,d=e._nestingPriority,h=r._classesInUse,a=0,c=h.length;c>a;a++)t=h[a],t._inheritsPriority=s,t._nestingPriority=d,L(t);for(m=r._classesPool,l=0,p=m.length;p>l;l++)t=m[l],t._inheritsPriority=s,t._nestingPriority=d}},w=function(e){var t,n,r;return r=e._target,t=r._classList,n=t.indexOf(e),n>0&&m(e,t[n-1])<0?!0:n<t.length-1&&m(e,t[n+1])>0?!0:!1},m=function(e,t){return t._priority+t._inheritsPriority-(e._priority+e._inheritsPriority)||t._nestingPriority-e._nestingPriority},k=function(e){return e._classList.sort(m)},_=function(e,t,i){var o,s;return o=t.cloneRawObject(i),s=o._component.belongsToComponent||o._component,null==s.onObjectChange&&(s.onObjectChange=n.create()),t.isDeepClone&&(e.id&&s.setObjectById(o,e.id),s.initObjects(),r.has(t.idsOrder,o.id)&&t.setObjectById(o,o.id)),o},g=function(e){var t,n,r,i,o,s,a,l,u,c,p,d,h,m,g,y;if(o=f.New(e),o.id=this.id,o._classUid=this._classUid,o._name=this._name,o._priority=this._priority,o._inheritsPriority=this._inheritsPriority,o._nestingPriority=this._nestingPriority,o._changes=this._changes,this._bindings){g=this._bindings;for(u in g)c=g[u],o.createBinding(u,c,e)}if(i=this._children)for(s=p=0,h=i.length;h>p;s=++p)n=i[s],r=_(o,e,n),o.children.append(r);if(e.isDeepClone&&(t=this._changes))for(y=t._links,d=0,m=y.length;m>d;d++)a=y[d],l=_(o,e,a.getItem(this._component));return o},P=function(){var e;return e=Object.create(null),function(t){return null!=e[t]?e[t]:e[t]=t.split(".")}}(),x=function(e,t){var n,r;for(r=t.length-1,n=0;r>n;){if(!(e=e[t[n]]))return null;n++}return e},T=function(e,t,n){var r,i;i=P(t),(r=x(e,i))&&(r[i[i.length-1]]=n)},C=function(e,t){return e._classList.unshift(t),w(t)&&k(e),v(e,t)},I=function(e,t){return y(e,t),r.remove(e._classList,t)},u=[["x","anchors.left","anchors.right","anchors.horizontalCenter","anchors.centerIn","anchors.fill","anchors.fillWidth"],["y","anchors.top","anchors.bottom","anchors.verticalCenter","anchors.centerIn","anchors.fill","anchors.fillHeight"],["width","anchors.fill","anchors.fillWidth","layout.fillWidth"],["height","anchors.fill","anchors.fillHeight","layout.fillHeight"],["margin.horizontal","margin.left"],["margin.horizontal","margin.right"],["margin.vertical","margin.top"],["margin.vertical","margin.bottom"],["padding.horizontal","padding.left"],["padding.horizontal","padding.right"],["padding.vertical","padding.top"],["padding.vertical","padding.bottom"]],l=Object.create(null),l.margin=["margin.left","margin.right","margin.horizontal","margin.top","margin.bottom","margin.vertical"],l.padding=["padding.left","padding.right","padding.horizontal","padding.top","padding.bottom","padding.vertical"],l.alignment=["alignment.horizontal","alignment.vertical"],function(){var e,t,n,r,i,o,s,a,c,f;
for(i=0,a=u.length;a>i;i++)for(t=u[i],o=0,c=t.length;c>o;o++)for(r=t[o],n=null!=l[r]?l[r]:l[r]=[],s=0,f=t.length;f>s;s++)e=t[s],e!==r&&n.push(e)}(),b=function(e,t){var n,r,i,o,s;if(i=e.changes._attributes,t in i)return t;if(!(r=l[t]))return"";for(o=0,s=r.length;s>o;o++)if(n=r[o],n in i)return n},S=function(e,t){var n,r;return r=Object.getPrototypeOf(e),n=a.getInnerPropName(t),n in r?r[n]:r[t]},v=function(e,t){var n,r,o,s,l,u,c,f,p,d,h,m,_,g,y,v,w,E,O,A,I,C,T,N,R;if(u=e._classList,c=u.indexOf(t),f=u.length,-1!==c){for(l=t.changes,o=l._attributes,s=l._bindings,h=l._functions,m=E=0,I=h.length;I>E;m=E+=2)r=h[m],y=P(r),g=x(e,y),null!=g&&"function"==typeof g[C=y[y.length-1]]&&g[C](h[m+1],t);for(r in o){for(v=o[r],y=null,w=!0,n="",m=O=T=c-1;O>=0;m=O+=-1)if(b(u[m],r)){w=!1;break}if(w){for(m=A=N=c+1;f>A;m=A+=1)if((n=b(u[m],r))&&n!==r){if(y=P(n),g=x(e,y),_=y[y.length-1],!g)continue;d=S(g,_),p=!!u[m].changes._bindings[n],p&&g.createBinding(_,null,t._component,e),g[_]=d;break}if(r===n&&y||(y=P(r),_=y[y.length-1],g=x(e,y)),g instanceof a.CustomObject&&!(_ in g))a.Object.createProperty(g._ref,_);else if(!g)continue;s[r]?g.createBinding(_,v,t._component,e):((null!=(R=g._bindings)?R[_]:void 0)&&g.createBinding(_,null,t._component,e),g[_]=v instanceof i.Component.Link?v.getItem(t._component):v)}}}},y=function(e,t){var n,r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,w,E,O,A,I,C;if(a=e._classList,l=a.indexOf(t),u=a.length,-1!==l){for(s=t.changes,i=s._attributes,o=s._bindings,p=s._functions,d=v=0,O=p.length;O>v;d=v+=2)r=p[d],_=P(r),m=x(e,_),null!=m&&null!=(A=m[_[_.length-1]])&&A.disconnect(p[d+1],t);for(r in i){for(y=i[r],_=null,g=!0,n="",d=w=I=l-1;w>=0;d=w+=-1)if(a[d]&&b(a[d],r)){g=!1;break}if(g){for(f=void 0,c=!1,d=E=C=l+1;u>E;d=E+=1)if(n=b(a[d],r)){f=a[d].changes._attributes[n],c=!!a[d].changes._bindings[n];break}if(n||(n=r),o[r]){if(_=P(r),m=x(e,_),h=_[_.length-1],!m)continue;m.createBinding(h,null,t._component,e)}if(!(r===n&&_||(_=P(n),m=x(e,_),h=_[_.length-1],m)))continue;c?m.createBinding(h,f,t._component,e):(void 0===f&&(f=S(m,h)),m[h]=f)}}}},A=function(e){var t,n,r;n=e._classQueue,r=n[0],e=n[1],t=n[2],r(e,t),n.shift(),n.shift(),n.shift(),n.length>0&&A(e)},j=function(e,t,n){var r;r=t._classQueue,r.push(e,t,n),3===r.length&&A(t)},p=function(){function e(e){this._ref=e._ref,this._parent=e,this._multiplicity=0}return e}(),d=function(e){function n(e){this._query="",this._classesInUse=[],this._classesPool=[],this._nodeWatcher=null,this._priority=0,n.__super__.constructor.call(this,e),e.onTargetChange(h,this),h.call(this,e._target)}var i,s,l,u,c,d,h;return o(n,e),n.__name__="ClassDocument",a.defineProperty({constructor:f,name:"document",valueConstructor:n}),h=function(e){var t;e&&e.document.onNodeChange.disconnect(this.reloadQuery,this),(t=this._ref._target)&&t.document.onNodeChange(this.reloadQuery,this),e!==t&&this.reloadQuery()},a.defineProperty({constructor:n,name:"query",defaultValue:"",namespace:"document",parentConstructor:n,developmentSetter:function(e){return!0},setter:function(e){return function(n){var r,i;this._query!==n&&(this._query||N(this,this._target),e.call(this,n),this.reloadQuery(),this._ref._priority<1&&(r=t.getSelectorCommandsLength(n,0,1),i=this._priority,this._priority=r,this._ref._nestingPriority+=r-i,L(this._ref)),n||E(this,this._component,this._target))}}}),l=function(e,t){var n,r,i,o,s;for(o=e._extensions,r=0,i=o.length;i>r;r++)if(n=o[r],n instanceof f&&(null!=(s=n._document)?s._parent:void 0)===t)return n},i=function(e){var t,n,r,i,o,s,a;for(r=this._ref._classUid,s=e._extensions,i=0,o=s.length;o>i;i++)if(t=s[i],t instanceof f&&t!==this._ref&&t._classUid===r&&t._document instanceof p)return void t._document._multiplicity++;(t=this._classesPool.pop())||(n=this._ref._component.cloneComponentObject(),t=g.call(this._ref,n),t._document=new p(this)),this._classesInUse.push(t),t.target=e,(null!=(a=t._bindings)?a.when:void 0)||t.enable()},s=function(e){var t;if(t=l(e,this)){if(t._document._multiplicity>0)return void t._document._multiplicity--;t.target=null,r.remove(this._classesInUse,t),this._classesPool.push(t)}},d=function(e,t){e&&s.call(this,e),t&&i.call(this,t)},u=function(e){var t;e.onStyleChange(d,this),(t=e._style)&&i.call(this,t)},c=function(e){var t;e.onStyleChange.disconnect(d,this),(t=e._style)&&s.call(this,t)},n.prototype.reloadQuery=function(){var e,t,n,r,i,o;for(null!=(o=this._nodeWatcher)&&o.disconnect(),this._nodeWatcher=null;e=this._classesInUse.pop();)e.target=null,this._classesPool.push(e);(n=this._query)&&(r=this._ref.target)&&(t=r.document.node)&&(i=this._nodeWatcher=t.watch(n),i.onAdd(u,this),i.onRemove(c,this))},n}(a.DeepObject),O=function(t){return"string"==typeof t?t=t.split(-1!==t.indexOf(",")?",":" "):t instanceof e&&(t=t.items()),t},h=function(e){function t(){t.__super__.constructor.call(this)}return o(t,e),r.defineProperty(t.prototype,"append",null,function(e){return function(){return e}}(t.prototype.append),function(e){var t,n,r;if(e=O(e),Array.isArray(e))for(n=0,r=e.length;r>n;n++)t=e[n],(t=t.trim())&&this.append(t)}),r.defineProperty(t.prototype,"remove",null,function(e){return function(){return e}}(t.prototype.remove),function(e){var t,n,r;if(e=O(e),Array.isArray(e))for(n=0,r=e.length;r>n;n++)t=e[n],(t=t.trim())&&this.remove(t)}),t}(e),i.onReady(function(){return a.defineProperty({constructor:i.Item,name:"classes",defaultValue:null,getter:function(){var e,t,n;return e=function(e,r){var i;i=this._classes.get(r),n.call(this,e,r),t.call(this,i,r),this.onClassesChange.emit(i,e)},t=function(e,t){var n;null!=(n=this._classExtensions[e])&&n.enable(),this.onClassesChange.emit(e)},n=function(e,t){var n;this._classes.has(e)||null!=(n=this._classExtensions[e])&&n.disable(),this.onClassesChange.emit(null,e)},function(r){return function(){var i;return this._classes||(null==this._classExtensions&&(this._classExtensions={}),i=this._classes=new h,i.onChange(e,this),i.onInsert(t,this),i.onPop(n,this)),r.call(this)}}}(),setter:function(e){return function(e){var t,n,r,i;if(e=O(e),t=this.classes,t.clear(),Array.isArray(e))for(r=0,i=e.length;i>r;r++)n=e[r],(n=n.trim())&&t.append(n)}}})}),f}}.call(this),module.exports}(),t["../renderer/types/extensions/animation.coffee.md"]=function(){{var module={exports:t["../renderer/types/extensions/animation.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o){var s;return s=function(n){function s(){s.__super__.constructor.call(this),this._loop=!1,this._updatePending=!1,this._paused=!1}return r(s,n),s.__name__="Animation",e.Emitter.createSignal(s,"onStart"),e.Emitter.createSignal(s,"onStop"),o.defineProperty({constructor:s,name:"running",setter:function(e){return function(t){var n;this._when=t,n=this._running,n!==t&&(e.call(this,t),t?(i.startAnimation.call(this),this.onStart.emit(),this._paused&&i.pauseAnimation.call(this)):(this._paused&&(this.paused=!1),i.stopAnimation.call(this),this.onStop.emit()))}}}),o.defineProperty({constructor:s,name:"paused",setter:function(e){return function(t){var n;n=this._paused,n!==t&&(e.call(this,t),t?i.pauseAnimation.call(this):i.resumeAnimation.call(this))}}}),o.defineProperty({constructor:s,name:"loop",implementation:i.setAnimationLoop,developmentSetter:function(e){return!0}}),t.defineProperty(s.prototype,"updatePending",null,function(){return this._updatePending},null),s.prototype.start=function(){return this.running=!0,this},s.prototype.stop=function(){return this.running=!1,this},s.prototype.pause=function(){return this.running&&(this.paused=!0),this},s.prototype.resume=function(){return this.paused=!1,this},s.prototype.enable=function(){return this.running=!0,s.__super__.enable.call(this)},s.prototype.disable=function(){return this.running=!1,s.__super__.disable.call(this)},s}(n.Extension)}}.call(this),module.exports}(),t["../renderer/types/extensions/animation/types/property.coffee.md"]=function(){{var module={exports:t["../renderer/types/extensions/animation/types/property.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){var o;return o=function(t){function o(){o.__super__.constructor.call(this),this._target=null,this._property="",this._autoFrom=!0,this._duration=250,this._startDelay=0,this._loopDelay=0,this._updateData=!1,this._updateProperty=!1,this._easing=null}var s,a,l;return n(o,t),o.__name__="PropertyAnimation",a=e.lookupGetter(o.prototype,"running"),l=e.lookupSetter(o.prototype,"running"),e.defineProperty(o.prototype,"running",null,a,function(e){return function(t){t&&this._autoFrom&&this._target&&(this.from=this._target[this._property],this._autoFrom=!0),e.call(this,t)}}(l)),i.defineProperty({constructor:o,name:"target",defaultValue:null,implementation:r.setPropertyAnimationTarget,setter:function(t){return function(n){var r;r=this._target,r&&e.remove(r._extensions,this),n&&n._extensions.push(this),t.call(this,n)}}}),i.defineProperty({constructor:o,name:"property",defaultValue:"",implementation:r.setPropertyAnimationProperty,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:o,name:"duration",defaultValue:250,implementation:r.setPropertyAnimationDuration,developmentSetter:function(e){return!0},setter:function(e){return function(t){0>t?e.call(this,0):e.call(this,t)}}}),i.defineProperty({constructor:o,name:"startDelay",defaultValue:0,implementation:r.setPropertyAnimationStartDelay,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:o,name:"loopDelay",defaultValue:0,implementation:r.setPropertyAnimationLoopDelay,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:o,name:"delay",defaultValue:0,developmentSetter:function(e){return!0},getter:function(e){return function(e){if(this._startDelay===this._loopDelay)return this._startDelay;throw new Error("startDelay and loopDelay are different")}},setter:function(e){return function(t){this.startDelay=t,this.loopDelay=t,e.call(this,t)}}}),i.defineProperty({constructor:o,name:"updateData",defaultValue:!1,implementation:r.setPropertyAnimationUpdateData,developmentSetter:function(e){return!0},setter:function(e){return function(t){t||(this.updateProperty=!1),e.call(this,t)}}}),i.defineProperty({constructor:o,name:"updateProperty",defaultValue:!1,implementation:r.setPropertyAnimationUpdateProperty,developmentSetter:function(e){return!0},setter:function(e){return function(t){this.updateData=!0,e.call(this,t)}}}),i.defineProperty({constructor:o,name:"from",implementation:r.setPropertyAnimationFrom,setter:function(e){return function(t){this._autoFrom=!1,e.call(this,t)}}}),i.defineProperty({constructor:o,name:"to",implementation:r.setPropertyAnimationTo}),e.defineProperty(o.prototype,"progress",null,function(){return r.getPropertyAnimationProgress.call(this)},null),e.defineProperty(o.prototype,"easing",null,function(){return this._easing||(this._easing=new s(this))},function(t){return"string"==typeof t?this.easing.type=t:e.isObject(t)?e.merge(this.easing,t):t?void 0:this.easing.type="Linear"}),s=function(e){function t(e){this._type="Linear",t.__super__.constructor.call(this,e)}var s,a,l,u,c;for(n(t,e),s=["Linear","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","InOutQuart","InQuint","OutQuint","InOutQuint","InSine","OutSine","InOutSine","InExpo","OutExpo","InOutExpo","InCirc","OutCirc","InOutCirc","InElastic","OutElastic","InOutElastic","InBack","OutBack","InOutBack","InBounce","OutBounce","InOutBounce"],a=Object.create(null),u=0,c=s.length;c>u;u++)l=s[u],a[l]=l,a[l.toLowerCase()]=l;return i.defineProperty({constructor:t,name:"type",defaultValue:"Linear",namespace:"easing",parentConstructor:o,implementation:r.setPropertyAnimationEasingType,developmentSetter:function(e){return e?!0:void 0},setter:function(e){return function(t){var n;t||(t="Linear"),n=a[t],n||(n=a[t.toLowerCase()]),n||(n="Linear"),e.call(this,n)}}}),t}(i.DeepObject),o}(t.Animation)}}.call(this),module.exports}(),t["../renderer/types/extensions/animation/types/property/types/number.coffee.md"]=function(){{var module={exports:t["../renderer/types/extensions/animation/types/property/types/number.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(e,t,r){var i;return i=function(e){function t(){t.__super__.constructor.call(this),this._from=0,this._to=0}return n(t,e),t.__name__="NumberAnimation",t.New=function(e,n){var i;return i=new t,r.Object.initialize(i,e,n),i},t}(e.PropertyAnimation)}}.call(this),module.exports}(),t["../renderer/types/extensions/transition.coffee.md"]=function(){{var module={exports:t["../renderer/types/extensions/transition.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(e,n,i){var o;return o=function(e){function n(){n.__super__.constructor.call(this),this._animation=null,this._property="",this._duration=0,this._to=0,this._durationUpdatePending=!1}var o,s,a,l;return r(n,e),n.__name__="Transition",n.New=function(e,t){var r;return r=new n,i.Object.initialize(r,e,t),r},s=function(e){var n,r,i;n=this.animation,i=this._target[this.property],n&&this.running&&!n.updatePending&&t.isFloat(e)&&t.isFloat(i)&&(this._to=i,r=n.progress,n.stop(),this._durationUpdatePending=!0,n.duration=this._duration,this._durationUpdatePending=!1,n.from=e,n.to=this._to,r>0&&(this._durationUpdatePending=!0,n.duration=this._duration*r,this._durationUpdatePending=!1),null==n.target&&(n.target=this.target),n.start())},l=function(){return this._running=!0},i.defineProperty({constructor:n,name:"target",defaultValue:null,setter:function(e){return function(n){var r,o,a,u,c,f;u=this.target,u!==n&&(r=this.animation,c=this.property,r&&(r.target=n,r.stop()),e.call(this,n),u&&t.remove(u._extensions,this),this._running=!1,n instanceof i.Object?a=n:n instanceof i.MutableDeepObject?a=n._ref:setImmediate(l.bind(this)),a&&(a._extensions.push(this),this._running=!0),c&&(o=i.getPropHandlerName(c),u&&null!=(f=u[o])&&f.disconnect(s,this),n&&o in n&&n[o](s,this)))}}}),a=function(){this._durationUpdatePending||(this._duration=this._animation._duration)},o=[function(){return!1}],i.defineProperty({constructor:n,name:"animation",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n;n=this.animation,n!==t&&(e.call(this,t),n&&(n.onDurationChange.disconnect(a,this),n.target=null,n.stop()),t&&(t.onDurationChange(a,this),this._duration=t.duration,t.target=null,t.property=this.property))}}}),i.defineProperty({constructor:n,name:"property",defaultValue:"",setter:function(e){return function(n){var r,i,o,a,l,u,c,f,p,d;if(c=this.property,c!==n){if(r=this.animation,f=this.target,f&&-1!==n.indexOf(".")){for(o=n.split("."),u=o.length,l=p=0,d=o.length;d>p&&(i=o[l],!(u-1>l)||(f=f[i],f));l=++p);n=o[u-1],this.target=f}r&&(r.stop(),r.property=n),e.call(this,n),f&&(c&&(a="on"+t.capitalize(c)+"Change",f[a].disconnect(s,this)),n&&(a="on"+t.capitalize(n)+"Change",f[a](s,this)))}}}}),n}(e.Extension)}}.call(this),module.exports}(),t["../renderer/types/basics/component.coffee"]=function(){{var module={exports:t["../renderer/types/basics/component.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t;t=require("utils"),e=require("signal"),module.exports=function(n,r,i){var o;return o=function(){function r(e,n){if(e instanceof r||(n=e,e=null),null!=e)for(;e.parent;)e=e.parent;this.id=(null!=e?e.id:void 0)||t.uid(),this.item=null,this.itemId=(null!=e?e.itemId:void 0)||"",this.fileName=(null!=n?n.fileName:void 0)||(null!=e?e.fileName:void 0)||"unknown",this.objects={},this.idsOrder=(null!=e?e.idsOrder:void 0)||null,this.objectsOrder=[],this.objectsOrderSignalArr=null,this.isClone=!!e,this.isDeepClone=!1,this.ready=!1,this.mirror=!1,this.belongsToComponent=null,this.objectsInitQueue=[],this.parent=e,this.disabledObjects=(null!=e?e.disabledObjects:void 0)||Object.create(null),this.clone=t.bindFunctionContext(this.clone,this),this.createItem=t.bindFunctionContext(this.createItem,this),this.createItem.getComponent=this.clone,this.onObjectChange=null}var o,s,a,l,u;return r.getCloneFunction=function(e,t){if("function"==typeof e)return e;if(e&&"function"==typeof e._main)return e._main;throw new Error("'"+t+"' is not an item definition")},u=function(){var e,n,r,i,o,s;for(s=this.idsOrder,e=i=0,o=s.length;o>i;e=++i)n=s[e],(r=this.objectsOrder)[e]||(r[e]=this.objects[n]||null);return this.objectsOrderSignalArr=t.clone(this.objectsOrder),this.objectsOrderSignalArr.push(null,null)},r.prototype.initAsEmptyDefinition=function(){u.call(this),this.initObjects()},r.prototype.init=function(){var t,n,r;for(null==this.onObjectChange&&(this.onObjectChange=e.create()),u.call(this),this.ready=!0,r=this.objectsInitQueue,t=0,n=r.length;n>t;)r[t].apply(r[t+1],r[t+2]),t+=3;return this.objectsInitQueue=null,!0},r.prototype.initObjects=function(){var e,t,r,i,o,s,a,l,u;s=this.objects;for(t in s)if(r=s[t],this.objects.hasOwnProperty(t))for(a=r._extensions,i=0,o=a.length;o>i;i++)e=a[i],e.name||(null!=(l=e._bindings)?l.when:void 0)||e.enable();u=this.objects;for(t in u)r=u[t],this.objects.hasOwnProperty(t)&&r instanceof n.Item&&t!==this.itemId&&r.onReady.emit()},l=function(e,t,n){var r,i,o,s;s=e.parent.objects;for(r in s)o=s[r],e.objects[r]||r===e.itemId||e.disabledObjects[r]||(i=a(o,t,n,e));e.init()},a=function(e,t,i,o){var l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I;for(g=!1,_=e._component.id,(d=t[_])||(g=!0,d=t[_]=new r(e._component),(l=e._component.belongsToComponent)&&(d.belongsToComponent=t[l.id]),d.mirror=o.mirror,i.push(d)),c=e.clone(d),e._component.item===e&&(d.item=c),c.id&&(e._component.item===e?((l=e._component.belongsToComponent)&&t[l.id].setObject(c,c.id),d.setObject(c,d.itemId)):d.setObject(c,c.id)),E=e._extensions,y=0,x=E.length;x>y;y++)h=E[y],p=null!=(O=t[h._component.id])?O.objects[h.id]:void 0,null==p&&(p=a(h,t,i,o)),p.target=c;if(e instanceof n.Item){for(c.children.length&&(m=Array.prototype.slice.call(c.children),c.children.clear()),A=e.children,v=0,S=A.length;S>v;v++)u=A[v],f=null!=(I=t[u._component.id])?I.objects[u.id]:void 0,null==f&&(f=s(u,t,i,d)),f.parent=c;if(m)for(b=0,w=m.length;w>b;b++)u=m[b],u.parent=c}return c},s=function(e,t,n,r){var i,o,s;return o=e._component.id,s=!t[o],i=a(e,t,n,r),s&&(l(t[o],t,n),t[o]=null),i},r.prototype.clone=function(e,t){var n,o,a,u,c,f,p,d,h,m,_;for(e instanceof r||(t=e,e=null),o=new r(this),o.mirror=!e,o.belongsToComponent=e,a={},a[o.id]=o,e&&(a[e.id]=e),u=[o],c=s(this.item,a,u,o),f=0,h=u.length;h>f;f++)n=u[f],n.item||(n.item=c,n.objects[n.itemId]||n.setObject(c,n.itemId));for(t&&i.Object.setOpts(o.item,e,t),p=0,m=u.length;m>p;p++)n=u[p],n.ready||l(n,a,u);if(o.mirror)for(d=0,_=u.length;_>d;d++)n=u[d],n.initObjects();return c.onReady.emit(),o},r.prototype.setObject=function(e,t){var n;this.objects[t]=e,n=this.idsOrder.indexOf(t),-1!==n&&(this.objectsOrder[n]=e)},r.prototype.createItem=function(e,t){var n;return n=this.clone(e,t),n.item},r.prototype.cloneRawObject=function(e,t){var n,i,o,a,l,u,c,f,p,d,h;if(null==t&&(t=0),u=e.id,u===this.itemId)n=this.createItem();else for(i=new r(this),i.objects=Object.create(this.objects),i.item=this.item,i.objectsOrderSignalArr=new Array(this.objectsOrder.length+2),i.isDeepClone=!0,i.ready=!0,i.mirror=!0,o={},o[i.id]=i,a=[i],n=s(e,o,a,i),h=this.idsOrder,l=p=0,d=h.length;d>p;l=++p)c=h[l],i.objectsOrder[l]=(f=i.objectsOrderSignalArr)[l]||(f[l]=this.objectsOrder[l]);return n},r.prototype.cloneObject=function(e,t){var n;return n=this.cloneRawObject(e,t),n._component.initObjects(),n},r.prototype.cloneComponentObject=function(){var e;return e=new r(this),e.objects=Object.create(this.objects),e.item=this.item,e.objectsOrder=Object.create(this.objectsOrder),e.objectsOrderSignalArr=Object.create(this.objectsOrderSignalArr),e.onObjectChange=this.onObjectChange,e.isDeepClone=!0,e.ready=!0,e.mirror=!0,e},r.prototype.setObjectById=function(e,t){var n,r,i;if((r=this.objects[t])!==e)return this.objects[t]=e,n=this.idsOrder.indexOf(t),-1!==n&&(this.objectsOrder[n]=this.objectsOrderSignalArr[n]=e,null!=(i=this.onObjectChange)&&i.emit(t,r)),e},r.Link=o=function(){function e(e){this.id=e}return e.prototype.getItem=function(e){var t;return t=e.objects[this.id]},e}(),r}()}}.call(this),module.exports}(),t["../renderer/types/basics/item.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",list:"../list/index.coffee.md","./item/spacing":"../renderer/types/basics/item/spacing.coffee.md","./item/alignment":"../renderer/types/basics/item/alignment.coffee.md","./item/anchors":"../renderer/types/basics/item/anchors.coffee.md","./item/layout":"../renderer/types/basics/item/layout.coffee.md","./item/margin":"../renderer/types/basics/item/margin.coffee.md","./item/pointer":"../renderer/types/basics/item/pointer.coffee.md","./item/keys":"../renderer/types/basics/item/keys.coffee.md","./item/document":"../renderer/types/basics/item/document.coffee.md"});module.exports}return function(){var e,t,n,r,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=require("utils"),r=require("signal"),e=require("list"),n=Array.isArray,t=r.Emitter.emitSignal,module.exports=function(e,n,o){var a;return a=function(a){function l(){l.__super__.constructor.call(this),this._$=null,this._parent=null,this._children=null,this._previousSibling=null,this._nextSibling=null,this._width=0,this._height=0,this._x=0,this._y=0,this._z=0,this._visible=!0,this._clip=!1,this._scale=1,this._rotation=0,this._opacity=1,this._linkUri="",this._anchors=null,this._layout=null,this._document=null,this._keys=null,this._pointer=null,this._margin=null,this._classes=null,this._background=null,this._defaultBackground=null}var u,c,f,p,d,h,m,_,g,y;return s(l,a),l.__name__="Item",l.__path__="Renderer.Item",l.New=function(e,t){var n;return n=new l,o.Object.initialize(n,e,t),n},o.defineProperty({constructor:l,name:"$",valueConstructor:o.CustomObject}),r.Emitter.createSignal(l,"onReady"),r.Emitter.createSignal(l,"onAnimationFrame",function(){var e,n,r;return r=Date.now(),n=[],e=function(){var i,o,s,a,l;for(s=r,r=Date.now(),o=r-s,a=0,l=n.length;l>a;a++)i=n[a],t(i,"onAnimationFrame",o);return requestAnimationFrame(e)},"function"==typeof requestAnimationFrame&&requestAnimationFrame(e),function(e){return n.push(e)}}()),i.defineProperty(l.prototype,"children",null,function(){return this._children||(this._children=new u(this))},function(e){var t,n,r;for(this.clear(),n=0,r=e.length;r>n;n++)t=e[n],e.parent=this}),r.Emitter.createSignal(l,"onChildrenChange"),u=function(e){function t(e){this._layout=null,this._target=null,this.length=0,t.__super__.constructor.call(this,e)}return s(t,e),o.defineProperty({constructor:t,name:"layout",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n,r;(null!=(r=this._layout)?r.effectItem:void 0)&&(this._layout.parent=null,this._layout.effectItem=this._layout),e.call(this,t),"_effectItem"in this._ref&&(this._ref.effectItem=t?null:this._ref),null!=t&&(n=this._ref,m(t,n,0),t.effectItem&&(t.effectItem=n))}}}),o.defineProperty({constructor:t,name:"target",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0}}),t.prototype.index=function(e){return Array.prototype.indexOf.call(this,e)},t.prototype.indexOf=t.prototype.index,t.prototype.has=function(e){return-1!==this.index(e)},t.prototype.clear=function(){for(var e;e=this[0];)e.parent=null},t}(o.MutableDeepObject),y=Array.prototype,p=y.indexOf,g=y.splice,h=y.push,_=y.shift,d=y.pop,m=function(e,r,i){null==i&&(i=-1),e.parent=null,i>=0&&r.children.length<i?n.insertItemBefore.call(e,r.children[i]):n.setItemParent.call(e,r),e._parent=r,t(e,"onParentChange",null)},o.defineProperty({constructor:l,name:"parent",defaultValue:null,setter:function(e){return function(e){var r,i,o,s,a,l,u,c,f,m,y,v;if(null==e&&(e=null),a=this._parent,l=null!=a?a.children:void 0,v=null!=e?e.children:void 0,i=!0,null!=v?v._target:void 0){for(r=!1,y=v._target;y;){if(y===this){r=!0;break}y=y._parent}r||(e=v._target,v=e.children)}a!==e&&((f=this._pointer)&&(f.hover=f.pressed=!1),c=this._previousSibling,u=this._nextSibling,null!==a&&(null===u?(o=l.length-1,d.call(l)):null===c?(o=0,_.call(l)):(o=p.call(l,this),-1===o?i=!1:g.call(l,o,1))),null!==e&&(s=h.call(v,this)),null!==c&&(c._nextSibling=u),null!==u&&(u._previousSibling=c),null!==e?(m=v[v.length-2]||null,this._previousSibling=m,null!=m&&(m._nextSibling=this)):this._previousSibling=null,null!==u&&(this._nextSibling=null),n.setItemParent.call(this,e),this._parent=e,null!==a&&i&&t(a,"onChildrenChange",null,this),null!==e&&t(e,"onChildrenChange",this,null),t(this,"onParentChange",a),null!==c&&t(c,"onNextSiblingChange",this),null!==u&&t(u,"onPreviousSiblingChange",this),(null!==e||null!==c)&&(null!=m&&t(m,"onNextSiblingChange",null),t(this,"onPreviousSiblingChange",c)),null!==u&&t(this,"onNextSiblingChange",u))}}}),i.defineProperty(l.prototype,"previousSibling",null,function(){return this._previousSibling},function(e){null==e&&(e=null),e!==this._previousSibling&&(this.nextSibling=e?e._nextSibling:this._parent.children[0])}),r.Emitter.createSignal(l,"onPreviousSiblingChange"),i.defineProperty(l.prototype,"nextSibling",null,function(){return this._nextSibling},function(e){var r,i,o,s,a,l,u,c,f,p,d,h;null==e&&(e=null),e!==this._nextSibling&&(f=this._parent,l=f._children,p=this._previousSibling,c=this._nextSibling,e?(o=e._parent,r=o._children,n.insertItemBefore.call(this,e)):(o=f,r=l,n.setItemParent.call(this,null),this._parent=null,n.setItemParent.call(this,o)),this._parent=o,null!=p&&(p._nextSibling=c),null!=c&&(c._previousSibling=p),u=l.index(this),Array.prototype.splice.call(l,u,1),e?(i=r.indexOf(e),Array.prototype.splice.call(r,i,0,this)):(i=r.length,Array.prototype.push.call(r,this)),i>0?(d=r[i-1],h=d._nextSibling,d._nextSibling=this):d=h=null,r.length>i+1?(s=r[i+1],a=s._previousSibling,s._previousSibling=this):s=a=null,this._previousSibling=d,this._nextSibling=s,f!==o?(t(l,"onChildrenChange",null,this),t(r,"onChildrenChange",this,null),t(this,"onParentChange",f)):t(r,"onChildrenChange",null,null),p&&t(p,"onNextSiblingChange",this),c&&t(c,"onPreviousSiblingChange",this),t(this,"onPreviousSiblingChange",p),d&&t(d,"onNextSiblingChange",h),t(this,"onNextSiblingChange",c),s&&t(s,"onPreviousSiblingChange",a))}),r.Emitter.createSignal(l,"onNextSiblingChange"),i.defineProperty(l.prototype,"index",null,function(){var e;return null!=(e=this._parent)?e.children.index(this):void 0},function(e){var t,n;t=this._parent._children,e>=t.length?this.nextSibling=null:(n=t[e])!==this&&(this.nextSibling=n)}),o.defineProperty({constructor:l,name:"visible",defaultValue:!0,implementation:n.setItemVisible,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"clip",defaultValue:!1,implementation:n.setItemClip,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"width",defaultValue:0,implementation:n.setItemWidth,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"height",defaultValue:0,implementation:n.setItemHeight,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"x",defaultValue:0,implementation:n.setItemX,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"y",defaultValue:0,implementation:n.setItemY,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"z",defaultValue:0,implementation:n.setItemZ,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"scale",defaultValue:1,implementation:n.setItemScale,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"rotation",defaultValue:0,implementation:n.setItemRotation,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"opacity",defaultValue:1,implementation:n.setItemOpacity,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"linkUri",defaultValue:"",implementation:n.setItemLinkUri,developmentSetter:function(e){return!0}}),f=function(){var t;return t=e.Class.New(new e.Component),t.priority=-1,t.changes.setAttribute("anchors.fill",["parent"]),t}(),c=function(t){var n,r;return r=e.Rectangle.New(t._component),n=f.clone(t._component),n.target=r,n.enable(),r},o.defineProperty({constructor:l,name:"background",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0},getter:function(e){return function(){return this._background||(this._defaultBackground||(this._defaultBackground=c(this)),this.background=this._defaultBackground),e.call(this)}},setter:function(e){return function(r){var i,o;return r||(r=this._defaultBackground),o=this._background,r!==o?(o&&o._parent===this&&(o._parent=null,t(o,"onParentChange",this)),r&&(i=r._parent,(r._previousSibling||r._nextSibling)&&(r.parent=null),r._parent=this,t(r,"onParentChange",i)),n.setItemBackground.call(this,r),e.call(this,r)):void 0}}}),l.prototype.overlap=function(e){return n.doItemOverlap.call(this,e)},l.createSpacing=require("./item/spacing")(e,n,o,l),l.createAlignment=require("./item/alignment")(e,n,o,l),l.createAnchors=require("./item/anchors")(e,n,o,l),l.createLayout=require("./item/layout")(e,n,o,l),l.createMargin=require("./item/margin")(e,n,o,l),l.createPointer=require("./item/pointer")(e,n,o,l),l.createKeys=require("./item/keys")(e,n,o,l),l.createDocument=require("./item/document")(e,n,o,l),l.createAnchors(l),l.createLayout(l),l.Pointer=l.createPointer(l),l.createMargin(l),l.Keys=l.createKeys(l),l.Document=l.createDocument(l),l}(o.Object)}}.call(this),module.exports}(),t["../renderer/types/basics/item/spacing.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/spacing.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){return function(t){var o;return o=function(o){function s(e){s.__super__.constructor.call(this,e),this._column=0,this._row=0
}return n(s,o),s.__name__="Spacing",i.defineProperty({constructor:t,name:"spacing",valueConstructor:s,setter:function(t){return function(n){var r;r=this.spacing,e.isObject(n)?(null!=n.column&&(r.column=n.column),null!=n.row&&(r.row=n.row)):r.column=r.row=n,t.call(this,n)}}}),i.defineProperty({constructor:s,name:"column",defaultValue:0,namespace:"spacing",parentConstructor:t,implementation:r["set"+t.__name__+"ColumnSpacing"],developmentSetter:function(e){return!0}}),i.defineProperty({constructor:s,name:"row",defaultValue:0,namespace:"spacing",parentConstructor:t,implementation:r["set"+t.__name__+"RowSpacing"],developmentSetter:function(e){return!0}}),s.prototype.valueOf=function(){if(this.column===this.row)return this.column;throw new Error("column and row spacing are different")},s.prototype.toJSON=function(){return{column:this.column,row:this.row}},s}(i.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/alignment.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/alignment.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){return function(t){var o;return o=function(o){function s(e){s.__super__.constructor.call(this,e),this._horizontal="left",this._vertical="top"}return n(s,o),s.__name__="Alignment",i.defineProperty({constructor:t,name:"alignment",defaultValue:null,valueConstructor:s,setter:function(t){return function(n){var r;r=this.alignment,e.isObject(n)?(null!=n.horizontal&&(r.horizontal=n.horizontal),null!=n.vertical&&(r.vertical=n.vertical)):r.horizontal=r.vertical=n,t.call(this,n)}}}),i.defineProperty({constructor:s,name:"horizontal",defaultValue:"left",namespace:"alignment",parentConstructor:t,implementation:r["set"+t.__name__+"AlignmentHorizontal"],developmentSetter:function(e){return!0},setter:function(e){return function(t){return null==t&&(t="left"),e.call(this,t)}}}),i.defineProperty({constructor:s,name:"vertical",defaultValue:"top",namespace:"alignment",parentConstructor:t,implementation:r["set"+t.__name__+"AlignmentVertical"],developmentSetter:function(e){return!0},setter:function(e){return function(t){return null==t&&(t="top"),e.call(this,t)}}}),s.prototype.toJSON=function(){return{horizontal:this.horizontal,vertical:this.vertical}},s}(i.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/anchors.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/anchors.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};f=require("utils"),c=require("signal"),n=1,a=2,o=1,s=2,i=4,u=8,e=16,t=32,r={top:!0,bottom:!0,verticalCenter:!0},l={left:!0,right:!0,horizontalCenter:!0},module.exports=function(n,r,a,l){return function(n){var l;return l=function(l){function c(e){c.__super__.constructor.call(this,e),this._top=null,this._bottom=null,this._verticalCenter=null,this._left=null,this._right=null,this._horizontalCenter=null,this._centerIn=null,this._fill=null,this._fillWidth=null,this._fillHeight=null,this._autoX=!1,this._autoY=!1}var f,p,h;return d(c,l),c.__name__="Anchors",a.defineProperty({constructor:n,name:"anchors",valueConstructor:c,developmentSetter:function(e){return!0},setter:function(e){return function(t){var n;n=this.anchors,null!=t.left&&(n.left=t.left),null!=t.right&&(n.right=t.right),null!=t.horizontalCenter&&(n.horizontalCenter=t.horizontalCenter),null!=t.top&&(n.top=t.top),null!=t.bottom&&(n.bottom=t.bottom),null!=t.verticalCenter&&(n.verticalCenter=t.verticalCenter),null!=t.centerIn&&(n.centerIn=t.centerIn),null!=t.fill&&(n.fill=t.fill),null!=t.fillWidth&&(n.fillWidth=t.fillWidth),null!=t.fillHeight&&(n.fillHeight=t.fillHeight),e.call(this,t)}}}),p=r["set"+n.__name__+"Anchor"],h=Object.create(null),f=function(r,i,o){var s;return null==i&&(i=0),s=function(n){return function(r){var o;return null==r&&(r=null),"string"==typeof r&&((o=h[r])||(o=h[r]=r.split(".")),r=o),null!=r&&"this"===r[0]&&(r[0]=this),i&t&&(this._autoX=!!r),i&e&&(this._autoY=!!r),n.call(this,r)}},a.defineProperty({constructor:c,name:r,defaultValue:null,implementation:function(e){return p.call(this,r,e)},namespace:"anchors",parentConstructor:n,setter:s,getter:function(){return o}})},f("left",o|u|t,function(){var e;return this._ref?this._ref.x-((null!=(e=this._ref._margin)?e._left:void 0)||0):void 0}),f("right",o|u|t,function(){var e;return this._ref?this._ref._x+this._ref._width+((null!=(e=this._ref._margin)?e._right:void 0)||0):void 0}),f("horizontalCenter",o|u|t,function(){return this._ref?this._ref._x+this._ref._width/2:void 0}),f("top",o|i|e,function(){var e;return this._ref?this._ref._y-((null!=(e=this._ref._margin)?e._top:void 0)||0):void 0}),f("bottom",o|i|e,function(){var e;return this._ref?this._ref._y+this._ref._height+((null!=(e=this._ref._margin)?e._bottom:void 0)||0):void 0}),f("verticalCenter",o|i|e,function(){return this._ref?this._ref._y+this._ref._height/2:void 0}),f("centerIn",s|e|t,function(){return this._ref?[this.horizontalCenter,this.verticalCenter]:void 0}),f("fill",s,function(){return this._ref?[this._ref._x,this._ref._y,this._ref._width,this._ref._height]:void 0}),f("fillWidth",s,function(){return this._ref?[this._ref._x,this._ref._width]:void 0}),f("fillHeight",s,function(){return this._ref?[this._ref._y,this._ref._height]:void 0}),c}(a.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/layout.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/layout.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(e,t,n,i){return function(e,t){var i;return i=function(i){function o(e){o.__super__.constructor.call(this,e),this._enabled=!0,this._fillWidth=!1,this._fillHeight=!1}var s;return r(o,i),o.__name__="Layout",s=(null!=t?t.propertyName:void 0)||"layout",n.defineProperty({constructor:e,name:s,valueConstructor:o}),n.defineProperty({constructor:o,name:"enabled",defaultValue:!0,developmentSetter:function(e){return!0},namespace:s,parentConstructor:e}),n.defineProperty({constructor:o,name:"fillWidth",defaultValue:!1,developmentSetter:function(e){return!0},namespace:s,parentConstructor:e}),n.defineProperty({constructor:o,name:"fillHeight",defaultValue:!1,developmentSetter:function(e){return!0},namespace:s,parentConstructor:e}),o}(n.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/margin.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/margin.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o,s){return function(n,i){var s;return s=function(s){function a(e){a.__super__.constructor.call(this,e),this._left=0,this._top=0,this._right=0,this._bottom=0}var l,u;return r(a,s),a.__name__="Margin",u=(null!=i?i.propertyName:void 0)||"margin",o.defineProperty({constructor:n,name:u,valueConstructor:a,setter:function(e){return function(n){var r,i,o,s,a,l;if(null==n&&(n=0),s=this[u],"string"==typeof n){for(r=n.split(" "),o=a=0,l=r.length;l>a;o=++a)i=r[o],r[o]=parseFloat(i);switch(r.length){case 3:s.top=r[0],s.right=r[1],s.bottom=r[2],s.left=r[1];break;case 2:s.top=r[0],s.right=r[1],s.bottom=r[0],s.left=r[1];break;case 1:s.left=s.top=s.right=s.bottom=r[0];break;default:s.top=r[0],s.right=r[1],s.bottom=r[2],s.left=r[3]}}else Array.isArray(n)?(n.length>0&&(s.top=n[0]),n.length>1&&(s.right=n[1]),n.length>2&&(s.bottom=n[2]),n.length>3&&(s.left=n[3])):t.isObject(n)?(null!=n.left&&(s.left=n.left),null!=n.top&&(s.top=n.top),null!=n.right&&(s.right=n.right),null!=n.bottom&&(s.bottom=n.bottom)):s.left=s.top=s.right=s.bottom=n;e.call(this,n)}}}),l=function(e,r){var i,s;return i=function(e){return!0},s="on"+t.capitalize(r)+"Change",o.defineProperty({constructor:a,name:e,defaultValue:0,setter:function(e){return function(t){var n;return n=this[r],e.call(this,t),this[s].emit(n)}},namespace:u,parentConstructor:n,developmentSetter:i})},l("left","horizontal"),l("top","vertical"),l("right","horizontal"),l("bottom","vertical"),e.Emitter.createSignal(a,"onHorizontalChange"),t.defineProperty(a.prototype,"horizontal",null,function(){return this._left+this._right},function(e){return this.left=this.right=e/2}),e.Emitter.createSignal(a,"onVerticalChange"),t.defineProperty(a.prototype,"vertical",null,function(){return this._top+this._bottom},function(e){return this.top=this.bottom=e/2}),a.prototype.valueOf=function(){if(this.left===this.top&&this.top===this.right&&this.right===this.bottom)return this.left;throw new Error("margin values are different")},a.prototype.toJSON=function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},a}(o.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/pointer.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/pointer.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=require("signal"),e=function(){},module.exports=function(e,r,o,s){return function(s){var a;return a=function(a){function l(e){l.__super__.constructor.call(this,e),this._enabled=!0,this._draggable=!1,this._dragActive=!1,this._pressed=!1,this._hover=!1,this._pressedInitialized=!1,this._hoverInitialized=!1}var u,c,f,p,d,h,m,_;for(i(l,a),l.__name__="Pointer",o.defineProperty({constructor:s,name:"pointer",valueConstructor:l}),o.defineProperty({constructor:l,name:"enabled",defaultValue:!0,namespace:"pointer",parentConstructor:s,implementation:r.setItemPointerEnabled,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"draggable",defaultValue:!1,namespace:"pointer",parentConstructor:s,implementation:r.setItemPointerDraggable,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:l,name:"dragActive",defaultValue:!1,namespace:"pointer",parentConstructor:s,implementation:r.setItemPointerDragActive,developmentSetter:function(e){return!0}}),p=function(e,t){r.attachItemSignal.call(e,"pointer",t)},l.SIGNALS=["onClick","onPress","onRelease","onEnter","onExit","onWheel","onMove","onDragStart","onDragEnd","onDragEnter","onDragExit","onDrop"],_=l.SIGNALS,h=0,m=_.length;m>h;h++)d=_[h],t.Emitter.createSignal(l,d,p);return f=function(){var e,t;return e=function(e){return e.stopPropagation=!1,this.pressed=!0},t=function(){return this.pressed=!1},function(n){n._pressedInitialized||(n._pressedInitialized=!0,n.onPress(e),n.onRelease(t))}}(),o.defineProperty({constructor:l,name:"pressed",defaultValue:!1,namespace:"pointer",parentConstructor:s,signalInitializer:f,getter:function(e){return function(){return f(this),e.call(this)}}}),c=function(){var e,t;return e=function(){return this.hover=!0},t=function(){return this.hover=!1},function(n){n._hoverInitialized||(n._hoverInitialized=!0,n.onEnter(e),n.onExit(t))}}(),o.defineProperty({constructor:l,name:"hover",defaultValue:!1,namespace:"pointer",parentConstructor:s,signalInitializer:c,getter:function(e){return function(){return c(this),e.call(this)}}}),l.PointerEvent=u=function(){function t(){this._stopPropagation=!0,this._checkSiblings=!1,this._ensureRelease=!0,this._ensureMove=!0}return t.prototype=Object.create(e.Device.pointer),t.prototype.constructor=t,n.defineProperty(t.prototype,"stopPropagation",null,function(){return this._stopPropagation},function(e){return this._stopPropagation=e}),n.defineProperty(t.prototype,"checkSiblings",null,function(){return this._checkSiblings},function(e){return this._checkSiblings=e}),n.defineProperty(t.prototype,"ensureRelease",null,function(){return this._ensureRelease},function(e){return this._ensureRelease=e}),n.defineProperty(t.prototype,"ensureMove",null,function(){return this._ensureMove},function(e){return this._ensureMove=e}),t}(),l.event=new u,l}(o.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/keys.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/keys.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(t,n,i,o){return function(o){var s;return s=function(s){function a(e){a.__super__.constructor.call(this,e),this._focus=!1}var l,u,c,f,p,d,h,m,_;for(r(a,s),a.__name__="Keys",l=t.Device,i.defineProperty({constructor:o,name:"keys",valueConstructor:a}),a.focusWindowOnPointerPress=!0,a.SIGNALS=["onPress","onHold","onRelease","onInput"],_=a.SIGNALS,h=0,m=_.length;m>h;h++)d=_[h],e.Emitter.createSignal(a,d);return f=null,c=!1,t.onReady(function(){return t.Device.onPointerPress(function(){return c=!1})}),t.onWindowChange(function(){return this.window.pointer.onPress(function(){return a.focusWindowOnPointerPress&&!c?this.keys.focus=!0:void 0},this.window)}),i.defineProperty({constructor:a,name:"focus",defaultValue:!1,implementation:n.setItemKeysFocus,namespace:"keys",parentConstructor:o,developmentSetter:function(e){return!0},setter:function(e){return function(r){var i;this._focus!==r&&(r&&(c=!0),r&&f!==this&&(f&&(i=f,f=null,n.setItemKeysFocus.call(i._ref,!1),i._focus=!1,i.onFocusChange.emit(!0),i._ref.onKeysChange.emit(i)),f=this),e.call(this,r),r||f!==this||(f=null,f!==t.window.keys&&(t.window.keys.focus=!0)))}}}),l.onKeyPress(function(e){return null!=f?f.onPress.emit(p):void 0}),l.onKeyHold(function(e){return null!=f?f.onHold.emit(p):void 0}),l.onKeyRelease(function(e){return null!=f?f.onRelease.emit(p):void 0}),l.onKeyInput(function(e){return null!=f?f.onInput.emit(p):void 0}),a.KeysEvent=u=function(){function e(){}return e.prototype=Object.create(l.keyboard),e.prototype.constructor=e,e}(),a.event=p=new u,a}(i.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/document.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/document.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i,o,s){return function(n){var i;return i=function(i){function s(e){s.__super__.constructor.call(this,e),this._node=null,this._visible=!1,this._query="",this._updatingProperty="",this._propertiesCleanQueue=[],e.on$Change(p,this)}var a,l,u,c,f,p,d;return r(s,i),s.__name__="Document",o.defineProperty({constructor:n,name:"document",valueConstructor:s}),d=function(e,t,n,r){"function"==typeof e[t]&&e[t].connect?("function"==typeof n&&e[t](n),"function"==typeof r&&e[t].disconnect(r)):(this._updatingProperty=t,e[t]=n)},p=function(e,t){var n;this._updatingProperty!==e&&(n=this._node)&&n.hasAttr(e)&&(void 0===t?d.call(this,this._ref._$,e,n._attrs[e],t):n.setAttr(e,this._ref._$[e]))},f=function(e,t){var n;(n=this._ref._$)&&d.call(this,n,e,this._node._attrs[e],t)},c=function(){var e,t,n,r;if(t=this._ref._$){r=this._node._attrs;for(e in r)n=r[e],e in t&&(this._propertiesCleanQueue.push(e,t[e],n),d.call(this,t,e,n,null))}},u=function(){var e,n,r,i,o,s;if((r=this._propertiesCleanQueue).length){for(i=this._ref._$,n=o=0,s=r.length;s>o;n=o+=3)e=r[n],d.call(this,i,e,r[n+1],r[n+2]);t.clear(r)}},t.defineProperty(s.prototype,"query",null,function(){return this._query},function(e){""===this._query&&(this._query=e)}),o.defineProperty({constructor:s,name:"node",defaultValue:null,namespace:"document",parentConstructor:n,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){return this._node&&(this._node.onAttrsChange.disconnect(f,this),u.call(this)),e.call(this,t),t?(t.onAttrsChange(f,this),c.call(this)):void 0}}}),o.defineProperty({constructor:s,name:"visible",defaultValue:!1,namespace:"document",parentConstructor:n,developmentSetter:function(e){return!0}}),e.Emitter.createSignal(s,"onShow"),e.Emitter.createSignal(s,"onHide"),s.ShowEvent=l=function(){function e(){this.delay=0}return e}(),s.HideEvent=a=function(){function e(){this.delay=0,this.nextShowDelay=0}return e}(),s}(o.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/types/image.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/types/image.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e=require("signal"),t=require("utils"),module.exports=function(n,i,o){var s;return s=function(s){function a(){a.__super__.constructor.call(this),this._source="",this._loaded=!1,this._sourceWidth=0,this._sourceHeight=0,this._fillMode="Stretch",this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1}var l,u,c,f,p,d;return r(a,s),a.__name__="Image",a.__path__="Renderer.Image",a.New=function(e,t){var n;return n=new a,o.Object.initialize(n,e,t),n},e.create(a,"onPixelRatioChange"),p=1,t.defineProperty(a,"pixelRatio",t.CONFIGURABLE,function(){return p},function(e){var t;if(e!==p)return t=p,p=e,i.setStaticImagePixelRatio.call(this,e),this.onPixelRatioChange.emit(t)}),d=function(){this._autoHeight!==this._autoWidth&&(this._autoHeight&&c.call(this,this._width/this.sourceWidth*this.sourceHeight||0),this._autoWidth&&f.call(this,this._height/this.sourceHeight*this.sourceWidth||0))},a.prototype._width=-1,u=t.lookupGetter(a.prototype,"width"),f=t.lookupSetter(a.prototype,"width"),t.defineProperty(a.prototype,"width",null,u,function(e){return function(t){this._autoWidth=-1===t,e.call(this,t),d.call(this)}}(f)),a.prototype._height=-1,u=t.lookupGetter(a.prototype,"height"),c=t.lookupSetter(a.prototype,"height"),t.defineProperty(a.prototype,"height",null,u,function(e){return function(t){this._autoHeight=-1===t,e.call(this,t),d.call(this)}}(c)),o.defineProperty({constructor:a,name:"source",defaultValue:"",developmentSetter:function(e){return!0},setter:function(){var e,t,r;return e={resolution:1},t={source:"",width:0,height:0},r=function(e,t){return null==e&&(e=null),e||(this.sourceWidth=t.width,this.sourceHeight=t.height,this._autoWidth&&f.call(this,t.width),this._autoHeight&&c.call(this,t.height),d.call(this)),this._loaded=!0,this.onLoadedChange.emit(!1),e?this.onError.emit(e):this.onLoad.emit()},function(o){return function(s){var l;o.call(this,s),this._loaded&&(this._loaded=!1,this.onLoadedChange.emit(!0)),s?(e.resolution=n.Device.pixelRatio*a.pixelRatio,s=(null!=(l=n.resources)?l.resolve(s,e):void 0)||s,i.setImageSource.call(this,s,r)):(i.setImageSource.call(this,null,null),t.source=s,r.call(this,null,t))}}}()}),o.defineProperty({constructor:a,name:"sourceWidth",defaultValue:0,implementation:i.setImageSourceWidth,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:a,name:"sourceHeight",defaultValue:0,implementation:i.setImageSourceHeight,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:a,name:"offsetX",defaultValue:0,implementation:i.setImageOffsetX,developmentSetter:function(e){return!0}}),o.defineProperty({constructor:a,name:"offsetY",defaultValue:0,implementation:i.setImageOffsetY,developmentSetter:function(e){return!0}}),l=["Stretch","Tile"],o.defineProperty({constructor:a,name:"fillMode",defaultValue:"Stretch",implementation:i.setImageFillMode,developmentSetter:function(e){return null==e&&(e="Stretch"),!0}}),t.defineProperty(a.prototype,"loaded",null,function(){return this._loaded},null),e.Emitter.createSignal(a,"onLoadedChange"),e.Emitter.createSignal(a,"onLoad"),e.Emitter.createSignal(a,"onError"),a}(n.Item)}}.call(this),module.exports}(),t["../renderer/types/basics/item/types/text.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/types/text.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md","./text/font":"../renderer/types/basics/item/types/text/font.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(e,n,i){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._text="",this._color="black",this._linkColor="blue",this._lineHeight=1,this._contentWidth=0,this._contentHeight=0,this._font=null,this._alignment=null,this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1}var a,l,u;return r(s,o),s.__name__="Text",s.__path__="Renderer.Text",s.SUPPORTED_HTML_TAGS={b:!0,strong:!0,em:!0,br:!0,font:!0,i:!0,s:!0,u:!0,a:!0},s.New=function(t,r){var o,a;return o=new s,i.Object.initialize(o,t,r),(a=e.FontLoader.getInternalFontName("sans-serif",14,!1))&&n.setTextFontFamily.call(o,a),o},s.prototype._width=-1,a=t.lookupGetter(s.prototype,"width"),u=t.lookupSetter(s.prototype,"width"),t.defineProperty(s.prototype,"width",null,a,function(e){return function(t){var r;r=this._autoWidth,(this._autoWidth=-1===t)?e.call(this,this._contentWidth):e.call(this,t),(this._autoWidth||this._autoHeight)&&n.updateTextContentSize.call(this),r!==this._autoWidth&&n.setTextWrap.call(this,!this._autoWidth)}}(u)),s.prototype._height=-1,a=t.lookupGetter(s.prototype,"height"),l=t.lookupSetter(s.prototype,"height"),t.defineProperty(s.prototype,"height",null,a,function(e){return function(t){(this._autoHeight=-1===t)?(e.call(this,this._contentHeight),n.updateTextContentSize.call(this)):e.call(this,t)}}(l)),i.defineProperty({constructor:s,name:"text",defaultValue:"",implementation:n.setText,setter:function(e){return function(t){return e.call(this,t+"")}}}),i.defineProperty({constructor:s,name:"color",defaultValue:"black",implementation:n.setTextColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),i.defineProperty({constructor:s,name:"linkColor",defaultValue:"blue",implementation:n.setTextLinkColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),i.defineProperty({constructor:s,name:"lineHeight",defaultValue:1,implementation:n.setTextLineHeight,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:s,name:"contentWidth",defaultValue:0,developmentSetter:function(e){return!0},setter:function(e){return function(t){e.call(this,t),this._autoWidth&&u.call(this,t)}}}),i.defineProperty({constructor:s,name:"contentHeight",defaultValue:0,developmentSetter:function(e){return!0},setter:function(e){return function(t){e.call(this,t),this._autoHeight&&l.call(this,t)}}}),e.Item.createAlignment(s),s.createFont=require("./text/font")(e,n,i),s.createFont(s),s}(e.Item)}}.call(this),module.exports}(),t["../renderer/types/basics/item/types/text/font.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/types/text/font.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){return function(o){var s;return s=function(s){function a(e){a.__super__.constructor.call(this,e),this._family="sans-serif",this._pixelSize=14,this._weight=.4,this._wordSpacing=0,this._letterSpacing=0,this._italic=!1}var l,u;return n(a,s),a.__name__="Font",i.defineProperty({constructor:o,name:"font",defaultValue:null,valueConstructor:a,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(t){return function(n){var r;t.call(this,n),e.isObject(n)&&(r=this.font,null!=n.family&&(r.family=n.family),null!=n.pixelSize&&(r.pixelSize=n.pixelSize),null!=n.weight&&(r.weight=n.weight),null!=n.wordSpacing&&(r.wordSpacing=n.wordSpacing),null!=n.letterSpacing&&(r.letterSpacing=n.letterSpacing),null!=n.italic&&(r.italic=n.italic))}}}),u=r["set"+o.__name__+"FontFamily"],l=function(e){var n;return n=t.FontLoader.getInternalFontName(e._family,e._weight,e._italic),n||(n="sans-serif"),u.call(e._ref,n)},i.defineProperty({constructor:a,name:"family",defaultValue:"sans-serif",namespace:"font",parentConstructor:o,developmentSetter:function(e){return!0},setter:function(e){return function(t){return e.call(this,t),l(this)}}}),i.defineProperty({constructor:a,name:"pixelSize",defaultValue:14,namespace:"font",parentConstructor:o,implementation:r["set"+o.__name__+"FontPixelSize"],developmentSetter:function(e){return!0}}),i.defineProperty({constructor:a,name:"weight",defaultValue:.4,namespace:"font",parentConstructor:o,developmentSetter:function(e){return!0},setter:function(e){return function(t){return e.call(this,t),l(this)}}}),i.defineProperty({constructor:a,name:"wordSpacing",defaultValue:0,namespace:"font",parentConstructor:o,implementation:r["set"+o.__name__+"FontWordSpacing"],developmentSetter:function(e){return!0}}),i.defineProperty({constructor:a,name:"letterSpacing",defaultValue:0,namespace:"font",parentConstructor:o,implementation:r["set"+o.__name__+"FontLetterSpacing"],developmentSetter:function(e){return!0}}),i.defineProperty({constructor:a,name:"italic",defaultValue:!1,namespace:"font",parentConstructor:o,developmentSetter:function(e){return!0},setter:function(e){return function(t){return e.call(this,t),l(this)}}}),a.prototype.toJSON=function(){return{family:this.family,pixelSize:this.pixelSize,weight:this.weight,wordSpacing:this.wordSpacing,letterSpacing:this.letterSpacing,italic:this.italic}},a}(i.DeepObject)}}}.call(this),module.exports}(),t["../renderer/types/basics/item/types/textInput.coffee.md"]=function(){{var module={exports:t["../renderer/types/basics/item/types/textInput.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(e,t,n){var i;return i=function(i){function o(){o.__super__.constructor.call(this),this._text="",this._color="black",this._lineHeight=1,this._multiLine=!1,this._echoMode="normal",this._alignment=null,this._font=null,this._width=100,this._height=50}return r(o,i),o.__name__="TextInput",o.__path__="Renderer.TextInput",o.New=function(r,i){var s,a;return s=new o,n.Object.initialize(s,r,i),(a=e.FontLoader.getInternalFontName("sans-serif",14,!1))&&t.setTextInputFontFamily.call(s,a),s.pointer.onPress(function(){return o.keysFocusOnPointerPress?this.keys.focus=!0:void 0},s),s},o.keysFocusOnPointerPress=!0,n.defineProperty({constructor:o,name:"text",defaultValue:"",implementation:t.setTextInputText,setter:function(e){return function(t){return e.call(this,t+"")}}}),n.defineProperty({constructor:o,name:"color",defaultValue:"black",implementation:t.setTextInputColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"lineHeight",defaultValue:1,implementation:t.setTextInputLineHeight,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"multiLine",defaultValue:!1,implementation:t.setTextInputMultiLine,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"echoMode",defaultValue:"normal",implementation:t.setTextInputEchoMode,developmentSetter:function(e){return!0},setter:function(e){return function(t){return t||(t="normal"),t=t.toLowerCase(),e.call(this,t)}}}),e.Item.createAlignment(o),e.Text.createFont(o),o}(e.Item)}}.call(this),module.exports}(),t["../renderer/types/shapes/rectangle.coffee.md"]=function(){{var module={exports:t["../renderer/types/shapes/rectangle.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(e,t,r){var i,o;return o=function(i){function o(){o.__super__.constructor.call(this),this._color="transparent",this._radius=0,this._border=null}return n(o,i),o.__name__="Rectangle",o.__path__="Renderer.Rectangle",o.New=function(e,t){var n;return n=new o,r.Object.initialize(n,e,t),n},r.defineProperty({constructor:o,name:"color",defaultValue:"transparent",implementation:t.setRectangleColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),r.defineProperty({constructor:o,name:"radius",defaultValue:0,implementation:t.setRectangleRadius,developmentSetter:function(e){return!0
}}),o}(e.Item),i=function(i){function s(e){this._width=0,this._color="transparent",s.__super__.constructor.call(this,e)}return n(s,i),s.__name__="Border",r.defineProperty({constructor:o,name:"border",valueConstructor:s,developmentSetter:function(e){return!0},setter:function(e){return function(t){var n;n=this.border,null!=t.width&&(n.width=t.width),null!=t.color&&(n.color=t.color),e.call(this,t)}}}),r.defineProperty({constructor:s,name:"width",defaultValue:0,namespace:"border",parentConstructor:o,implementation:t.setRectangleBorderWidth,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:s,name:"color",defaultValue:"transparent",namespace:"border",parentConstructor:o,implementation:t.setRectangleBorderColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),s.prototype.toJSON=function(){return{width:this.width,color:this.color}},s}(r.DeepObject),o}}.call(this),module.exports}(),t["../renderer/types/layout/grid.coffee.md"]=function(){{var module={exports:t["../renderer/types/layout/grid.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._columns=2,this._rows=1/0,this._spacing=null,this._alignment=null,this._includeBorderMargins=!1,this._effectItem=null}return n(s,o),s.__name__="Grid",s.__path__="Renderer.Grid",s.New=function(e,t){var n;return n=new s,i.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,r.setGridEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),i.defineProperty({constructor:s,name:"columns",defaultValue:2,implementation:r.setGridColumns,developmentSetter:function(e){return!0},setter:function(e){return function(t){return 0>=t&&(t=1),e.call(this,t)}}}),i.defineProperty({constructor:s,name:"rows",defaultValue:1/0,implementation:r.setGridRows,developmentSetter:function(e){return!0},setter:function(e){return function(t){return 0>=t&&(t=1),e.call(this,t)}}}),t.Item.createSpacing(s),t.Item.createAlignment(s),i.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:r.setGridIncludeBorderMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),module.exports}(),t["../renderer/types/layout/column.coffee.md"]=function(){{var module={exports:t["../renderer/types/layout/column.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._spacing=0,this._alignment=null,this._includeBorderMargins=!1,this._effectItem=null}return n(s,o),s.__name__="Column",s.__path__="Renderer.Column",s.New=function(e,t){var n;return n=new s,i.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,r.setColumnEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),i.defineProperty({constructor:s,name:"spacing",defaultValue:0,implementation:r.setColumnSpacing,setter:function(t){return function(n){return e.isObject(n)&&(n=0),t.call(this,n)}}}),t.Item.createAlignment(s),i.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:r.setColumnIncludeBorderMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),module.exports}(),t["../renderer/types/layout/row.coffee.md"]=function(){{var module={exports:t["../renderer/types/layout/row.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._spacing=0,this._alignment=null,this._includeBorderMargins=!1,this._effectItem=null}return n(s,o),s.__name__="Row",s.__path__="Renderer.Row",s.New=function(e,t){var n;return n=new s,i.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,r.setRowEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),i.defineProperty({constructor:s,name:"spacing",defaultValue:0,implementation:r.setRowSpacing,setter:function(t){return function(n){return e.isObject(n)&&(n=0),t.call(this,n)}}}),t.Item.createAlignment(s),i.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:r.setRowIncludeBorderMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),module.exports}(),t["../renderer/types/layout/flow.coffee.md"]=function(){{var module={exports:t["../renderer/types/layout/flow.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=require("utils"),module.exports=function(t,r,i){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._spacing=null,this._alignment=null,this._includeBorderMargins=!1,this._collapseMargins=!1,this._effectItem=null}return n(s,o),s.__name__="Flow",s.__path__="Renderer.Flow",s.New=function(e,t){var n;return n=new s,i.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,r.setFlowEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),t.Item.createSpacing(s),t.Item.createAlignment(s),i.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:r.setFlowIncludeBorderMargins,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:s,name:"collapseMargins",defaultValue:!1,implementation:r.setFlowCollapseMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),module.exports}(),t["../renderer/types/layout/scrollable.coffee.md"]=function(){{var module={exports:t["../renderer/types/layout/scrollable.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=require("signal"),e=t.Emitter.emitSignal,module.exports=function(t,n,r){var o;return o=function(t){function o(){o.__super__.constructor.call(this),this._contentItem=null,this._contentX=0,this._contentY=0,this._snap=!1,this._snapItem=null}return i(o,t),o.__name__="Scrollable",o.__path__="Renderer.Scrollable",o.New=function(e,t){var n;return n=new o,r.Object.initialize(n,e,t),n.clip=!0,n},r.defineProperty({constructor:o,name:"contentItem",defaultValue:null,implementation:n.setScrollableContentItem,setter:function(t){return function(n){return null!=n&&(n.parent=null,n._parent=this,e(n,"onParentChange",null)),t.call(this,n)}}}),r.defineProperty({constructor:o,name:"contentX",defaultValue:0,implementation:n.setScrollableContentX,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:o,name:"contentY",defaultValue:0,implementation:n.setScrollableContentY,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:o,name:"snap",defaultValue:!1,implementation:n.setScrollableSnap,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:o,name:"snapItem",defaultValue:null,implementation:n.setScrollableSnapItem,developmentSetter:function(e){return null==e&&(e=null),null!=e?!0:void 0}}),o}(t.Item)}}.call(this),module.exports}(),t["../renderer/types/sound/ambient.coffee.md"]=function(){{var module={exports:t["../renderer/types/sound/ambient.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",list:"../list/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=require("utils"),r=require("signal"),e=require("list"),n=Array.isArray,t=r.Emitter,module.exports=function(e,t,n){var i;return i=function(e){function i(){i.__super__.constructor.call(this),this._when=!1,this._running=!1,this._source="",this._loop=!1}var o;return s(i,e),i.__name__="AmbientSound",i.__path__="Renderer.AmbientSound",i.New=function(e,t){var r;return r=new i,n.Object.initialize(r,e,t),r},r.Emitter.createSignal(i,"onStart"),r.Emitter.createSignal(i,"onStop"),o=function(){return this.running=this._when},n.defineProperty({constructor:i,name:"running",setter:function(e){return function(n){var r;return this._when=n,this._isReady?(r=this._running,void(r!==n&&(e.call(this,n),n?(t.startAmbientSound.call(this),this.onStart.emit()):(t.stopAmbientSound.call(this),this.onStop.emit())))):void this.onReady(o)}}}),n.defineProperty({constructor:i,name:"source",implementation:t.setAmbientSoundSource,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"loop",implementation:t.setAmbientSoundLoop,developmentSetter:function(e){return!0}}),i.prototype.start=function(){return this.running=!0,this},i.prototype.stop=function(){return this.running=!1,this},i}(n.Object)}}.call(this),module.exports}(),t["../resources/resource.coffee.md"]=function(){{var module={exports:t["../resources/resource.coffee.md"]},require=e.bind(null,{log:"../log/index.coffee.md",utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){var n;return n=function(){function n(){this.file="",this.color="",this.width=0,this.height=0,this.formats=null,this.resolutions=null,this.paths=null}return n.__name__="Resource",n.__path__="Resources.Resource",n.FILE_NAME=/^(.*?)(?:@([0-9p]+)x)?(?:\.([a-zA-Z0-9]+))?(?:\#([a-zA-Z0-9]+))?$/,n.fromJSON=function(e){var n,r,i;"string"==typeof e&&(e=JSON.parse(e)),r=new t[e.__name__];for(n in e)i=e[n],"__name__"!==n&&(r[n]=i);return r},n.parseFileName=function(e){var t;return e&&(t=n.FILE_NAME.exec(e))?{file:t[1],resolution:null!=t[2]?parseFloat(t[2].replace("p",".")):void 0,format:t[3],property:t[4]}:void 0},n.prototype.resolve=function(t,r){var i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b;if(null==t&&(t=""),void 0===r&&e.isPlainObject(t)&&(r=t,t=""),""===t?o=this.file:(l=n.parseFileName(t),o=l.file,p=l.resolution,l.format&&(a=[l.format]),u=l.property),null==p&&(p=(null!=r?r.resolution:void 0)||1),null==a&&(a=(null!=r?r.formats:void 0)||this.formats),u||(u=(null!=r?r.property:void 0)||"file"),"file"!==u)return this[u];for(e.isPlainObject(r)&&(r.width>r.height?r.resolution*=r.width/this.width:r.width<r.height&&(r.resolution*=r.height/this.height)),i=1/0,f=0,v=this.resolutions,m=0,g=v.length;g>m;m++)h=v[m],d=Math.abs(p-h),(i>d||d===i&&h>f)&&(i=d,f=h);for(_=0,y=a.length;y>_;_++)if(s=a[_],c=null!=(b=this.paths[s])?b[f]:void 0)return c},n.prototype.toJSON=function(){return e.merge({__name__:this.constructor.__name__},this)},n}()}}.call(this),module.exports}(),t["../resources/index.coffee.md"]=function(){{var module={exports:t["../resources/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./resource":"../resources/resource.coffee.md"});module.exports}return function(){var e,t;t=require("utils"),module.exports=e=function(){function e(){}return e.__name__="Resources",e.Resources=e,e.Resource=require("./resource")(e),e.URI=/^(?:rsc|resource|resources)?:\/?\/?(.*?)(?:@([0-9p]+)x)?(?:\.[a-zA-Z]+)?(?:\#[a-zA-Z0-9]+)?$/,e.fromJSON=function(t){var n,r,i;"string"==typeof t&&(t=JSON.parse(t)),r=new e;for(n in t)i=t[n],"__name__"!==n&&(i=e[i.__name__].fromJSON(i),r[n]=i);return r},e.testUri=function(t){return e.URI.test(t)},e.prototype.getResource=function(t){var n,r,i,o;for("string"==typeof t&&(r=e.URI.exec(t))&&(t=r[1]),n=t;n;){if(i=this[n])return o=t.slice(n.length+1),""!==o&&i instanceof e&&(i=i.getResource(o)),i;n=n.slice(0,n.lastIndexOf("/"))}},e.prototype.resolve=function(t,n){var r,i,o,s,a;if(s=this.getResource(t),s instanceof e.Resource){if(i=e.Resource.parseFileName(t),i.file="",null!=n)for(r in n)a=n[r],i[r]||(i[r]=a);o=s.resolve("",i)}return o&&this.resolve(o)||o},e.prototype.toJSON=function(){return t.merge({__name__:this.constructor.__name__},this)},e}()}.call(this),module.exports}(),t["../renderer/types/loader/resources.coffee.md"]=function(){{var module={exports:t["../renderer/types/loader/resources.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md",resources:"../resources/index.coffee.md"});module.exports}return function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=require("utils"),t=require("signal"),e=require("resources"),module.exports=function(t,r,o){var s;return s=function(s){function a(){a.__super__.constructor.call(this),this._resources=t.resources,this._progress=0,setImmediate(function(e){return function(){return e._resources?(e.progress=0,r.loadResources.call(e,l(e._resources))):void 0}}(this))}var l;return i(a,s),a.__name__="ResourcesLoader",a.__path__="Renderer.ResourcesLoader",l=function(t,n){var r,i;null==n&&(n=[]);for(r in t)i=t[r],t.hasOwnProperty(r)&&(i instanceof e.Resource?n.push(i):l(i,n));return n},a.New=function(e,t){var n;return n=new a,o.Object.initialize(n,e,t),n},n.defineProperty(a.prototype,"resources",null,function(){return this._resources},function(e){return"string"==typeof e&&(e=t.resources.getResource(e)),this._resources=e}),o.defineProperty({constructor:a,name:"progress",developmentSetter:function(e){return!0}}),a}(o.FixedObject)}}.call(this),module.exports}(),t["../renderer/types/loader/font.coffee.md"]=function(){{var module={exports:t["../renderer/types/loader/font.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(e,n,i){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._name="",this._source=""}var a,l,u,c;return r(s,o),s.__name__="FontLoader",s.__path__="Renderer.FontLoader",l=Object.create(null),a=[/hairline/i,/thin/i,/ultra.*light/i,/extra.*light/i,/light/i,/book/i,/normal|regular|roman|plain/i,/medium/i,/demi.*bold|semi.*bold/i,/bold/i,/extra.*bold|extra/i,/heavy/i,/black/i,/extra.*black/i,/ultra.*black|ultra/i],u=function(){var t,r;return t=function(e){var t,n,r,i;for(t=r=0,i=a.length;i>r;t=++r)if(n=a[t],n.test(e))return t/(a.length-1);return.4},r=function(e){return/italic|oblique/i.test(e)},function(i){var o,s,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E;if(h=(null!=(S=e.resources)?S.resolve(i.source):void 0)||i.source,d=null!=(w=e.resources)?w.getResource(h):void 0){m=[],E=d.paths;for(y in E)p=E[y],m.push(p[1])}else m=[h];for(_=.4,s=!1,o=v=0,b=m.length;b>v;o=++v)h=m[o],_!==(_=t(h))&&o>0,s!==(s=r(h))&&o>0;g=Math.round(_*a.length),u=s?"italic":"normal",c="neft-"+i.name+"-"+g+"-"+u,f=null!=l[x=i.name]?l[x]:l[x]={},f=null!=f[s]?f[s]:f[s]=new Array(a.length),f[g]=c,n.loadFont(c,h,m)}}(),c=function(e){return e.name&&e.source?setImmediate(function(){return u(e)}):void 0},s.getInternalFontName=function(e,t,n){var r,i,o,s,u,c,f,p,d,h,m,_;if(c="",(u=l[e])&&(!u[n],(u=u[n]||u[!n])&&(f=Math.round(t*a.length),!(c=u[f])))){for(i=-1,s=p=h=f-1;p>=0;s=p+=-1)if(u[s]){i=s;break}for(o=-1,s=d=m=f+1,_=a.length;_>d;s=d+=1)if(u[s]){o=s;break}i>=0&&o>=0?r=f-i>o-f?o:i:i>=0?r=i:o>=0&&(r=o),c=u[r]}return c},s.New=function(e,t){var n;return n=new s,i.Object.initialize(n,e,t),n},t.defineProperty(s.prototype,"name",null,function(){return this._name},function(e){return this._name=e,c(this)}),t.defineProperty(s.prototype,"source",null,function(){return this._source},function(e){this._source=e,c(this)}),s}(i.FixedObject)}}.call(this),module.exports}(),t["../renderer/index.coffee.md"]=function(){var module={exports:t["../renderer/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md","./impl":"../renderer/impl.coffee","./utils/item":"../renderer/utils/item.coffee","./types/namespace/screen":"../renderer/types/namespace/screen.coffee.md","./types/namespace/device":"../renderer/types/namespace/device.coffee.md","./types/namespace/navigator":"../renderer/types/namespace/navigator.coffee.md","./types/namespace/sensor/rotation":"../renderer/types/namespace/sensor/rotation.coffee.md","./types/extension":"../renderer/types/extension.coffee","./types/extensions/class":"../renderer/types/extensions/class.coffee.md","./types/extensions/animation":"../renderer/types/extensions/animation.coffee.md","./types/extensions/animation/types/property":"../renderer/types/extensions/animation/types/property.coffee.md","./types/extensions/animation/types/property/types/number":"../renderer/types/extensions/animation/types/property/types/number.coffee.md","./types/extensions/transition":"../renderer/types/extensions/transition.coffee.md","./types/basics/component":"../renderer/types/basics/component.coffee","./types/basics/item":"../renderer/types/basics/item.coffee.md","./types/basics/item/types/image":"../renderer/types/basics/item/types/image.coffee.md","./types/basics/item/types/text":"../renderer/types/basics/item/types/text.coffee.md","./types/basics/item/types/textInput":"../renderer/types/basics/item/types/textInput.coffee.md","./types/shapes/rectangle":"../renderer/types/shapes/rectangle.coffee.md","./types/layout/grid":"../renderer/types/layout/grid.coffee.md","./types/layout/column":"../renderer/types/layout/column.coffee.md","./types/layout/row":"../renderer/types/layout/row.coffee.md","./types/layout/flow":"../renderer/types/layout/flow.coffee.md","./types/layout/scrollable":"../renderer/types/layout/scrollable.coffee.md","./types/sound/ambient":"../renderer/types/sound/ambient.coffee.md","./types/loader/resources":"../renderer/types/loader/resources.coffee.md","./types/loader/font":"../renderer/types/loader/font.coffee.md"}),exports=module.exports;return function(){var e,t,n,r;r=require("utils"),n=require("signal"),n.create(exports,"onReady"),n.create(exports,"onWindowChange"),e=require("./impl")(exports),t=exports.itemUtils=require("./utils/item")(exports,e),exports.Screen=require("./types/namespace/screen")(exports,e,t),exports.Device=require("./types/namespace/device")(exports,e,t),exports.Navigator=require("./types/namespace/navigator")(exports,e,t),exports.RotationSensor=require("./types/namespace/sensor/rotation")(exports,e,t),exports.Extension=require("./types/extension")(exports,e,t),exports.Class=require("./types/extensions/class")(exports,e,t),exports.Animation=require("./types/extensions/animation")(exports,e,t),exports.PropertyAnimation=require("./types/extensions/animation/types/property")(exports,e,t),exports.NumberAnimation=require("./types/extensions/animation/types/property/types/number")(exports,e,t),exports.Transition=require("./types/extensions/transition")(exports,e,t),exports.Component=require("./types/basics/component")(exports,e,t),exports.Item=require("./types/basics/item")(exports,e,t),exports.Image=require("./types/basics/item/types/image")(exports,e,t),exports.Text=require("./types/basics/item/types/text")(exports,e,t),exports.TextInput=require("./types/basics/item/types/textInput")(exports,e,t),exports.Rectangle=require("./types/shapes/rectangle")(exports,e,t),exports.Grid=require("./types/layout/grid")(exports,e,t),exports.Column=require("./types/layout/column")(exports,e,t),exports.Row=require("./types/layout/row")(exports,e,t),exports.Flow=require("./types/layout/flow")(exports,e,t),exports.Scrollable=require("./types/layout/scrollable")(exports,e,t),exports.AmbientSound=require("./types/sound/ambient")(exports,e,t),exports.ResourcesLoader=require("./types/loader/resources")(exports,e,t),exports.FontLoader=require("./types/loader/font")(exports,e,t),r.defineProperty(exports,"window",r.CONFIGURABLE,null,function(t){return r.defineProperty(exports,"window",r.ENUMERABLE,t),exports.onWindowChange.emit(null),e.setWindow(t)}),r.defineProperty(exports,"serverUrl",r.WRITABLE,""),r.defineProperty(exports,"resources",r.WRITABLE,null),exports.onReady.emit()}.call(this),module.exports}(),t["../document/func.coffee.md"]=function(){{var module={exports:t["../document/func.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",renderer:"../renderer/index.coffee.md"});module.exports}return function(){var e,t;t=require("utils"),e=require("renderer"),module.exports=function(t){var n,r,i,exports,o,s,a,l;return i=t.Input,n={require:require,get:function(e){return i.getVal(this,e)}},r={arguments:function(e,t){return t},view:function(){return this},item:function(t){return t&&t._ref&&(t=t._ref),t instanceof e.Item?t:void 0}},o=Object.keys(n),Array.prototype.push.apply(o,Object.keys(r)),s=o.length,l={},a=Object.create(null),exports={bindFuncIntoGlobal:function(e,t){var i,u,c,f,p,d,h,m;for((c=a[e.uid])||(i=o.concat(e.arguments),c=a[e.uid]=new Function(i,e.body)),i=new Array(s+e.arguments.length),u=e.arguments.length,p=h=0,m=o.length;m>h;p=++h)d=o[p],i[p]=(f=n[d])?f.bind(t):null;return function(){var e,n,a,f;for(p=n=0,f=o.length;f>n;p=++n)d=o[p],(e=r[d])&&(i[p]=e.call(t,this,arguments));for(p=a=0;u>a;p=a+=1)i[s+p]=arguments[p];return c.apply(l,i)}}}}}.call(this),module.exports}(),t["../document/attrsToSet.coffee"]=function(){{var module={exports:t["../document/attrsToSet.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t;return t=function(){function t(e,t,n){var r;this.file=e,this.node=t,this.attrs=n;for(r in this.attrs)null!=t._attrs[r]&&clone.setAttribute(r,null);t.onAttrsChange(this.setAttribute,clone)}var n,r,i,o,s;return t.__name__="AttrsToSet",t.__path__="File.AttrsToSet",i=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,s=1,o=s++,r=s++,n=t.JSON_ARGS_LENGTH=s,t._fromJSON=function(e,n,i){var s;return i||(s=e.node.getChildByAccessPath(n[o]),i=new t(e,s,n[r])),i},t.prototype.setAttribute=function(e,t){var n;this.attrs[e]&&(n=this.node._attrs[e],"function"==typeof this.node[e]&&this.node[e].connect?("function"==typeof t&&this.node[e].disconnect(t),"function"==typeof n&&this.node[e](n)):this.node[e]=n)},t.prototype.clone=function(e,n){var r;return r=e.node.getCopiedElement(this.node,n.node),new t(n,r,this.attrs)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=i),t[o]=this.node.getAccessPath(this.file.node),t[r]=this.attrs,t},t}()}}.call(this),module.exports}(),t["../document/file/clear.coffee"]=function(){{var module={exports:t["../document/file/clear.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o,s;s=require("utils"),r=/^(\r?\n|\r)+\s+$/m,n=/^(\r?\n|\r)+\s+/gm,e=["a","em","strong","small","mark","abbr","dfn","i","b","s","u","code","var","samp","kbd","sup","sub","q","cite","span","bdo","bdi","br","wbr","ins","del","img","embed","object","iframe","map","area","script","noscript","ruby","video","audio","input","textarea","select","button","label","output","datalist","keygen","progress","command","canvas","time","meter","neft:function"],t=s.arrayToObject(e,function(e,t){return t},function(){return!0},Object.create(null)),i=function(e){if("text"in e){if(r.test(e.text))return!0;t[e.parent.name]||(e.text=e.text.replace(n,""))}return!1},o=function(e){var t,n,r,s,a,l,u,c,f;if(a=e.children){for(s=a.length,r=0,n=l=0;s>=l&&(t=a[r],t);n=l+=1)i(t)&&(t.parent=void 0,r--),r++;for(f=e.children,n=u=0,c=f.length;c>u;n=++u)t=f[n],"script"!==t.name&&o(t);return null}},module.exports=function(e){return o}}.call(this),module.exports}(),t["../document/file/parse/rules.coffee.md"]=function(){{var module={exports:t["../document/file/parse/rules.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","./fragments/links":"../document/file/parse/fragments/links.coffee.md"});module.exports}return function(){var e,t,n,r,i;i=require("utils"),e={attrs:function(e,t){var n,r,i;i=e._attrs;for(n in i)r=i[n],t.hasAttr(n)||t.setAttr(n,r)}},t=function(t,n){e[t.name]&&e[t.name](t,n)},n=function(e){var t;for(t=0;e=e.parent;)t++;return t},r=function(e){for(;e=e.parent;)if("neft:blank"!==e.name&&"neft:rule"!==e.name)return!1;return!0},module.exports=function(e){var i,o;return o=require("./fragments/links")(e),i=Object.create(null),function(s){var a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T,P,N,R,k,L,j,D,q,M,B;for(S=[],i[s.path]=S,_=s.node.queryAll("neft:rule"),_.sort(function(e,t){return n(t)-n(e)}),E=0,C=_.length;C>E;E++)if(x=_[E],b=x.getAttr("query"))for(l=x.children,f=0,g=l.length;g>f;)a=l[f],"neft:rule"===a.name?(w=a.getAttr("query"),w=/^[A-Za-z]/.test(w)?b+" "+w:b+w,a.setAttr("query",w),a.parent=x.parent,g--):f++;for(O=0,T=_.length;T>O;O++)m=_[O],S.push({node:m,parent:m.parent}),m.parent=null;for(h=o(s),A=0,P=h.length;P>A;A++)for(p=h[A],d=e.factory(p.path),M=i[d.path],I=0,N=M.length;N>I;I++)c=M[I],r(c)&&S.push({node:c.node,parent:s.node});for(j=0,R=S.length;R>j;j++)if(x=S[j],b=x.node.getAttr("query"))for(v=x.parent.queryAll(b),D=0,k=v.length;k>D;D++)for(y=v[D],B=x.node.children,q=0,L=B.length;L>q;q++)u=B[q],t(u,y)}}}.call(this),module.exports}(),t["../document/file/parse/fragments/links.coffee.md"]=function(){{var module={exports:t["../document/file/parse/fragments/links.coffee.md"]},require=e.bind(null,{});module.exports}return function(){var e;e=require("path"),module.exports=function(t){return function(n){var r,i,o,s,a,l,u,c,f,p;for(s=[],r=n.node.children,o=-1,a=r.length;++o<a;)u=r[o],u.name===""+t.HTML_NS+":require"&&(i=u.getAttr("href"),i&&(l=u.getAttr("as"),c=i,"/"!==c[0]&&(f=n.path.substring(0,n.path.lastIndexOf("/")+1),c=e.join("/",f,c)),c=(null!=(p=/^(?:\/|\\)(.+)\.html$/.exec(c))?p[1]:void 0)||c,s.push({path:c,namespace:l})));return s}}}.call(this),module.exports}(),t["../document/file/parse/fragments.coffee.md"]=function(){{var module={exports:t["../document/file/parse/fragments.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","./fragments/links":"../document/file/parse/fragments/links.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){var t;return t=require("./fragments/links")(e),function(n){var r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S;for(u=n.fragments,i=[],p=t(n),_=0,v=p.length;v>_;_++){c=p[_],h=c.namespace?""+c.namespace+":":"",f=e.factory(c.path),S=f.fragments;for(d in S)s=S[d],u[h+d]=s}for(o=function(t){var r,a,l,c,f,p;if(a=t.children){for(l=-1,c=a.length,p=[];++l<c;)r=a[l],"neft:fragment"===r.name?(d=r.getAttr("neft:name"))&&(r.name="neft:blank",r.parent=null,l--,c--,f=""+n.path+":"+d,s=new e(f,r),u[d]=f,p.push(i.push(s))):o(r);return p}},o(n.node),g=0,b=i.length;b>g;g++){r=i[g];for(l in u)a=u[l],null==(m=r.fragments)[l]&&(m[l]=a)}for(y=0,x=i.length;x>y;y++)r=i[y],e.parse(r)}}}.call(this),module.exports}(),t["../document/file/parse/attrs.coffee.md"]=function(){{var module={exports:t["../document/file/parse/attrs.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",dict:"../dict/index.coffee.md",list:"../list/index.coffee.md"});module.exports}return function(){var e,t,n,r,i;i=require("utils"),e=require("dict"),t=require("list"),n=new Function("val","try { return eval('('+val+')'); } catch(err){}"),r=function(e){var t,i,o,s,a;if(e._attrs){s=e._attrs;for(i in s)o=s[i],t=n(o),void 0!==t&&e.setAttr(i,t)}return null!=(a=e.children)?a.forEach(r):void 0},module.exports=function(e){return function(e){return r(e.node)}}}.call(this),module.exports}(),t["../document/file/parse/attrChanges.coffee.md"]=function(){{var module={exports:t["../document/file/parse/attrChanges.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t=e.AttrChange,function(e){var n,r,i,o,s,a,l;for(n=e.attrChanges,o=e.node.queryAll("neft:attr"),a=0,l=o.length;l>a;a++)i=o[a],s=i.parent,r=i.getAttr("name"),s.hasAttr(r)||s.setAttr(r,""),n.push(new t(e,i,s,r))}}}.call(this),module.exports}(),t["../document/file/parse/iterators.coffee.md"]=function(){{var module={exports:t["../document/file/parse/iterators.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){return function(n){var r,i,o,s,a,l;for(s=n.iterators,r=[],i=function(o){var a,l,u,c,f,p,d,h,m;if(a=o.getAttr("neft:each")){for(p=""+n.path+":each["+e.uid()+"]",l=new t.Element.Tag;u=o.children[0];)u.parent=l;c=new t(p,l),e.merge(c.fragments,n.fragments),r.push(c),f=new t.Iterator(n,o,p),s.push(f)}else for(m=o.children,d=0,h=m.length;h>d;d++)u=m[d],u instanceof t.Element.Tag&&i(u)},i(n.node),a=0,l=r.length;l>a;a++)o=r[a],t.parse(o)}}}.call(this),module.exports}(),t["../document/file/parse/target.coffee.md"]=function(){{var module={exports:t["../document/file/parse/target.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return function(e){var t;return e.targetNode=e.node.query("neft:target"),null!=(t=e.targetNode)?t.name="neft:blank":void 0}}}.call(this),module.exports}(),t["../document/file/parse/uses.coffee.md"]=function(){{var module={exports:t["../document/file/parse/uses.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md"});
module.exports}return function(){var e;e=require("utils"),module.exports=function(t){return function(n){var r,i;return i=[],r=function(e){return e instanceof t.Element.Tag?(e.children.forEach(r),"neft:use"===e.name?(e.name="neft:blank",i.push(new t.Use(n,e))):void 0):void 0},r(n.node),e.isEmpty(i)?void 0:n.uses=i}}}.call(this),module.exports}(),t["../document/file/parse/storage.coffee.md"]=function(){{var module={exports:t["../document/file/parse/storage.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t,n;return t=e.Input,n=t.RE,function(e){var r,i,o;return o=e.node,i=e.inputs,(r=function(o){var s,a,l,u,c,f,p,d;if(c=o.text,void 0!==c&&(n.lastIndex=0,c&&n.test(c)&&(a=t.parse(c))&&(c="",l=new t.Text(e,o,c,a),o.text="",i.push(l))),o._attrs){p=o._attrs;for(u in p)f=p[u],t.test(f)&&(a=t.parse(f))&&(s=t.createFunction(a),c="",l=new t.Attr(e,o,c,a,u),o.setAttr(u,null),i.push(l))}return null!=(d=o.children)?d.forEach(r):void 0})(o)}}}.call(this),module.exports}(),t["../document/file/parse/conditions.coffee.md"]=function(){{var module={exports:t["../document/file/parse/conditions.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t;return t=e.Condition,function(t){var n,r;return n=t.conditions,(r=function(i){var o,s,a,l,u,c;for(u=i.children,a=0,l=u.length;l>a;a++)o=u[a],o instanceof e.Element.Tag&&(r(o),o.hasAttr("neft:if")&&(s=null,(null!=(c=o.nextSibling)&&"function"==typeof c.hasAttr?c.hasAttr("neft:else"):void 0)&&(s=o.nextSibling),n.push(new e.Condition(t,o,s))))})(t.node)}}}.call(this),module.exports}(),t["../document/file/parse/ids.coffee.md"]=function(){{var module={exports:t["../document/file/parse/ids.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(e){return function(e){var t,n;return n=e.ids,(t=function(e){var r,i,o,s,a;for(a=e.children,o=0,s=a.length;s>o;o++)r=a[o],r.children&&(t(r),(i=r.getAttr("id"))&&(n.hasOwnProperty(i)||(n[i]=r)))})(e.node)}}}.call(this),module.exports}(),t["../document/file/parse/logs.coffee.md"]=function(){{var module={exports:t["../document/file/parse/logs.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return function(t){var n,r,i,o,s;for(n=t.logs,s=t.node.queryAll("neft:log"),i=0,o=s.length;o>i;i++)r=s[i],n.push(new e.Log(t,r))}}}.call(this),module.exports}(),t["../document/file/parse/funcs.coffee.md"]=function(){{var module={exports:t["../document/file/parse/funcs.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","./fragments/links":"../document/file/parse/fragments/links.coffee.md"});module.exports}return function(){var e,t,n,r;e=require("coffee-script"),r=require("utils"),n=require("./fragments/links"),t=null,module.exports=function(e){return null==t&&(t=n(e)),function(n){var i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O;for(i=e.Style,f=n.funcs,v=n.node.queryAll("neft:function"),b=0,w=v.length;w>b;b++){if(y=v[b],g=y.getAttr("name")||y.getAttr("neft:name"),!g)throw new Error("Function name is requried");if(l=y.stringifyChildren(),a=y.getAttr("arguments"))for(s=a.split(","),p=x=0,E=s.length;E>x;p=++x)o=s[p],s[p]=o.trim();else s=[];f[g]={uid:r.uid(),body:l,arguments:s},y.parent=null}for(_=t(n),S=0,O=_.length;O>S;S++){d=_[S],h=e.factory(d.path),m=Object.getPrototypeOf(h);for(c in h.funcs)(u=m.funcs[c])&&null==f[c]&&(f[c]=u)}}}}.call(this),module.exports}(),t["../document/file/parse/attrSetting.coffee.md"]=function(){{var module={exports:t["../document/file/parse/attrSetting.coffee.md"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){var t,n;return t=e.AttrsToSet,n=e.Element.Tag,function(e){var r,i;r=e.attrsToSet,(i=function(o){var s,a,l,u,c,f;for(f=o.children,u=0,c=f.length;c>u;u++)if(s=f[u],s instanceof n){i(s),a=null;for(l in s._attrs)"name"!==l&&"children"!==l&&"attrs"!==l&&"style"!==l&&l in s&&(null==a&&(a={}),a[l]=!0);a&&r.push(new t(e,s,a))}})(e.node)}}}.call(this),module.exports}(),t["../document/file/render/parse/target.coffee"]=function(){{var module={exports:t["../document/file/render/parse/target.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return function(e,t){var n,r;e.targetNode&&t&&(r=e.targetNode,n=t.bodyNode,null!=n&&(n.parent=r))}}}.call(this),module.exports}(),t["../document/file/render/revert/target.coffee"]=function(){{var module={exports:t["../document/file/render/revert/target.coffee"]};e.bind(null,{}),module.exports}return function(){module.exports=function(e){return function(e,t){var n,r;e.targetNode&&t&&(r=e.targetNode,n=t.bodyNode,null!=n&&(n.parent=null))}}}.call(this),module.exports}(),t["../document/file.coffee.md"]=function(){{var module={exports:t["../document/file.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md",dict:"../dict/index.coffee.md",list:"../list/index.coffee.md","./element/index":"../document/element/index.coffee","./attrChange":"../document/attrChange.coffee","./use":"../document/use.coffee","./input":"../document/input.coffee","./condition":"../document/condition.coffee","./iterator":"../document/iterator.coffee","./log":"../document/log.coffee","./func":"../document/func.coffee.md","./attrsToSet":"../document/attrsToSet.coffee","./file/clear":"../document/file/clear.coffee","./file/parse/rules":"../document/file/parse/rules.coffee.md","./file/parse/fragments":"../document/file/parse/fragments.coffee.md","./file/parse/attrs":"../document/file/parse/attrs.coffee.md","./file/parse/attrChanges":"../document/file/parse/attrChanges.coffee.md","./file/parse/iterators":"../document/file/parse/iterators.coffee.md","./file/parse/target":"../document/file/parse/target.coffee.md","./file/parse/uses":"../document/file/parse/uses.coffee.md","./file/parse/storage":"../document/file/parse/storage.coffee.md","./file/parse/conditions":"../document/file/parse/conditions.coffee.md","./file/parse/ids":"../document/file/parse/ids.coffee.md","./file/parse/logs":"../document/file/parse/logs.coffee.md","./file/parse/funcs":"../document/file/parse/funcs.coffee.md","./file/parse/attrSetting":"../document/file/parse/attrSetting.coffee.md","./file/render/parse/target":"../document/file/render/parse/target.coffee","./file/render/revert/target":"../document/file/render/revert/target.coffee"});module.exports}return function(){var e,t,n,r,i,o,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=require("utils"),i=require("signal"),e=require("dict"),r=require("list"),t=i.Emitter,module.exports=n=function(e){function n(e,t){this.path=e,this.node=t,n.__super__.constructor.call(this),this.isClone=!1,this.uid=o.uid(),this.isRendered=!1,this.readyToUse=!0,this.targetNode=null,this.parent=null,this.storage=null,this.source=null,this.parentUse=null,this.fragments={},this.attrChanges=[],this.inputs=[],this.conditions=[],this.iterators=[],this.uses=[],this.ids={},this.funcs={},this.attrsToSet=[],this.logs=[],this.styles=[]}var r,s,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O;return a(n,e),S=n._files={},O=Object.create(null),w=function(e){var t,n,r,i;if(t=O[e],null!=t?t.length:void 0)for(r=i=t.length;n=t[--r];)if(n.readyToUse)return t[r]=t[i-1],t.pop(),n},n.__name__="File",n.__path__="File",n.JSON_CTORS=[],c=n.JSON_CTOR_ID=n.JSON_CTORS.push(n)-1,E=1,y=E++,g=E++,b=E++,f=E++,l=E++,h=E++,u=E++,m=E++,x=E++,d=E++,p=E++,s=E++,_=E++,v=E++,r=n.JSON_ARGS_LENGTH=E,n.HTML_NS="neft",i.create(n,"onCreate"),i.create(n,"onError"),i.create(n,"onBeforeParse"),i.create(n,"onParse"),i.create(n,"onBeforeRender"),i.create(n,"onRender"),i.create(n,"onBeforeRevert"),i.create(n,"onRevert"),n.Element=require("./element/index"),n.AttrChange=require("./attrChange")(n),n.Use=require("./use")(n),n.Input=require("./input")(n),n.Condition=require("./condition")(n),n.Iterator=require("./iterator")(n),n.Log=require("./log")(n),n.Func=require("./func")(n),n.AttrsToSet=require("./attrsToSet")(n),n.fromHTML=function(){var e;return o.isNode?(e=require("./file/clear")(n),function(t,r){var i;return""===r&&(r="<html></html>"),i=n.Element.fromHTML(r),e(i),n.fromElement(t,i)}):function(e,t){throw new Error("Document.fromHTML is available only on the server")}}(),n.fromElement=function(e,t){var r;return r=new n(e,t)},n.fromJSON=function(e){var t;return"string"==typeof e&&(e=o.tryFunction(JSON.parse,null,[e],e)),t=n.JSON_CTORS[e[0]]._fromJSON(e),S[t.path]=t,t},n._fromJSON=function(){var e,t;return t=function(e,t,r){var i,o;for(i in t)o=t[i],r[i]=n.JSON_CTORS[o[0]]._fromJSON(e,o)},e=function(e,t,r){var i,o,s;for(o=0,s=t.length;s>o;o++)i=t[o],r.push(n.JSON_CTORS[i[0]]._fromJSON(e,i))},function(r,i){var a,c,S,w;i||(c=n.Element.fromJSON(r[g]),i=new n(r[y],c)),r[b]&&(i.targetNode=c.getChildByAccessPath(r[b])),o.merge(i.fragments,r[f]),e(i,r[l],i.attrChanges),e(i,r[h],i.inputs),e(i,r[u],i.conditions),e(i,r[m],i.iterators),e(i,r[x],i.uses),w=r[d];for(a in w)S=w[a],i.ids[a]=i.node.getChildByAccessPath(S);return t(i,r[p],i.funcs),e(i,r[s],i.attrsToSet),e(i,r[_],i.logs),e(i,r[v],i.styles),i}}(),n.parse=function(){var e,t,r,i,s,a,l,u,c,f,p,d,h;return o.isNode?(f=require("./file/parse/rules")(n),s=require("./file/parse/fragments")(n),r=require("./file/parse/attrs")(n),e=require("./file/parse/attrChanges")(n),u=require("./file/parse/iterators")(n),d=require("./file/parse/target")(n),h=require("./file/parse/uses")(n),p=require("./file/parse/storage")(n),i=require("./file/parse/conditions")(n),l=require("./file/parse/ids")(n),c=require("./file/parse/logs")(n),a=require("./file/parse/funcs")(n),t=require("./file/parse/attrSetting")(n),function(o){return S[o.path]=o,n.onBeforeParse.emit(o),f(o),s(o),r(o),u(o),e(o),d(o),h(o),p(o),i(o),l(o),a(o),t(o),n.onParse.emit(o)}):function(e){throw new Error("Document.parse() is available only on the server")}}(),n.factory=function(e){var t,r;return S.hasOwnProperty(e)||n.onError.emit(e),(r=w(e))?r:(t=S[e].clone(),n.onCreate.emit(t),t)},n.prototype.render=function(e,t){return this.isClone?this._render(e,t):this.clone().render(e,t)},n.prototype._render=function(){var e;return e=require("./file/render/parse/target")(n),function(t,r){var i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v;if(t instanceof n.Use&&(r=t,t=null),null!=t&&(this.storage=t),this.source=r,n.onBeforeRender.emit(this),this.inputs)for(_=this.inputs,E=l=0,p=_.length;p>l;E=++l)o=_[E],o.render();if(this.uses)for(g=this.uses,u=0,d=g.length;d>u;u++)a=g[u],a.render();if(this.iterators)for(y=this.iterators,E=c=0,h=y.length;h>c;E=++c)s=y[E],s.render();if(this.conditions)for(v=this.conditions,E=f=0,m=v.length;m>f;E=++f)i=v[E],i.render();return e(this,r),this.isRendered=!0,n.onRender.emit(this),this}}(),n.prototype.revert=function(){var e;return e=require("./file/render/revert/target")(n),function(){var t,r,i,o,s,a,l,u,c,f,p,d,h;if(this.isRendered=!1,n.onBeforeRevert.emit(this),null!=(f=this.parentUse)&&f.detachUsedFragment(),this.inputs)for(p=this.inputs,E=o=0,l=p.length;l>o;E=++o)t=p[E],t.revert();if(this.uses)for(d=this.uses,s=0,u=d.length;u>s;s++)i=d[s],i.revert();if(this.iterators)for(h=this.iterators,E=a=0,c=h.length;c>a;E=++a)r=h[E],r.revert();return e(this,this.source),this.storage=null,this.source=null,n.onRevert.emit(this),this}}(),n.prototype.use=function(e,t){var n,r,i,o,s;if(this.uses)for(s=this.uses,i=0,o=s.length;o>i;i++)if(r=s[i],r.name===e){n=r;break}return n&&n.render(t),this},t.createSignal(n,"onReplaceByUse"),n.prototype.clone=function(){var e;return(e=w(this.path))?e:this._clone()},n.prototype._clone=function(){var e,t,r,i,o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T,P,N,R,k,L,j;for(r=new n(this.path,this.node.cloneDeep()),r.isClone=!0,r.fragments=this.fragments,this.targetNode&&(f=this.node.getCopiedElement(this.targetNode,r.node)),I=this.attrChanges,d=0,g=I.length;g>d;d++)e=I[d],r.attrChanges.push(e.clone(this,r));for(C=this.inputs,h=0,y=C.length;y>h;h++)a=C[h],r.inputs.push(a.clone(this,r));for(T=this.conditions,m=0,v=T.length;v>m;m++)i=T[m],r.conditions.push(i.clone(this,r));for(P=this.iterators,_=0,b=P.length;b>_;_++)l=P[_],r.iterators.push(l.clone(this,r));for(N=this.uses,E=0,x=N.length;x>E;E++)p=N[E],r.uses.push(p.clone(this,r));R=this.ids;for(s in R)c=R[s],r.ids[s]=this.node.getCopiedElement(c,r.node);k=this.funcs;for(u in k)o=k[u],r.funcs[u]=n.Func.bindFuncIntoGlobal(o,r);for(L=this.attrsToSet,O=0,S=L.length;S>O;O++)t=L[O],r.attrsToSet.push(t.clone(this,r));for(j=this.logs,A=0,w=j.length;w>A;A++)r.logs.push(!0);return r},n.prototype.destroy=function(){var e,t;this.isRendered&&this.revert(),e=null!=O[t=this.path]?O[t]:O[t]=[],e.push(this)},n.prototype.toJSON=function(e,t){var n,i,o,a;t||(t=new Array(r),t[0]=c),t[y]=this.path,t[g]=this.node.toJSON(),this.targetNode&&(t[b]=this.targetNode.getAccessPath(this.node)),t[f]=this.fragments,t[l]=this.attrChanges,t[h]=this.inputs,t[u]=this.conditions,t[m]=this.iterators,t[x]=this.uses,i=t[d]={},a=this.ids;for(n in a)o=a[n],i[n]=o.getAccessPath(this.node);return t[p]=this.funcs,t[s]=this.attrsToSet,t[_]=[],t[v]=this.styles,t},n}(t)}.call(this),module.exports}(),t["../document/index.coffee.md"]=function(){{var module={exports:t["../document/index.coffee.md"]},require=e.bind(null,{"./file":"../document/file.coffee.md"});module.exports}return function(){module.exports=require("./file")}.call(this),module.exports}(),t["node_modules/expect/index.coffee.md"]=function(){{var module={exports:t["node_modules/expect/index.coffee.md"]};e.bind(null,{}),module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p;o=Array.isArray,p=null,u=n=c=i=a=!1,t=function(e){return function(t){return p=t,e(),f}},l=function(e){return i=i?" not":"",!0},e=function(e,t){var r,o;return o=function(t){return u&&null==t?!0:e(t)},r=function(e){return i&&(e=!e),e?void 0:l(t)},function(){var e,t,i,s,l;if(l=p,(n||c)&&(e=p&&"object"==typeof p),c||n){i=n;for(t in p)if(s=p[t],o(a?t:s)===c){i=c;break}}else i=o(p);return r(i),f.toBe}},r=module.exports=t(function(){return u=n=c=i=a=!1}),f={},f.defined=t(function(){return u=!0}),f.every=t(function(){return n=!0}),f.some=t(function(){return c=!0}),f.keys=t(function(){var e;if(e=null!==p&&"object"==typeof p&&!o(p),!c)throw"Use `expect().keys()` with some()";if(!e)throw"Use `expect().some().keys()` with objects";return a=!0}),f.not=function(){return i=!0,f},f.toBe=function(){var t,n;return t=null,n=e(function(e){return e===t},function(){return"Expected `"+p+"`"+i+" to be `"+t+"`"}),function(e){return t=e,n()}}(),f.toBe.object=e(function(e){return"object"==typeof e&&null!==e},function(){return"Expected `"+p+"`"+i+" to be an object"}),f.toBe.simpleObject=e(function(e){var t,n;return n="object"==typeof e,n&&(n=null!==e),n&&(t=Object.getPrototypeOf(e))&&(n&&(n=t===Object.prototype),n&&(n=!Object.getPrototypeOf(t))),n},function(){return"Expected `"+p+"`"+i+" to be a simple object"}),f.toBe.string=e(function(e){return"string"==typeof e},function(){return"Expected `"+p+"`"+i+" to be a string"}),f.toBe.boolean=e(function(e){return"boolean"==typeof e},function(){return"Expected `"+p+"`"+i+" to be a boolean"}),f.toBe.function=e(function(e){return"function"==typeof e},function(){return"Expected `"+p+"`"+i+" to be a function"}),f.toBe.float=e(function(e){return"number"==typeof e&&isFinite(e)},function(){return"Expected `"+p+"`"+i+" to be a float"}),s=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&9007199254740992>e&&Math.floor(e)===e},f.toBe.integer=e(s,function(){return"Expected `"+p+"`"+i+" to be an integer"}),f.toBe.array=e(function(e){return o(e)},function(){return"Expected `"+p+"`"+i+" to be an array"}),f.toBe.truthy=e(function(e){return!!e},function(){return"Expected `"+p+"`"+i+" to be truthy"}),f.toBe.falsy=e(function(e){return!e},function(){return"Expected `"+p+"`"+i+" to be falsy"}),f.toBe.primitive=e(function(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"undefined"==typeof e},function(){return"Expected `"+p+"`"+i+" not to be a primitive value"}),f.toBe.any=function(){var t,n;return t=null,n=e(function(e){return e instanceof t},function(){return"Expected `"+p+"`"+i+" to be any "+t.name}),function(e){return t=e,n()}}(),f.toBe.greaterThan=function(){var t,n;return n=0,t=e(function(e){return e>n},function(){return"Expected `"+p+"`"+i+" to be greater than "+n}),function(e){return n=e,t()}}(),f.toBe.lessThan=function(){var t,n;return n=0,t=e(function(e){return n>e},function(){return"Expected `"+p+"`"+i+" to be less than "+n}),function(e){return n=e,t()}}(),f.toMatchRe=function(){var t,n;return t=null,n=e(function(e){return t.test(e)},function(){return"Expected `"+p+"`"+i+" to test `"+t+"`"}),function(e){return t=e,n()}}()}.call(this),module.exports}(),t["../networking/impl/node/response.coffee"]=function(){{var module={exports:t["../networking/impl/node/response.coffee"]},require=e.bind(null,{log:"../log/index.coffee.md",utils:"../utils/index.coffee.md",document:"../document/index.coffee.md",expect:"node_modules/expect/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p;p=require("zlib"),f=require("utils"),a=require("path"),e=require("document"),o=require("expect"),t=require("form-data"),r={Host:function(e){var t;return t=/^(?:[a-z]+):\/\/(.+?)(?:\/)?$/.exec(e.networking.url),t?t[1]:e.networking.url},"Cache-Control":"no-cache","Content-Language":function(e){return e.networking.language},"X-Frame-Options":"deny"},i={OPTIONS:{"Access-Control-Allow-Origin":function(e){return e.networking.url},Allow:"GET, POST, PUT, DELETE"}},n={"Content-Encoding":"gzip"},c=function(e,t,n){var r,i;for(r in t)i=t[r],null==e.getHeader(r)&&("function"==typeof i&&(i=i(n)),e.setHeader(r,i))},s={text:function(e){return e+""},json:function(e){e instanceof Error&&(e=f.errorToObject(e));try{return JSON.stringify(e)}catch(t){return e}},html:function(t){return t instanceof e?t.node.stringify():t},binary:function(e){var n,r,i;n=new t;for(r in e)i=e[r],n.append(r,i);return n}},l=function(e,t,n){var r,i;switch(e){case"text":r="text/plain; charset=utf-8";break;case"json":r="application/json; charset=utf-8";break;case"html":r="text/html; charset=utf-8"}return i=s[e](n),null!=r&&null==t.getHeader("Content-Type")&&t.setHeader("Content-Type",""+r+"; charset=utf-8"),i},u=function(){var e;return e={text:function(){var e;return e=function(e,t){var n;return n="string"==typeof t?Buffer.byteLength(t):t&&t.length,isFinite(n)&&e.setHeader("Content-Length",n),e.end(t+"")},function(t,r,i,o){var s,a;return s=null!=t?t.headers["Accept-Encoding"]:void 0,a=s&&f.has(s,"gzip"),a?p.gzip(i,function(t,s){return t?e(r,i):(c(r,n),e(r,s)),o()}):(e(r,i),o())}}(),binary:function(e,t,n,r){return c(t,n.getHeaders()),n.getLength(function(e,i){return e?r(e):(t.setHeader("Content-Length",i),n.pipe(t))})}},function(t,n,r,i,o){var s;return(s=e[t]||e.text)(n,r,i,o)}}(),module.exports=function(e,t){var exports;return exports={_prepareData:l,_sendData:u,setHeader:function(e,n,r){var i;return null!=n&&null!=r?(i=t[e.request.uid],i.serverRes.setHeader(n,r)):void 0},send:function(e,n,o){var s,a,p,d,h,m;return(p=t[e.request.uid])?(delete t[e.request.uid],d=p.serverReq,h=p.serverRes,c(h,r,p),(a=i[d.method])&&c(h,a,p),h.statusCode=e.status,(s=f.tryFunction(JSON.stringify,null,[e.cookies],null))&&h.setHeader("X-Cookies",s),m=e.request.type,n=l(m,h,n),u(m,d,h,n,function(e){return o(e)})):void 0},redirect:function(e,t,n,r){return exports.send(e,null,r)}}}}.call(this),module.exports}(),t["../networking/uri.coffee.md"]=function(){{var module={exports:t["../networking/uri.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",dict:"../dict/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o;o=require("utils"),e=require("dict"),r=Array.isArray,n="&",t="=",i=function(e){var i,o,s,a,l,u,c,f,p;for(l={},i=e.split(n),f=0,p=i.length;p>f;f++)a=i[f],o=a.indexOf(t),-1!==o?(s=a.slice(0,o),c=a.slice(o+1)):(s=a,c=""),u=l[s],void 0===u?l[s]=c:r(u)?u.push(c):l[s]=[u,c];return l},module.exports=function(t){var n;return n=function(){function t(e){var n,r,s,a,l,u,c,f,p;if(e=e.trim(),o.defineProperty(this,"_uri",null,e),e=t.URI_TRIM_RE.exec(e)[1],t.NAMES_RE.test(e)||-1!==e.indexOf("*")){for(t.NAMES_RE.lastIndex=0,this.params={},l=[];null!=(r=t.NAMES_RE.exec(e));)l.push(r[1]),this.params[r[1]]=null;f=e,f=f.replace(/(\?)/g,"\\$1"),f=f.replace(/{?([a-zA-Z0-9_$]+)?\*}?/g,"(.*?)"),f=f.replace(t.NAMES_RE,"([^/]+)"),f=new RegExp("^/?"+f+"/?$")}else this.params=null,l=null,f=e,f=f.replace(/(\?)/g,"\\$1"),f=new RegExp("^/?"+f+"/?$");if(o.defineProperty(this,"_names",null,l),o.defineProperty(this,"_re",null,f),s=e.lastIndexOf("#"),-1!==s?(this.hash=e.slice(s+1),e=e.slice(0,s)):this.hash="",p=e.indexOf("?"),-1!==p?(c=e.slice(p+1),e=e.slice(0,p),this.query=i(c)):this.query={},u=e.indexOf(":"),-1!==u&&-1===e.slice(0,u).indexOf("/"))for(this.protocol=e.slice(0,u),e=e.slice(u+1);"/"===e[0];)e=e.slice(1);else this.protocol="";n=e.indexOf("@"),-1!==n&&-1===e.slice(0,n).indexOf("/")?(this.auth=e.slice(0,n),e=e.slice(n+1)):this.auth="",a=e.indexOf("/"),-1!==a&&-1!==e.slice(0,a).indexOf(".")?(this.host=e.slice(0,a),e=e.slice(a+1)):this.host="",this.path="/"+e}return t.URI_TRIM_RE=/^\/?(.*?)\/?$/,t.NAMES_RE=/{([a-zA-Z0-9_$]+)\*?}/g,t.prototype.test=function(e){return this._re.test(e)},t.prototype.match=function(e){var t,n,r,i,o,s,a;if(null!=this._names)for(t=this._re.exec(e),a=this._names,n=o=0,s=a.length;s>o;n=++o)r=a[n],i=t[n+1],void 0===i&&(i=null),this.params[r]=decodeURI(i);return this.params},t.prototype.toString=function(n){var r;return null==n||null==this._re?this._uri:(n instanceof e&&(n=n._data),r=0,this._uri.replace(t.NAMES_RE,function(e){return function(){return encodeURI(n[e._names[r++]])}}(this)))},t}()}}.call(this),module.exports}(),t["../networking/handler.coffee.md"]=function(){{var module={exports:t["../networking/handler.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md",schema:"../schema/index.coffee.md"});module.exports}return function(){var e,t,n,r;r=require("utils"),e=require("schema"),t=JSON.parse,n=JSON.stringify,module.exports=function(e){var n;return n=function(){function e(e){null!=e.schema,this.method=e.method,this.uri=e.uri,this.schema=e.schema,this.callback=e.callback}return e.prototype.method="",e.prototype.uri=null,e.prototype.schema=null,e.prototype.callback=null,e.prototype.exec=function(e,n,i){var o,s,a,l,u,c;if(this.method!==e.method)return i();if(!this.uri.test(e.uri.path))return i();if(l=e.params=this.uri.match(e.uri.path),this.schema){c=this.schema.schema;for(a in c)u=c[a],l.hasOwnProperty(a)&&u.type&&"string"!==u.type&&(l[a]=r.tryFunction(t,null,[l[a]],l[a]));if(s=r.catchError(this.schema.validate,this.schema,[l]),s instanceof Error)return i(s)}return o=function(t){return function(t){var n;return e.handler=null,null!=t&&t!==!0&&(n=t,null!=n.stack?n=r.isQt?""+t.message+"\n"+t.stack:t.stack:r.isObject(n)&&(n=r.tryFunction(JSON.stringify,null,[n],n))),n?((t instanceof RangeError||t instanceof TypeError||t instanceof SyntaxError||t instanceof ReferenceError)&&(n="Internal Error; message has been removed"),i(n)):i()}}(this),e.handler=this,r.tryFunction(this.callback,this,[e,n,o],o),null},e.prototype.toString=function(){return""+this.method+" "+this.uri},e}()}}.call(this),module.exports}(),t["../networking/request.coffee.md"]=function(){{var module={exports:t["../networking/request.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",signal:"../signal/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i){var o;return o=function(i){function o(e){var r;null!=e.uid,null!=e.method,!(e.uri instanceof n.Uri),o.__super__.constructor.call(this),null!=e.type&&(this.type=e.type),t.defineProperty(this,"type",t.ENUMERABLE,this.type),this.data=e.data,this.headers=e.headers,this.cookies=e.cookies,null!=e.method&&(this.method=e.method),this.headers||(this.headers={}),this.cookies||(this.cookies={}),this.uri="string"==typeof e.uri?new n.Uri(e.uri):e.uri,r=e.uid||t.uid(),t.defineProperty(this,"uid",null,r),this.pending=!0,this.params=null,e.onLoadEnd&&this.onLoadEnd(e.onLoadEnd)}return r(o,i),o.METHODS=[o.GET="get",o.POST="post",o.PUT="put",o.DELETE="delete",o.OPTIONS="options"],o.TYPES=[o.TEXT_TYPE="text",o.JSON_TYPE="json",o.HTML_TYPE="html",o.BINARY_TYPE="binary"],e.Emitter.createSignal(o,"onLoadEnd"),o.prototype.uid="",o.prototype.pending=!1,o.prototype.method=o.GET,o.prototype.uri=null,o.prototype.type=o.JSON_TYPE,o.prototype.data=null,o.prototype.handler=null,o.prototype.response=null,o.prototype.params=null,o.prototype.headers=null,o.prototype.cookies=null,o.prototype.toString=function(){return""+this.method+" "+this.uri+" as "+this.type},o.prototype.destroy=function(){var e;this.pending=!1,e=this.response,e.isSucceed()?this.onLoadEnd.emit(null,e.data):this.onLoadEnd.emit(e.data||e.status||"Unknown error")},o}(e.Emitter)}}.call(this),module.exports}(),t["../networking/response.coffee.md"]=function(){{var module={exports:t["../networking/response.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md","./response/error.coffee.md":"../networking/response/error.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),e=require("signal"),module.exports=function(n,i){var o;return o=function(o){function s(e){s.__super__.constructor.call(this),null!=e.status&&(this.status=e.status),null!=e.data&&(this.data=e.data),null!=e.encoding&&(this.encoding=e.encoding),this.headers=e.headers||{},this.cookies=e.cookies||{},t.defineProperty(this,"request",null,e.request),this.pending=!0,e.onSend&&this.onSend(e.onSend),null!=e.status&&this.send()}return r(s,o),s.STATUSES=[s.OK=200,s.CREATED=201,s.ACCEPTED=202,s.NO_CONTENT=204,s.MOVED=301,s.FOUND=302,s.NOT_MODIFIED=304,s.TEMPORARY_REDIRECT=307,s.BAD_REQUEST=400,s.UNAUTHORIZED=401,s.PAYMENT_REQUIRED=402,s.FORBIDDEN=403,s.NOT_FOUND=404,s.METHOD_NOT_ALLOWED=405,s.NOT_ACCEPTABLE=406,s.CONFLICT=409,s.PRECONDITION_FAILED=412,s.UNSUPPORTED_MEDIA_TYPE=415,s.INTERNAL_SERVER_ERROR=500,s.NOT_IMPLEMENTED=501,s.SERVICE_UNAVAILABLE=503],s.Error=require("./response/error.coffee.md")(n,s),e.Emitter.createSignal(s,"onSend"),s.prototype.pending=!1,s.prototype.request=null,s.prototype.status=s.OK,s.prototype.data=null,s.prototype.headers=null,s.prototype.cookies=null,s.prototype.encoding="utf-8",s.prototype.setHeader=function(e,t){return i.setHeader(this,e,t),this},s.prototype.send=function(e,t){null==t&&"number"!=typeof e&&(t=e,e=this.status),null!=e&&(this.status=e),void 0!==t&&(this.data=t),this.request.destroy(),t=this.data,i.send(this,t,function(e){return function(){return e.pending=!1,e.onSend.emit()}}(this))},s.prototype.redirect=function(e,t){return void 0===t&&(t=e,e=s.FOUND),this.status=e,this.setHeader("Location",t),this.request.destroy(),i.redirect(this,e,t,function(e){return function(){return e.pending=!1,e.onSend.emit()}}(this))},s.prototype.raise=function(e){return e instanceof s.Error||isFinite(null!=e?e.status:void 0)?this.send(e.status,e):this.send(s.INTERNAL_SERVER_ERROR,e)},s.prototype.isSucceed=function(){var e;return 300>(e=this.status)&&e>=200},s}(e.Emitter)}}.call(this),module.exports}(),t["../networking/response/error.coffee.md"]=function(){{var module={exports:t["../networking/response/error.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=require("utils"),module.exports=function(t,n){var i;return i=function(i){function o(e,t){return null==t&&(t=""),this instanceof o?("string"==typeof e?(t=e,e=this.status):void 0===e&&(e=this.status,t=this.message),this.status=e,void(this.message=t)):new o(e,t)}return r(o,i),o.RequestResolve=e(t,n,o),o.prototype.status=n.INTERNAL_SERVER_ERROR,o.prototype.name="ResponseError",o.prototype.message="",o}(Error)},e=function(t,n,i){return e=function(e){function t(e){return t.__super__.constructor.call(this,"No handler can be found")}return r(t,e),t.prototype.status=n.BAD_REQUEST,t.prototype.name="RequestResolveResponseError",t}(i)}}.call(this),module.exports}(),t["../networking/index.coffee.md"]=function(){{var module={exports:t["../networking/index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md",list:"../list/index.coffee.md","./impl":"../networking/impl.coffee","./uri.coffee.md":"../networking/uri.coffee.md","./handler.coffee.md":"../networking/handler.coffee.md","./request.coffee.md":"../networking/request.coffee.md","./response.coffee.md":"../networking/response.coffee.md"});module.exports}return function(){var e,t,n,r,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=require("utils"),n=require("signal"),e=require("list"),module.exports=t=function(t){function i(t){var n;r.defineProperty(this,"_handlers",r.CONFIGURABLE,{}),this.type=t.type,this.protocol=t.protocol,this.port=t.port,this.host=t.host,this.language=t.language,this.pendingRequests=new e,null!=t.url?(n=t.url,"/"===n[n.length-1]&&(n=n.slice(0,-1))):n=""+this.protocol+"://"+this.host+":"+this.port,r.defineProperty(this,"url",r.ENUMERABLE,n),setImmediate(function(e){return function(){return a.init(e)}}(this)),i.__super__.constructor.call(this)}var s,a;return o(i,t),a=require("./impl")(i),i.Uri=require("./uri.coffee.md")(i),i.Handler=require("./handler.coffee.md")(i),i.Request=require("./request.coffee.md")(i,a.Request),i.Response=require("./response.coffee.md")(i,a.Response),i.TYPES=[i.HTTP="http"],i.prototype.type=i.HTTP,n.Emitter.createSignal(i,"onRequest"),i.prototype.protocol="",i.prototype.port=0,i.prototype.host="",i.prototype.url="",i.prototype.language="",i.prototype.createHandler=function(e){var t,n,r,o,s;return r=e.uri,r instanceof i.Uri||(r=new i.Uri(r)),t=new i.Handler({method:e.method,uri:r,schema:e.schema,callback:e.callback}),n=null!=(o=this._handlers)[s=e.method]?o[s]:o[s]=[],n.push(t),t},i.prototype.createRequest=function(e){var t,n,o,l;return e.uri=e.uri?e.uri+"":"",s.test(e.uri)||("/"!==e.uri[0]&&(e.uri="/"+e.uri),e.uri=""+this.url+e.uri),n=new i.Request(e),t=!0,n.onLoadEnd(function(e){return function(){return e.pendingRequests.remove(n),!0}}(this)),l=r.isObject(e.response)?e.response:{},l.request=n,o=new i.Response(l),n.response=o,this.pendingRequests.append(n),this.onRequest.emit(n,o),a.sendRequest(n,o,function(e){return r.merge(o,e),o.pending=!1,n.destroy()}),n},i.prototype.get=function(e,t){return this.createRequest({method:"get",uri:e,onLoadEnd:t})
},i.prototype.post=function(e,t,n){return"function"!=typeof t||n||(n=t,t=null),this.createRequest({method:"post",uri:e,data:t,onLoadEnd:n})},i.prototype.put=function(e,t,n){return"function"!=typeof t||n||(n=t,t=null),this.createRequest({method:"put",uri:e,data:t,onLoadEnd:n})},i.prototype.delete=function(e,t){var n;return"function"!=typeof n||t||(t=n,n=null),this.createRequest({method:"delete",uri:e,data:n,onLoadEnd:t})},s=/^[a-zA-Z]+:\/\//,i.prototype.createLocalRequest=function(e){var t,n,o,s,a,l,u;return a=new i.Request(e),a.onLoadEnd(function(e){return function(){return e.pendingRequests.remove(a)}}(this)),u=r.isObject(e.response)?e.response:{},u.request=a,l=new i.Response(u),a.response=l,this.pendingRequests.append(a),this.onRequest.emit(a,l),s=function(e){return a.pending?l.raise(!e||"object"!=typeof e&&"string"!=typeof e&&"number"!=typeof e?i.Response.Error.RequestResolve(a):e):void 0},o=function(){return s()},n=this._handlers[a.method],n?(t=null,r.async.forEach(n,function(e,n,r,i){return e.exec(a,l,function(e){return null!=e&&(t=e),i()})},function(){return t?s(t):o()})):o(),a},i}(n.Emitter)}.call(this),module.exports}(),t["route.coffee.md"]=function(){{var module={exports:t["route.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md",schema:"../schema/index.coffee.md",networking:"../networking/index.coffee.md",document:"../document/index.coffee.md",dict:"../dict/index.coffee.md"});module.exports}return function(){var e,t,n,r,i;i=require("utils"),r=require("schema"),n=require("networking"),t=require("document"),e=require("dict"),module.exports=function(o){var s;return s=function(){function s(e,t,s){var a,u,c;i.isObject(e)?s=e:i.isObject(t)?s=t:i.isObject(s)||(s={}),"string"==typeof e&&"string"!=typeof t?s.uri=e:"string"==typeof e&&"string"==typeof t&&(null==s.method&&(s.method=e),null==s.uri&&(s.uri=t)),"function"==typeof t&&null==s.getData&&(s.getData=t),s=i.clone(s),"string"==typeof s.uri&&(u=s.uri.indexOf(" "),-1!==u&&(null==s.method&&(s.method=s.uri.slice(0,u)),s.uri=s.uri.slice(u+1)),s.uri=new n.Uri(s.uri)),null==s.method&&(s.method="get"),s.method=s.method.toLowerCase(),null!=s.schema&&i.isPlainObject(s.schema)&&(s.schema=new r(s.schema)),null!=s.redirect&&"string"==typeof s.redirect&&(s.redirect=new n.Uri(s.redirect)),i.isObject(s.toHTML)&&(s.toHTML=l(s.toHTML));for(a in s)c=s[a],this[a]=c;this.__id__=i.uid(),this.app=o,this.name||(this.name=p(this)),o.networking.createHandler({method:this.method,uri:this.uri,schema:this.schema,callback:i.bindFunctionContext(d,this)})}var a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w;return i.isNode?w=[]:S=Object.create(null),h=null,p=function(e){var t;for(t=e.uri._uri,t=t.replace(n.Uri.NAMES_RE,""),t=t.replace(/\*/g,"");-1!==t.indexOf("//");)t=t.replace(/\/\//g,"/");return t=t.replace(/^\//,""),t=t.replace(/\/$/,"")},x=Object.create(null),_=Object.create(null),c=function(){var e;return e=function(e){var t;return t=Object.create(e),t.__hash__=i.uid(),"function"==typeof t.factory&&t.factory(),t},function(t){var n,r;return n=t.__id__,null==x[n]&&(x[n]=[]),r=x[n].pop()||e(t),r=Object.create(r),r.request=r.response=null,r.route=r,r._dataPrepared=!1,r._destroyViewOnEnd=!1,r}}(),u=function(e){if(h===e&&(h=null),e.response.onSend.disconnect(m,e),_[e.__hash__]=!1,"function"==typeof e.destroy&&e.destroy(),e._dataPrepared)switch(e.request.type){case"text":"function"==typeof e.destroyText&&e.destroyText();break;case"json":"function"==typeof e.destroyJSON&&e.destroyJSON();break;case"html":"function"==typeof e.destroyHTML&&e.destroyHTML()}return e._destroyViewOnEnd&&e.response.data.destroy(),x[e.__id__].push(Object.getPrototypeOf(e))},b=function(e){var t,n;try{if(t=e.getData(),null!=t)return e.data=t}catch(t){return n=t,200===e.response.status&&(e.response.status=500),e.error=n}},v=function(e,t,n){if(null!=t){if(200===e.response.status&&(e.response.status=500),e._dataPrepared&&e.error===t)return!1;console.error(t),e.error=t}else{if(e._dataPrepared&&e.data===n)return!1;e.data=n}return!0},g=function(e){var n,r,i;switch(i=e.response,r=i.data,e.request.type){case"text":n=e.toText();break;case"json":n=e.toJSON();break;case"html":n=e.toHTML(),r instanceof t&&e._destroyViewOnEnd&&(r.destroy(),i.data=null),n instanceof t||i.data!==r||(n=y.call(e,n))}return e._dataPrepared=!0,null!=n?i.data=n:i.data===r?i.data="":void 0},m=function(){(i.isNode||"html"!==this.request.type)&&(u(this),i.isNode&&i.has(w,this.response.data)&&(this.response.data.destroy(),i.remove(w,this.response.data)))},f=function(e){e.response.pending&&e.response.send()},a=function(e,t){return _[e.__hash__]?!1:(e.response.pending&&t(),!0)},d=function(e,t,r){var o,s,l,p,d;if(d=c(this),l=d.__hash__,i.isClient&&(h&&u(h),h=d),d.request=e,d.response=t,_[l]=!0,t.onSend(m,d),"function"==typeof d.init&&d.init(),!_[l])return r();if(p=d.redirect,"function"==typeof p&&(p=d.redirect(),!_[l]))return r();if("string"==typeof p&&(p=new n.Uri(p)),p instanceof n.Uri)return void t.redirect(p.toString(e.params));if(s=d.getData,o=!1,"function"==typeof s)if(1===s.length)d.getData(function(e,t){return o=!0,a(d,r)||!v(d,e,t)||(g(d),a(d,r))?void 0:f(d)});else{if(b(d),a(d,r))return;if(g(d),a(d,r))return;f(d)}else{if(g(d),a(d,r))return;f(d)}!o&&a(d,r)},s.prototype.next=function(){return u(this)},s.prototype.toJSON=function(){var e,t;return this.response.status<400?(null!=(t=this.data)&&"function"==typeof t.toJSON?t.toJSON():void 0)||this.data:("function"==typeof(e=this.error).toJSON?e.toJSON():void 0)||this.error},s.prototype.toText=function(){return this.response.status<400?this.data+"":this.error+""},y=function(e){var t,n,r,i,a,l,u,c;return c=(null!=e?e.view:void 0)||this.name||"index",i=(null!=e?e.template:void 0)||"template",l=(null!=e?e.use:void 0)||"body",t=!0,c!==i&&(r=o.views[i])&&(a=s.prototype.getTemplateView.call(this,i),a.use(l,null)),(u=o.views[c])&&(n=u.render(this)),a?(n=null!=n?a.use(l,n):a,a.storage.routes.has(l)&&a.storage.routes.pop(l),a.storage.routes.set(l,this),this._destroyViewOnEnd=!1):this._destroyViewOnEnd=!0,n},l=function(e){return function(){return y.call(this,e)}},s.prototype.toHTML=l({view:"",template:"",use:""}),s.prototype.getTemplateView=function(){return i.isNode?function(t){var n;return n=o.views[t].render({app:o,routes:new e}),w.push(n),n}:function(t){return null!=S[t]?S[t]:S[t]=o.views[t].render({app:o,routes:new e})}}(),s}()}}.call(this),module.exports}(),t["bootstrap/route.node.coffee.md"]=function(){{var module={exports:t["bootstrap/route.node.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",dict:"../dict/index.coffee.md",document:"../document/index.coffee.md",networking:"../networking/index.coffee.md"});module.exports}return function(){var e,t,n,r,i,o,s;s=require("utils"),i=require("fs"),o=require("path"),e=require("dict"),t=require("document"),n=require("networking"),r='<!doctype html>\n<html>\n<head>\n	<meta charset="utf-8">\n	<title>${title}</title>\n	<script type="text/javascript" src="${neftFilePath}"></script>\n	<script type="text/javascript" src="${appFilePath}"></script>\n	<meta name="viewport" content="width=device-width, initial-scale=1.0">\n	<meta http-equiv="X-UA-Compatible" content="IE=Edge">\n</head>\n<body>\n	<noscript>\n		<meta http-equiv="refresh" content="0; url=${appTextModeUrl}"></meta>\n	</noscript>\n</body>\n</html>',module.exports=function(e){var o,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x;o="/app.js",c="/neft.js",l="./build/neft-browser-release.js",u="./build/neft-browser-game-release.js",a="./build/app-browser-release.js",h="_app_bootstrap",d="view.html",f="/neft-type=text",p="neft-type",x=t.fromHTML(h,r),t.parse(x),v=["app.js","favicon.ico","static"],b=function(e){return function(){var e,t,n,r;for(e="",n=0,r=v.length;r>n;n++)t=v[n],e+=""+s.addSlashes(t)+"|";return e=e.slice(0,-1),new RegExp("^(?:"+e+")")}}(this)(),_=function(t){var n;return n=t.headers.cookie,n&&-1!==n.indexOf(p)?/neft\-type=([a-z]+)/.exec(n)[1]:e.config.type};try{m=i.readFileSync(a,"utf-8")}catch(e){}new e.Route({uri:o,getData:function(e){e(null,m)}});try{g=i.readFileSync(l,"utf-8"),y=i.readFileSync(u,"utf-8")}catch(e){}return new e.Route({uri:c,getData:function(e){var t;t="game"===_(this.request),t?e(null,y):e(null,g)}}),new e.Route({uri:"favicon.ico",redirect:"static/favicon.ico"}),new e.Route({uri:"neft-type={type}{rest*}",getData:function(t){var n,r;return n=this.request,r=this.response,r.setHeader("Set-Cookie",""+p+"="+n.params.type+"; path=/;"),r.redirect(""+e.networking.url+n.params.rest)}}),new e.Route({uri:"*",getData:function(e){var t,r;return t=this.request,"text"===_(t)||t.headers["x-expected-type"]?this.next():(r=t.headers["user-agent"]||"",t.type!==n.Request.HTML_TYPE||b.test(t.uri)||s.has(r,"bot")||s.has(r,"Baiduspider")||s.has(r,"facebook")||s.has(r,"Links")?this.next():e(null))},destroyHTML:function(){return this.response.data.destroy()},toHTML:function(){return x.render({title:e.config.title,appTextModeUrl:f+this.request.uri,neftFilePath:e.networking.url+c,appFilePath:e.networking.url+o})}})}}.call(this),module.exports}(),t["package.json"]=function(){{var module={exports:t["package.json"]};e.bind(null,{}),module.exports}return module.exports={private:!0,name:"app",version:"0.7.1",description:"Neft.io main application",license:"Apache 2.0",homepage:"http://neft.io",repository:{type:"git",url:"https://github.com/Neft-io/app.git"},bugs:"https://github.com/Neft-io/app/issues",config:{title:"Neft.io Application",protocol:"http",port:3e3,host:"localhost",language:"en",type:"app"}},module.exports}(),t["../native/actions.coffee"]=function(){var module={exports:t["../native/actions.coffee"]},exports=(e.bind(null,{}),module.exports);return function(){exports.in=function(e){return{EVENT:e++,SCREEN_SIZE:e++,SCREEN_ORIENTATION:e++,NAVIGATOR_LANGUAGE:e++,NAVIGATOR_ONLINE:e++,DEVICE_PIXEL_RATIO:e++,DEVICE_IS_PHONE:e++,POINTER_PRESS:e++,POINTER_RELEASE:e++,POINTER_MOVE:e++,DEVICE_KEYBOARD_SHOW:e++,DEVICE_KEYBOARD_HIDE:e++,KEY_PRESS:e++,KEY_HOLD:e++,KEY_INPUT:e++,KEY_RELEASE:e++,IMAGE_SIZE:e++,TEXT_SIZE:e++,FONT_LOAD:e++,SCROLLABLE_CONTENT_X:e++,SCROLLABLE_CONTENT_Y:e++}}(0),exports.out=function(e){return{CALL_FUNCTION:e++,DEVICE_SHOW_KEYBOARD:e++,DEVICE_HIDE_KEYBOARD:e++,SET_WINDOW:e++,CREATE_ITEM:e++,SET_ITEM_PARENT:e++,INSERT_ITEM_BEFORE:e++,SET_ITEM_VISIBLE:e++,SET_ITEM_CLIP:e++,SET_ITEM_WIDTH:e++,SET_ITEM_HEIGHT:e++,SET_ITEM_X:e++,SET_ITEM_Y:e++,SET_ITEM_Z:e++,SET_ITEM_SCALE:e++,SET_ITEM_ROTATION:e++,SET_ITEM_OPACITY:e++,SET_ITEM_BACKGROUND:e++,SET_ITEM_KEYS_FOCUS:e++,CREATE_IMAGE:e++,SET_IMAGE_SOURCE:e++,SET_IMAGE_SOURCE_WIDTH:e++,SET_IMAGE_SOURCE_HEIGHT:e++,SET_IMAGE_FILL_MODE:e++,SET_IMAGE_OFFSET_X:e++,SET_IMAGE_OFFSET_Y:e++,CREATE_TEXT:e++,SET_TEXT:e++,SET_TEXT_WRAP:e++,UPDATE_TEXT_CONTENT_SIZE:e++,SET_TEXT_COLOR:e++,SET_TEXT_LINE_HEIGHT:e++,SET_TEXT_FONT_FAMILY:e++,SET_TEXT_FONT_PIXEL_SIZE:e++,SET_TEXT_FONT_WORD_SPACING:e++,SET_TEXT_FONT_LETTER_SPACING:e++,SET_TEXT_ALIGNMENT_HORIZONTAL:e++,SET_TEXT_ALIGNMENT_VERTICAL:e++,CREATE_TEXT_INPUT:e++,SET_TEXT_INPUT_TEXT:e++,SET_TEXT_INPUT_COLOR:e++,SET_TEXT_INPUT_LINE_HEIGHT:e++,SET_TEXT_INPUT_MULTI_LINE:e++,SET_TEXT_INPUT_ECHO_MODE:e++,SET_TEXT_INPUT_FONT_FAMILY:e++,SET_TEXT_FONT_INPUT_PIXEL_SIZE:e++,SET_TEXT_FONT_INPUT_WORD_SPACING:e++,SET_TEXT_FONT_INPUT_LETTER_SPACING:e++,SET_TEXT_INPUT_ALIGNMENT_HORIZONTAL:e++,SET_TEXT_INPUT_ALIGNMENT_VERTICAL:e++,LOAD_FONT:e++,CREATE_RECTANGLE:e++,SET_RECTANGLE_COLOR:e++,SET_RECTANGLE_RADIUS:e++,SET_RECTANGLE_BORDER_COLOR:e++,SET_RECTANGLE_BORDER_WIDTH:e++,CREATE_SCROLLABLE:e++,SET_SCROLLABLE_CONTENT_ITEM:e++,SET_SCROLLABLE_CONTENT_X:e++,SET_SCROLLABLE_CONTENT_Y:e++,ACTIVATE_SCROLLABLE:e++}}(0)}.call(this),module.exports}(),t["../native/bridge.coffee"]=function(){var module={exports:t["../native/bridge.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"}),exports=module.exports;return function(){var e,t,n,r;r=require("utils"),t=Object.create(null),n={booleans:null,booleansIndex:0,integers:null,integersIndex:0,floats:null,floatsIndex:0,strings:null,stringsIndex:0,getBoolean:function(){return this.booleans[this.booleansIndex++]},getInteger:function(){return this.integers[this.integersIndex++]},getFloat:function(){return this.floats[this.floatsIndex++]},getString:function(){return this.strings[this.stringsIndex++]}},exports.onData=function(e,r,i,o,s){var a,l,u,c;for(n.booleans=r,n.booleansIndex=0,n.integers=i,n.integersIndex=0,n.floats=o,n.floatsIndex=0,n.strings=s,n.stringsIndex=0,u=0,c=e.length;c>u;u++)a=e[u],(l=t[a])(n);exports.sendData()},exports.addActionListener=function(e,n){t[e]=n},exports.sendData=function(){},exports.pushAction=function(e){},exports.pushBoolean=function(e){},exports.pushInteger=function(e){},exports.pushFloat=function(e){},exports.pushString=function(e){},e=function(){switch(!0){case r.isAndroid:return require("./impl/android/bridge");case r.isIOS:return require("./impl/ios/bridge")}}(),null!=e&&r.merge(exports,e(exports))}.call(this),module.exports}(),t["../native/index.coffee.md"]=function(){var module={exports:t["../native/index.coffee.md"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",log:"../log/index.coffee.md","./actions":"../native/actions.coffee","./bridge":"../native/bridge.coffee"}),exports=module.exports;return function(){var e,t,n,r,i,o,s,a,l,u,c,f,p;s=require("./actions"),a=require("./bridge"),p=s.out,e=p.CALL_FUNCTION,t=p.CALL_FUNCTION_WITH_CALLBACK,l=0,i=l++,n=l++,r=l++,o=l++,u=Object.create(null),a.addActionListener(s.in.EVENT,function(e){return function(t){var s,a,c,f,p,d,h;for(f=t.getString(),s=t.getInteger(),l=p=0;s>p;l=p+=1)switch(t.getInteger()){case i:e[l]=null;break;case n:e[l]=t.getBoolean();break;case r:e[l]=t.getFloat();break;case o:e[l]=t.getString()}if(a=u[f])for(d=0,h=a.length;h>d;d++)c=a[d],c.apply(null,e)}}([])),c=!1,f=function(){c=!1,a.sendData()},exports.callFunction=function(t,s,u,p){var d,h,m;for(a.pushAction(e),a.pushString(t),h=arguments.length-1,a.pushInteger(h),l=m=0;h>=0?h>m:m>h;l=h>=0?++m:--m)switch(d=arguments[l+1],typeof d){case"boolean":a.pushInteger(n),a.pushBoolean(d);break;case"number":a.pushInteger(r),a.pushFloat(d);break;case"string":a.pushInteger(o),a.pushString(d);break;default:a.pushInteger(i)}c||(c=!0,setImmediate(f))},exports.on=function(e,t){var n;n=null!=u[e]?u[e]:u[e]=[],n.push(t)}}.call(this),module.exports}(),t["../styles/file/styles.coffee"]=function(){{var module={exports:t["../styles/file/styles.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md"});module.exports}return function(){var e;e=require("utils"),module.exports=function(t){var n,r;return n=function(){var t,n,r,i;return t=!1,n=[],r=function(e){var t,n,i,o,s;for(n=0,o=e.length;o>n;n++)t=e[n],t.render();for(i=0,s=e.length;s>i;i++)t=e[i],r(t.children)},i=function(){var i,o,s,a;for(t=!1,o=n.length,s=0,a=n.length;a>s;s++)i=n[s],r(i);e.clear(n)},function(e){n.push(e),t||(setImmediate(i),t=!0)}}(),t.onBeforeRender(function(e){n(e.styles)}),r=function(e){var t,n,i,o,s;for(n=0,o=e.length;o>n;n++)t=e[n],t.revert();for(i=0,s=e.length;s>i;i++)t=e[i],r(t.children)},t.onBeforeRevert(function(e){r(e.styles)}),t.prototype._clone=function(e){return function(){var t,n,r,i,o,s;for(t=e.call(this),s=this.styles,n=i=0,o=s.length;o>i;n=++i)r=s[n],t.styles.push(r.clone(this,t));return t}}(t.prototype._clone)}}.call(this),module.exports}(),t["../styles/style.coffee"]=function(){{var module={exports:t["../styles/style.coffee"]},require=e.bind(null,{"neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md",renderer:"../renderer/index.coffee.md"});module.exports}return function(){var e,t,n;n=require("utils"),t=require("signal"),e=require("renderer"),module.exports=function(t,r){var i;return i=function(){function i(){this.file=null,this.node=null,this.attrs=null,this.parent=null,this.isScope=!1,this.isAutoParent=!0,this.item=null,this.scope=null,this.children=[],this.textWatchingNodes=[],this.isTextSet=!1,this.baseText="",this.isLinkUriSet=!1,this.baseLinkUri="",this.parentSet=!1,this.lastItemParent=null,this.waiting=!1,this.attrsQueue=[],this.attrsClass=null,this.isRendered=!1}var o,s,a,l,u,c,f,p,d,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T,P;return P=r.windowStyle,O=r.styles,S=r.queries,c=t.Element.Tag,i.__name__="Style",i.__path__="File.Style",l=i.JSON_CTOR_ID=t.JSON_CTORS.push(i)-1,v=1,u=v++,s=v++,a=v++,o=i.JSON_ARGS_LENGTH=v,i.extendDocumentByStyles=function(){var e,n;return n=function(e){var t,n;n=null;for(t in e._attrs)("class"===t||"style:"===t.slice(0,6))&&(null==n&&(n={}),n[t]=!0);return n},e=function(r,o,s){var a,l,u,c,f,p;for((a=o.getAttr("neft:style"))&&(u=new i,u.file=r,u.node=o,u.parent=s,u.attrs=n(o),s?s.children.push(u):r.styles.push(u),s=u),p=o.children,c=0,f=p.length;f>c;c++)l=p[c],l instanceof t.Element.Tag&&e(r,l,s)},function(t){var n,r,i,o,s,a,l;for(o=0,a=S.length;a>o;o++)for(n=S[o],i=t.node.queryAll(n.query),s=0,l=i.length;l>s;s++)r=i[s],r.hasAttr("neft:style")||r.setAttr("neft:style",n.style);return e(t,t.node,null),t}}(),i._fromJSON=function(e,t,n){var r,o,l,c,f;for(n||(n=new i),n.file=e,n.node=e.node.getChildByAccessPath(t[u]),n.attrs=t[s],f=t[a],l=0,c=f.length;c>l;l++)r=f[l],o=i._fromJSON(e,r),o.parent=n,n.children.push(o);return n},p=new e.Component,b=function(e,t){var n,r,i,o;if(null==t&&(t=e.node),e.textWatchingNodes.push(t),"onTextChange"in t&&t.onTextChange(C,e),"onChildrenChange"in t&&t.onChildrenChange(C,e),"onVisibleChange"in t&&t.onVisibleChange(C,e),t.children)for(o=t.children,r=0,i=o.length;i>r;r++)n=o[r],b(e,n)},C=function(){return this.file.isRendered?this.updateText():void 0},f=function(e,t){var n,r;"href"===e&&this.isLink()&&null!=(n=this.item)&&(n.linkUri=this.getLinkUri()),(null!=(r=this.attrs)?r[e]:void 0)&&this.setAttr(e,this.node._attrs[e],t)},E=new e.Item.Document.ShowEvent,y=new e.Item.Document.HideEvent,g=_=0,A=[],I=[],T=function(){var t,r,i;return r=!1,t=0,i=function(){var o,s,a,l,u,c,f,p,d,h,m,y,v,b,x,S,w;for(u=Date.now(),s=u-t,t=u,o=!1,f=0,m=I.length;m>f;f++){for(c=I[f],w=c.item._extensions,p=0,y=w.length;y>p;p++)if(a=w[p],a instanceof e.PropertyAnimation&&a.running&&!a.loop){o=!0;break}if(o)break}if(g-=s,_>0&&!o&&(_-=s),!o){if(0>=_&&(_=0,I.length>0)){for(l=!0,d=0,v=I.length;v>d;d++)c=I[d],c.waiting=!1,c.revertItem(),c.file.readyToUse=!0;n.clear(I)}if(0>=g+_&&(g=0,A.length>0)){for(l=!0,h=0,b=A.length;b>h;h++)c=A[h],c.waiting=!1,c.renderItem(),c.file.readyToUse=!0;for(S=0,x=A.length;x>S;S++)c=A[S],c.findItemIndex();n.clear(A)}}A.length||I.length?requestAnimationFrame(i):r=!1},function(e){r||(t=Date.now(),setImmediate(i),r=!0),e.waiting=!0}}(),i.prototype.render=function(){this.waiting||(!this.isAutoParent||this.getVisibility())&&(this.item||this.reloadItem(),this.item&&(this.isRendered=!0,this.isScope&&(this.item.document.onShow.emit(E),g+=E.delay,E.delay=0),this.item.document.visible=!1,this.file.readyToUse=!1,A.push(this),T(this)))},i.prototype.renderItem=function(){var e,t,r,i,o;if(this.item&&this.file.isRendered){if(this.item.visible=!0,this.lastItemParent&&(this.item.parent=this.lastItemParent),this.findItemParent(),this.item.document.node=this.node,this.baseText=(null!=(o=this.getTextObject())?o.text:void 0)||"",this.updateText(),this.updateVisibility(),this.attrs){if((t=this.attrsQueue).length){for(v=r=0,i=t.length;i>r;v=r+=3)e=t[v],this.setAttr(e,t[v+1],t[v+2]);n.clear(t)}this.attrsClass.enable()}this.item.document.visible=!0}},i.prototype.revert=function(){!this.waiting&&this.isRendered&&(this.isRendered=!1,this.isAutoParent&&this.isScope&&(this.item.document.onHide.emit(y),_+=y.delay,g+=y.nextShowDelay,y.delay=0,y.nextShowDelay=0),this.item.document.visible=!1,this.file.readyToUse=!1,I.push(this),T(this))},i.prototype.revertItem=function(){var e;this.item&&(this.item.visible=!1,this.isAutoParent&&(this.lastItemParent=null,this.parentSet||(this.lastItemParent=this.item.parent),this.item.parent=null,this.parentSet=!1),e=this.item.document.node,this.item.document.node=null,this.item.document.visible=!0,this.isLinkUriSet&&(this.item.linkUri=this.baseLinkUri,this.isLinkUriSet=!1,this.baseLinkUri=""),this.isTextSet&&(this.getTextObject().text=this.baseText,this.isTextSet=!1,this.baseText=""))},i.prototype.getTextObject=function(){var e;return(e=this.item)?e._$&&"text"in e._$?e._$:"text"in e?e:void 0:void 0},i.prototype.updateText=function(){var e,t,n,r,i,o;this.waiting||(r=this.node,t=this.children.length||r.query("[neft:style]"),!t&&(e=r.query("> a"))&&(r=e,n=r.getAttr("href"),"string"==typeof n&&(this.isLinkUriSet||(this.isLinkUriSet=!0,this.baseLinkUri=this.item.linkUri),this.item.linkUri=n)),i=this.getTextObject(),i&&!t&&(o=r.stringifyChildren(),(o.length>0||this.isTextSet)&&(this.isTextSet=!0,i.text=o)))},i.prototype.getVisibility=function(){var e,t;for(t=!0,e=this.node;;)if(t=e._visible,e=e._parent,!t||!e||e._style)break;return t},i.prototype.updateVisibility=function(){var e;this.waiting||(e=this.getVisibility(),e&&!this.isRendered&&this.file.isRendered&&this.render(),this.item&&(this.item.visible=e))},i.prototype.setAttr=function(){var e,t,r,i;return e="style:".length,i=function(){var t;return t=Object.create(null),function(n){return t[n]||(t[n]=n.slice(e).split(":"))}}(),r=function(){var t;return t=Object.create(null),function(n){return t[n]||(t[n]=n.slice(e).replace(/:/g,"."))}}(),t=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="_"+t)}}(),function(e,o,s){var a,l,u,c,f,p;if(this.waiting||!this.item)return void this.attrsQueue.push(e,o,s);if("class"===e)return this.syncClassAttr(o,s),!0;for(c=i(e),l=this.item,v=f=0,p=c.length-1;p>f;v=f+=1)if(!(l=l[c[v]]))return!1;return u=n.last(c),u in l?(a=t(u),void 0===l[a]&&"function"==typeof l[u]&&l[u].connect?("function"==typeof s&&l[u].disconnect(s),"function"==typeof o&&l[u](o)):this.node._attrs[e]===o&&o!==s&&(this.attrsClass.changes.setAttribute(r(e),o),l[u]=o),!0):!1}}(),i.prototype.syncClassAttr=function(e,t){var r,i,o,s,a,l,u,c,f,p,d;if(o=this.item,r=o.classes,a=e&&e.split(" "),t&&"string"==typeof t)for(l=t.split(" "),c=0,p=l.length;p>c;c++)s=l[c],a&&n.has(a,s)||r.remove(s);if(e&&"string"==typeof e)for(a=e.split(" "),u=-1,v=f=0,d=a.length;d>f;v=++f)s=a[v],i=r.index(s),-1===u&&-1===i?(i=r.length,r.append(s)):i!==u+1&&(-1!==i&&(r.pop(i),u>i&&u--),i=u+1,r.insert(i,s)),u=i},i.prototype.isLink=function(){var e;return"a"===this.node.name&&null!=this.node.getAttr("href")&&"#"!==(null!=(e=this.node.getAttr("href"))?e[0]:void 0)},i.prototype.getLinkUri=function(){var e;return e=this.node.getAttr("href")+""},i.prototype.reloadItem=function(){var t,r,i,o,s,a,l,u,c,f;if(!this.waiting&&n.isClient){if(r=this.node.getAttr("neft:style"),this.isScope=/^(styles|renderer)\:/.test(r),this.item=null,this.scope=null,this.isAutoParent=!1,r instanceof e.Item)this.item=r;else if(this.isScope&&(this.isAutoParent=!0,/^styles\:/.test(r)))if(i=/^styles:(.+?)(?:\:(.+?))?(?:\:(.+?))?$/.exec(r),u=i[0],t=i[1],a=i[2],l=i[3],null==a&&(a="_main"),l){for(s="styles:"+t+":"+a,o=this.parent;;){if(o&&o.node.getAttr("neft:style")===s){if(!o.scope)return;this.item=o.scope.objects[l]}else(null!=o?o.scope:void 0)||"view"!==t||(this.item=P.objects[l]);if(this.item||(!o||!(o=o.parent))&&scope===P)break}if(!this.item)return;this.isAutoParent=!this.item.parent}else{if(this.scope=null!=(c=O[t])&&null!=(f=c[a])?f.getComponent():void 0,!this.scope)return;this.item=this.scope.item}this.node.style=this.item,this.item&&(this.item.visible=!1,this.isLink()&&(this.item.linkUri=this.getLinkUri()),this.attrs&&(this.attrsClass.target=this.item)),this.getTextObject()&&b(this)}},h=function(e,t){var n,r;for(n=e;n&&(r=n._parent);){if(r===t)return n;n=r}},d=function(e,t,r){var i,o,s,a,l,u,f;for(i=e,r=(null!=(l=r._children)?l._target:void 0)||r,s=i;i;){for(;s;){if(s!==e&&s instanceof c)if((null!=(u=s._documentStyle)?u.parentSet:void 0)&&(o=s._documentStyle.item)){if(a=h(o,r))return void(t!==a&&t.previousSibling!==a&&(t.previousSibling=a))}else if(!s._documentStyle){i=s,s=n.last(i.children);continue}s=s._previousSibling}if(i!==e&&i.style)return;if((i=i._parent)&&(s=i._previousSibling,(null!=(f=i._documentStyle)?f.item:void 0)===r))return}},i.prototype.findItemParent=function(){var e,t,n,r;if(!this.waiting&&this.isAutoParent&&this.item&&!this.item.parent){for(t=this.node,r=t._parent;r;){if((n=r._documentStyle)&&(e=n.item,n.node!==r&&(e=e._parent),e)){this.parentSet=!0,this.item.parent=e;break}r=r._parent}e||(this.item.parent=null)}},i.prototype.findItemIndex=function(){return this.parentSet?(d.call(this,this.node,this.item,this.item.parent),!0):!1},i.prototype.clone=function(t,r){var o,s,a,l,u,c,d,h;for(l=new i,l.file=r,l.node=t.node.getCopiedElement(this.node,r.node),l.attrs=this.attrs,l.node._documentStyle=l,u=l.node._attrs["neft:style"],l.isAutoParent=!/^styles:(.+?)\:(.+?)\:(.+?)$/.test(u),this.attrs&&(l.attrsClass=e.Class.New(p),l.attrsClass.priority=9999),h=this.children,c=0,d=h.length;d>c;c++)a=h[c],a=a.clone(t,r),a.parent=l,l.children.push(a);if(!n.isClient)return l;if(l.node.onAttrsChange(f,l),this.attrs)for(o in this.attrs)s=l.node._attrs[o],null!=s&&l.setAttr(o,s,null);return l},i.prototype.toJSON=function(e,t){return t||(t=new Array(o),t[0]=l),t[u]=this.node.getAccessPath(this.file.node),t[s]=this.attrs,t[a]=this.children,t},c=t.Element.Tag,x=n.CONFIGURABLE,m=n.lookupGetter(c.prototype,"visible"),w=n.lookupSetter(c.prototype,"visible"),n.defineProperty(c.prototype,"visible",x,m,function(e){var t;return t=function(e){var n,r,i,o,s,a;if(!((i=e._documentStyle)&&(r=!!i.item,i.updateVisibility(),r&&i.isAutoParent))&&e instanceof c)for(a=e.children,o=0,s=a.length;s>o;o++)n=a[o],t(n)},function(n){return e.call(this,n)&&t(this),!1}}(w)),i}()}}.call(this),module.exports}(),t["../styles/index.coffee"]=function(){{var module={exports:t["../styles/index.coffee"]},require=e.bind(null,{utils:"../utils/index.coffee.md",document:"../document/index.coffee.md","./file/styles":"../styles/file/styles.coffee","./style":"../styles/style.coffee"});module.exports}return function(){var e,t,n,r,i;i=require("utils"),t=require("document"),r=require("./file/styles"),n=require("./style"),e=module.exports.ATTR_RESOURCES={img:["src"]},module.exports=function(o){var s,a,l,u,c,f,p,d;r(t),t.Style=n(t,o),u=o.resources,l=t.Element.Tag.DEFAULT_STRINGIFY_REPLACEMENTS;for(c in e)for(a=e[c],f=0,p=a.length;p>f;f++)s=a[f],d=l[c]||i.NOP,l[c]=function(e,t){return function(n){var r,i;return n=e(n)||n,r=n.getAttr(t),r&&(i=u.resolve(r))&&n.setAttr(t,i),n}}(d,s)}}.call(this),module.exports}(),t["index.coffee.md"]=function(){{var module={exports:t["index.coffee.md"]},require=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md",db:"../db/index.coffee.md","neft-assert":"../neft-assert/index.coffee.md",assert:"../neft-assert/index.coffee.md",schema:"../schema/index.coffee.md",networking:"../networking/index.coffee.md",document:"../document/index.coffee.md",renderer:"../renderer/index.coffee.md",resources:"../resources/index.coffee.md",dict:"../dict/index.coffee.md","./route":"route.coffee.md","./bootstrap/route.node":"bootstrap/route.node.coffee.md","./package.json":"package.json",list:"../list/index.coffee.md",native:"../native/index.coffee.md",styles:"../styles/index.coffee"});module.exports}return function(){var e,t,n,r,i,o,s,a,l,u,exports,c,f,p,d,h,m;for(d=require("utils"),p=require("signal"),u=require("db"),a=require("schema"),i=require("networking"),n=require("document"),o=require("renderer"),s=require("resources"),t=require("dict"),e=require("./route"),d.isNode&&(l=require("./bootstrap/route.node")),f=require("./package.json"),exports=module.exports=function(r,a){var c,h,m,_,g,y,v,b,x,S,w,E,O,A,I,C,T,P,N;if(null==r&&(r={}),null==a&&(a={}),require("log").ok("Welcome! Neft.io v"+f.version+"; Feedback appreciated"),m=f.config,m=d.merge(d.clone(m),r.config),null!=a&&d.merge(m,a),h=new t,h.config=m,h.networking=new i({type:i.HTTP,protocol:m.protocol,port:parseInt(m.port,10),host:m.host,url:m.url,language:m.language}),h.models={},h.routes={},h.styles={},h.views={},h.resources=r.resources?s.fromJSON(r.resources):new s,p.create(h,"onReady"),null==m.type&&(m.type="app"),h.Route=e(h),c="__neft_cookies",h.cookies=null,y=function(e){return h.cookies=e,d.isClient?e.set("sessionId",d.uid(16)):void 0},u.get(c,u.OBSERVABLE,function(e,t){var n;return t?y(t):(n=d.isClient?{clientId:d.uid(16)}:{},u.set(c,n,function(e){return u.get(c,u.OBSERVABLE,function(e,t){return y(t)})}))}),h.networking.onRequest(function(e,t){d.isClient?d.merge(e.cookies,h.cookies._data):d.merge(t.cookies,h.cookies._data),e.onLoadEnd.listeners.unshift(function(){var e,n,r;if(d.isClient){r=t.cookies;for(e in r)n=r[e],d.isEqual(h.cookies.get(e),n)||h.cookies.set(e,n)}},null)}),o.resources=h.resources,o.serverUrl=h.networking.url,null!=r.styles)for(T=r.styles,w=0,A=T.length;A>w;w++)if(v=T[w],"view"===v.name){x=v.file._main.getComponent();break}if(S=(null!=x?x.item:void 0)||new o.Item,o.window=S,null!=r.styles)for(b={app:h,view:S},P=r.styles,E=0,I=P.length;I>E;E++)v=P[E],null!=v.name&&(v.file._init(b),h.styles[v.name]=v.file);if(require("styles")({windowStyle:x,styles:h.styles,queries:r.styleQueries,resources:h.resources}),d.isNode&&l(h),g=function(e,t){var n,r,i,o;for(i=0,o=e.length;o>i;i++)n=e[i],null!=n.name&&"function"==typeof n.file&&(r=n.file(h),null!=t[n.name]&&d.isPlainObject(t[n.name])&&d.isPlainObject(r)&&(r=d.merge(Object.create(t[n.name]),r)),t[n.name]=r)},setImmediate(function(){var e,t,i,o,s,a,l,u,c,f;for(c=r.views,l=0,u=c.length;u>l;l++)a=c[l],null!=a.name&&(h.views[a.name]=n.fromJSON(a.file));g(r.models,h.models),g(r.routes,h.routes),f=h.routes;for(i in f){if(t=f[i],o={},d.isObject(t)&&!(t instanceof h.Route))for(e in t)r=t[e],d.isObject(r)?(s=new h.Route(e,r),o[s.name]=s):o[e]=r;h.routes[i]=o}return h.onReady.emit()}),d.isObject(r.extensions))for(N=r.extensions,O=0,C=N.length;C>O;O++)(_=N[O])({app:h});return h},r=["utils","signal","dict","list","log","Resources","native","Renderer","Networking","Schema","Document","Styles","assert","db"],h=0,m=r.length;m>h;h++)c=r[h],exports[c]=exports[c.toLowerCase()]=require(c.toLowerCase())}.call(this),module.exports}();var n=t["index.coffee.md"];return"undefined"!=typeof module?module.exports=n:n})();;
