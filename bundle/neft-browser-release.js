var Neft, setImmediate;

setImmediate = (function() {
  var callAll, queue, ready, running, update;
  ready = false;
  running = false;
  queue = [];
  callAll = function() {
    var args, func, i, j, length, ref;
    running = false;
    length = queue.length;
    for (i = j = 0, ref = length; j < ref; i = j += 2) {
      func = queue.shift();
      args = queue.shift();
      func.apply(null, args);
    }
  };
  update = (function() {
    var Mutation, calls, element, observer;
    if (!(Mutation = window.MutationObserver || window.WebKitMutationObserver)) {
      return;
    }
    calls = 0;
    observer = new Mutation(callAll);
    element = document.createTextNode('');
    observer.observe(element, {
      characterData: true
    });
    return function() {
      var ref;
      return element.data = (ref = ++calls % 2) != null ? ref : {
        "a": "b"
      };
    };
  })();
  update || (update = (function() {
    var channel;
    if ((typeof window !== "undefined" && window !== null ? window.setImmediate : void 0) || (typeof MessageChannel === "undefined" || MessageChannel === null)) {
      return;
    }
    channel = new MessageChannel();
    channel.port1.onmessage = callAll;
    return function() {
      return channel.port2.postMessage(0);
    };
  })());
  update || (update = (function() {
    return function() {
      return setTimeout(callAll, 0);
    };
  })());
  setTimeout(function() {
    ready = true;
    return callAll();
  });
  return function(func) {
    var argc, args, i, j, ref;
    argc = arguments.length;
    if (argc > 1) {
      args = new Array(argc - 1);
      for (i = j = 1, ref = argc; j < ref; i = j += 1) {
        args[i - 1] = arguments[i];
      }
    }
    queue.push(func, args);
    if (ready && !running) {
      update();
      running = true;
    }
  };
})();

Neft = (function(){"use strict";function e(e,n){var r=e[n];return r in t?t[r]:"undefined"!=typeof Neft&&Neft[n]||"function"==typeof require&&require(n)||function(){throw new Error("Cannot find module '"+n+"'")}()}var t={"../utils/namespace.coffee.md":{},"../utils/stringifying.coffee.md":{},"../utils/async.coffee.md":{},"../utils/index.coffee.md":{},"../assert/index.coffee.md":{},"../log/impls/browser/index.coffee":{},"../log/index.coffee.md":{},"../signal/emitter.coffee":{},"../signal/index.coffee.md":{},"../list/index.coffee.md":{},"../dict/index.coffee.md":{},"../db/implementations/browser/localStorage.coffee":{},"../db/implementations/browser.coffee":{},"../db/implementations/memory.coffee":{},"../db/implementation.coffee":{},"../db/index.coffee.md":{},"../schema/validators/array.coffee.md":{},"../schema/validators/object.coffee.md":{},"../schema/validators/optional.coffee.md":{},"../schema/validators/max.coffee.md":{},"../schema/validators/min.coffee.md":{},"../schema/validators/options.coffee.md":{},"../schema/validators/regexp.coffee.md":{},"../schema/validators/type.coffee.md":{},"../schema/index.coffee.md":{},"../networking/impl/browser/index.coffee":{},"../networking/impl.coffee":{},"../networking/impl/browser/request.coffee":{},"../document/element/element/text.coffee.md":{},"../document/element/element/tag/stringify.coffee":{},"../typed-array/index.coffee.md":{},"../document/element/element/tag.coffee.md":{},"../document/element/element/tag/query.coffee":{},"../document/element/element.coffee.md":{},"../document/element/index.coffee":{},"../document/attrChange.coffee":{},"../document/use.coffee":{},"../document/input.coffee":{},"../document/input/text.coffee":{},"../document/input/attr.coffee":{},"../document/condition.coffee":{},"../document/iterator.coffee":{},"../document/log.coffee":{},"../renderer/impl.coffee":{},"../renderer/impl/base/level0/item.coffee":{},"../renderer/impl/base/level0/image.coffee":{},"../renderer/impl/base/level0/text.coffee":{},"../renderer/impl/base/level0/textInput.coffee":{},"../renderer/impl/base/level0/loader/font.coffee":{},"../renderer/impl/base/level0/loader/resources.coffee":{},"../renderer/impl/base/level0/device.coffee":{},"../renderer/impl/base/level0/screen.coffee":{},"../renderer/impl/base/level0/navigator.coffee":{},"../renderer/impl/base/level0/sensor/rotation.coffee":{},"../renderer/impl/base/level0/sound/ambient.coffee":{},"../renderer/impl/base/level1/rectangle.coffee":{},"../renderer/impl/base/level1/grid.coffee":{},"../renderer/impl/base/level1/column.coffee":{},"../renderer/impl/base/level1/row.coffee":{},"../renderer/impl/base/level1/flow.coffee":{},"../renderer/impl/base/level1/animation.coffee":{},"../renderer/impl/base/level1/animation/property.coffee":{},"../renderer/impl/base/level1/animation/number.coffee":{},"../renderer/impl/base/level2/scrollable.coffee":{},"../renderer/impl/base/level1/binding.coffee":{},"../renderer/impl/base/level1/anchors.coffee":{},"../renderer/impl/base/utils.coffee":{},"../renderer/impl/base/utils/grid.coffee":{},"../renderer/impl/base/index.coffee":{},"../renderer/impl/css/index.coffee":{},"../renderer/impl/css/utils.coffee":{},"../renderer/impl/css/level0/item.coffee":{},"../renderer/impl/css/level0/image.coffee":{},"../renderer/impl/css/level0/text.coffee":{},"../renderer/impl/css/level0/textInput.coffee":{},"../renderer/impl/css/level0/loader/font.coffee":{},"../renderer/impl/css/level0/loader/resources.coffee":{},"../renderer/impl/css/level0/device.coffee":{},"../renderer/impl/css/level0/screen.coffee":{},"../renderer/impl/css/level0/navigator.coffee":{},"../renderer/impl/css/level0/sensor/rotation.coffee":{},"../renderer/impl/css/level1/rectangle.coffee":{},"../renderer/impl/css/level2/scrollable.coffee":{},"../renderer/impl/css/level0/sound/ambient.coffee":{},"../renderer/impl/base/level0/item/pointer.coffee":{},"../renderer/utils/item.coffee":{},"../renderer/types/namespace/screen.coffee.md":{},"../renderer/types/namespace/device.coffee.md":{},"../renderer/types/namespace/navigator.coffee.md":{},"../renderer/types/namespace/sensor/rotation.coffee.md":{},"../renderer/types/extension.coffee":{},"../renderer/types/extensions/class.coffee.md":{},"../renderer/types/extensions/animation.coffee.md":{},"../renderer/types/extensions/animation/types/property.coffee.md":{},"../renderer/types/extensions/animation/types/property/types/number.coffee.md":{},"../renderer/types/extensions/transition.coffee.md":{},"../renderer/types/basics/component.coffee":{},"../renderer/types/basics/item.coffee.md":{},"../renderer/types/basics/item/spacing.coffee.md":{},"../renderer/types/basics/item/alignment.coffee.md":{},"../renderer/types/basics/item/anchors.coffee.md":{},"../renderer/types/basics/item/layout.coffee.md":{},"../renderer/types/basics/item/margin.coffee.md":{},"../renderer/types/basics/item/pointer.coffee.md":{},"../renderer/types/basics/item/keys.coffee.md":{},"../renderer/types/basics/item/document.coffee.md":{},"../renderer/types/basics/item/types/image.coffee.md":{},"../renderer/types/basics/item/types/text.coffee.md":{},"../renderer/types/basics/item/types/text/font.coffee.md":{},"../renderer/types/basics/item/types/textInput.coffee.md":{},"../renderer/types/shapes/rectangle.coffee.md":{},"../renderer/types/layout/grid.coffee.md":{},"../renderer/types/layout/column.coffee.md":{},"../renderer/types/layout/row.coffee.md":{},"../renderer/types/layout/flow.coffee.md":{},"../renderer/types/layout/scrollable.coffee.md":{},"../renderer/types/sound/ambient.coffee.md":{},"../resources/resource.coffee.md":{},"../resources/index.coffee.md":{},"../renderer/types/loader/resources.coffee.md":{},"../renderer/types/loader/font.coffee.md":{},"../renderer/index.coffee.md":{},"../document/func.coffee.md":{},"../document/attrsToSet.coffee":{},"../document/file/render/parse/target.coffee":{},"../document/file/render/revert/target.coffee":{},"../document/file.coffee.md":{},"../document/index.coffee.md":{},"../networking/impl/browser/response.coffee":{},"../networking/uri.coffee.md":{},"../networking/handler.coffee.md":{},"../networking/request.coffee.md":{},"../networking/response.coffee.md":{},"../networking/response/error.coffee.md":{},"../networking/index.coffee.md":{},"route.coffee.md":{},"package.json":{},"../native/actions.coffee":{},"../native/bridge.coffee":{},"../native/index.coffee.md":{},"../styles/file/styles.coffee":{},"../styles/style.coffee":{},"../styles/index.coffee":{},"index.coffee.md":{}};t["../utils/namespace.coffee.md"]=function(){var n={exports:t["../utils/namespace.coffee.md"]},r=(e.bind(null,{}),n.exports);return function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};n.exports=function(e){var n,i,o;return i=e.get=function(e,t,s){var l,a,u,c,f,d,p;switch(null==t&&(t=""),typeof t){case"object":t=r.clone(t);break;case"string":t=t.split(".");break;default:throw new TypeError}for(a=c=0,d=t.length;d>c;a=++c){if(u=t[a],!u.length&&a)throw new ReferenceError("utils.get(): empty properties are not supported");if(o(u)){if(u=u.substring(0,u.indexOf("[]")),t=t.splice(a),t[0]=t[0].substring(u.length+2),t[0].length||t.shift(),null==s&&(s=new n),u.length&&(e=e[u]),"undefined"==typeof e)return void 0;for(f=0,p=e.length;p>f;f++)l=e[f],i(l,t.join("."),s);return s.length?s:void 0}if(u.length&&(e=e[u]),"object"!=typeof e&&"function"!=typeof e){a!==t.length-1&&(e=void 0);break}}return s&&"undefined"!=typeof e&&s.push(e),e},i.OptionsArray=n=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(Array),o=e.isStringArray=function(e){return/\[\]$/.test(e)}}}.call(this),n.exports}(),t["../utils/stringifying.coffee.md"]=function(){var n={exports:t["../utils/stringifying.coffee.md"]},r=(e.bind(null,{}),n.exports);return function(){var e;e=Array.isArray,n.exports=function(t){return t.simplify=function(){var t,n;return n=[Array.prototype,Object.prototype],t=[Array,Object],function(i,o){var s,l,a,u,c,f,d,p,h,m,_,g,y,v,x;for(null==o&&(o={}),p=null!=o.properties?o.properties:o.properties=!1,h=null!=o.protos?o.protos:o.protos=!1,f=null!=o.constructors?o.constructors:o.constructors=!1,d=o.instances=!h&&f,c=[],u=[],g={},f&&(s={}),h&&(_={}),l=function(e){var t,i,o,s,a,f;o=c.push(e),u.push(s=[]);for(i in e)f=e[i],e.hasOwnProperty(i)&&f&&"object"==typeof f&&(p&&r.lookupGetter(e,i)?s.push(null):(~(t=c.indexOf(f))||(t=l(f)),s.push(t)));return h&&(a=getPrototypeOf(e))&&(~n.indexOf(a)?t=null:~(t=c.indexOf(a))||(t=l(a)),s.push(t)),o-1},m=function(n,r){var i,o,l,a,c,m,y,v,x,b,S;b=e(n)?[]:{},m=u[r],v=0,y=null;for(a in n)S=n[a],n.hasOwnProperty(a)&&(b[a]=S,l=!1,S&&"object"==typeof S&&(null==y&&(y=[]),c=S=m[v++],null!==S&&(l=!0,y.push(a))),p&&(o=getObjOwnPropDesc(n,a),l&&(o.value=S),S=o),b[a]=S);return h&&getPrototypeOf(n)&&(x=m[v++],null!==x&&(_[r]=x)),f&&(i=n.constructor)&&(d||n.hasOwnProperty("constructor"))&&(~t.indexOf(i)||(s[r]=i)),y&&(g[r]=y),b},l(i),a=v=0,x=c.length;x>v;a=++v)y=c[a],c[a]=m(y,a);return{opts:o,objects:c,references:g,protos:_,constructors:s}}}(),t.assemble=function(){var e;return e={value:null},function(n){var r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A,C;if(u=n.opts,a=n.objects,y=n.references,h=n.protos,r=n.constructors,d=u.properties,p=u.protos,c=u.constructors,f=u.instances,x=[],d)for(s in y)for(v=y[s],n=a[s],S=0,O=v.length;O>S;S++)m=v[S],x.push(n[m].value),n[m].value=a[n[m].value];else for(s in y)for(v=y[s],n=a[s],w=0,P=v.length;P>w;w++)m=v[w],x.push(n[m]),n[m]=a[n[m]];if(d)for(E=0,A=a.length;A>E;E++){n=a[E];for(o in n)b=n[o],n.hasOwnProperty(o)&&defObjProp(n,o,b)}for(s in h)_=h[s],a[s]=t.setPrototypeOf(a[s],a[_]);if(f)for(s in r)i=r[s],l=a[s]=t.setPrototypeOf(a[s],i.prototype),"function"==typeof i.fromAssembled&&i.fromAssembled(l);else if(c)for(s in r)i=r[s],e.value=i,defObjProp(a[s],"constructor",e);g=0;for(s in y)for(v=y[s],n=a[s],I=0,C=v.length;C>I;I++)m=v[I],n[m]=a[x[g++]];return a[0]}}()}}.call(this),n.exports}(),t["../utils/async.coffee.md"]=function(){{var n={exports:t["../utils/async.coffee.md"]};e.bind(null,{}),n.exports}return function(){var e,t,r,i,o,s,l,a=[].slice;l=null,r=n.exports,s=Array.prototype.shift,o=Array.isArray,e=function(){},i=function(){var e,t;return e=function(e,t,n,r){var i,o,s;return i=0,o=e.length,(s=function(){return i===o?n.call(r):(i++,t.call(r,e[i-1],i-1,e,s))})()},t=function(e,t,n,r){var i,o,s,l;return o=Object.keys(e),i=0,s=o.length,(l=function(){var a;return i===s?n.call(r):(a=o[i],t.call(r,a,e[a],e,l),i++)})()},function(n,r,i,s){var l;return l=o(n)?e:t,l(n,r,i,s),null}}(),t=function(){function t(){this._arr=[],this.length=0}return t.prototype.add=function(e,t,n){return this._arr.push(e,t,n),this.length++,this},t.prototype.callNext=function(e,t){var n,r,i,o,s,a,u,c,f,d,p;if("function"==typeof e&&null==t&&(t=e,e=null),!this._arr.length)return t();if(this.length--,s=this._arr.shift(),o=this._arr.shift(),a=this._arr.shift(),"string"==typeof s&&(s=l.get(o,s)),"function"!=typeof s)throw new TypeError("ASync Stack::callNext(): function to call is not a function");if(u=s.length||Math.max((null!=e?e.length:void 0)||0,(null!=a?a.length:void 0)||0)+1,f=null,i=!1,r=function(){return i=!0,t.apply(this,arguments)},a=Object.create(a||null),a[u-1]=r,(void 0===a.length||a.length<u)&&(a.length=u),e)for(c=d=0,p=e.length;p>d;c=++d)n=e[c],c!==u-1&&void 0===a[c]&&(a[c]=n);return f=l.catchError(s,o,a),f&&r(f),null},t.prototype.runAll=function(t,n){var r,i;if(null==t&&(t=e),null==n&&(n=null),"function"!=typeof t)throw new TypeError("ASync runAll(): passed callback is not a function");return this._arr.length?(i=function(e){return function(){var i,o;return o=arguments[0],i=2<=arguments.length?a.call(arguments,1):[],null!=o?t.call(n,o):e._arr.length?r(i):t.apply(n,arguments)}}(this),r=function(e){return function(t){return e.callNext(t,i)}}(this),r(),null):t.call(n,null)},t.prototype.runAllSimultaneously=function(t,n){var r,i,o,s;if(null==t&&(t=e),null==n&&(n=null),i=o=this._arr.length/3,r=0,!i)return t.call(n);for(s=function(e){return++r,r>i?void 0:e?(r=i,t.call(n,e)):r===i?t.call(n):void 0};o--;)this.callNext(s);return null},t}(),n.exports=function(){return l=arguments[0],l.async={forEach:i,Stack:t}}}.call(this),n.exports}(),t["../utils/index.coffee.md"]=function(){var n={exports:t["../utils/index.coffee.md"]},r=e.bind(null,{"./namespace":"../utils/namespace.coffee.md","./stringifying":"../utils/stringifying.coffee.md","./async":"../utils/async.coffee.md"}),i=n.exports;return function(){var e,t,n,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E;switch(w=Object.prototype.toString,s=Function.prototype.toString,d=Array.isArray,E=Array.prototype,S=E.shift,v=E.pop,n=Object.create,u=Object.getPrototypeOf,a=Object.getOwnPropertyNames,y=Object.keys,f=Object.hasOwnProperty,l=Object.getOwnPropertyDescriptor,o=Object.defineProperty,x=Math.random,r("./namespace")(i),r("./stringifying")(i),r("./async")(i),i.isNode=i.isServer=i.isClient=i.isBrowser=i.isQt=i.isAndroid=i.isIOS=!1,!0){case null!=("undefined"!=typeof Qt&&null!==Qt?Qt.include:void 0):i.isClient=i.isQt=!0;break;case"undefined"!=typeof android&&null!==android:i.isClient=i.isAndroid=!0;break;case"ios"===("undefined"!=typeof _neft&&null!==_neft?_neft.platform:void 0):i.isClient=i.isIOS=!0;break;case null!=("undefined"!=typeof window&&null!==window?window.document:void 0):i.isClient=i.isBrowser=!0;break;case"undefined"!=typeof process&&null!==process&&"[object process]"===Object.prototype.toString.call(process):i.isNode=i.isServer=!0}i.NOP=function(){},i.is=Object.is||function(e,t){return 0===e&&0===t?1/e===1/t:e!==e?t!==t:e===t},i.isFloat=function(e){return"number"==typeof e&&isFinite(e)},i.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&9007199254740992>e&&Math.floor(e)===e},m=i.isPrimitive=function(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"undefined"==typeof e},h=i.isObject=function(e){return null!==e&&"object"==typeof e},i.isPlainObject=function(e){var t;return h(e)?(t=u(e),t&&(t!==Object.prototype||u(t))?!1:!0):!1},i.isArguments=function(e){return"[object Arguments]"===w.call(e)},_=i.merge=function(e,t){var n,r;for(n in t)r=t[n],t.hasOwnProperty(n)&&(e[n]=r);return e},i.mergeAll=function(e){var t,n,r,i,o,s;for(t=o=1,s=arguments.length;s>o;t=o+=1)if(null!=(r=arguments[t]))for(n in r)i=r[n],r.hasOwnProperty(n)&&(e[n]=i);return e},g=i.mergeDeep=function(e,t){var n,r,i;for(n in t)i=t[n],f.call(t,n)&&(r=e[n],!i||"object"!=typeof i||d(i)||!r||"object"!=typeof r||d(r)?e[n]=i:g(r,i));return e},i.fill=function(e,t){var n,r;for(n in t)r=t[n],f.call(t,n)&&n in e&&!f.call(e,n)&&(e[n]=r);return e},i.remove=function(e,t){var n;d(e)?(n=e.indexOf(t),-1!==n&&(0===n?e.shift():n===e.length-1?e.pop():e.splice(n,1))):delete e[t]},i.removeFromUnorderedArray=function(e,t){var n;n=e.indexOf(t),-1!==n&&(e[n]=e[e.length-1],e.pop())},i.getPropertyDescriptor=function(e,t){for(var n;e&&!n;)n=l(e,t),e=u(e);return n},i.lookupGetter=function(){var e;return Object.prototype.__lookupGetter__&&(e=Object.prototype.lookupGetter),function(e,t){var n,r;return(n=i.getPropertyDescriptor(e,t))?(null!=(r=n.get)?r.trueGetter:void 0)||n.get:void 0}}(),i.lookupSetter=function(){return Object.prototype.__lookupSetter__?Function.call.bind(Object.prototype.__lookupSetter__):function(e,t){var n;return n=i.getPropertyDescriptor(e,t),null!=n?n.set:void 0}}(),o(i,"WRITABLE",{value:1}),o(i,"ENUMERABLE",{value:2}),o(i,"CONFIGURABLE",{value:4}),i.defineProperty=function(){var e,t,n,r,s,l,a;return n=i.WRITABLE,t=i.ENUMERABLE,e=i.CONFIGURABLE,s={enumerable:!0,configurable:!0},a=i.merge({writable:!0,value:null},s),r=i.merge({get:void 0,set:void 0},s),l="undefined"!=typeof navigator&&null!==navigator?/^((?!chrome).)*safari/i.test(navigator.userAgent):!1,function(i,s,u,c,f){var d,p;return void 0===f?(d=a,a.value=c,a.writable=u&n):(l&&c&&(p=c,c=function(){return this!==i&&this.hasOwnProperty(s)?this[s]:p.call(this)}),d=r,r.get="function"==typeof c?c:void 0,r.set="function"==typeof f?f:void 0),d.enumerable=u&t,d.configurable=u&e,o(i,s,d),i}}(),e=i.clone=function(e){var t,r,i,o,s,l;if(d(e))return e.slice();if(h(e)){for(r=u(e),i=r===Object.prototype?{}:n(r),l=y(e),o=0,s=l.length;s>o;o++)t=l[o],i[t]=e[t];return i}return e},t=i.cloneDeep=function(n){var r,i,o,s,l;if(i=e(n),h(i))for(l=y(i),o=0,s=l.length;s>o;o++)r=l[o],i[r]=t(i[r]);return i},i.isEmpty=function(e){var t;if("string"==typeof e)return""===e;if(d(e))return!e.length;for(t in e)return!1;return!0},i.last=function(e){return e[e.length-1]},i.clear=function(e){var t,n,r,i,o,s,l;if(d(e))for(n=r=0,s=e.length;s>r;n=r+=1)e.pop();else for(l=y(e),i=0,o=l.length;o>i;i++)t=l[i],delete e[t];return e},b=i.setPrototypeOf=function(){var e;return"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:(e={},e.__proto__={a:1},1===e.a?function(e,t){return e.__proto__=t,e}:function(e,t){var r;return"object"==typeof e?(r=n(t),_(r,e)):_(e,t),r})}(),c=i.has=function(e,t){var n,r;if("string"==typeof e)return!!~e.indexOf(t);if(d(e))return!!~Array.prototype.indexOf.call(e,t);for(n in e)if(r=e[n],f.call(e,n)&&r===t)return!0;return!1},i.objectToArray=function(e,t,n){var r,i,o,s,l,a;for(o=y(e),null==n&&(n=o),r=l=0,a=o.length;a>l;r=++l)i=o[r],s=t?t(i,e[i],e):e[i],n[r]=s;return n},i.arrayToObject=function(e,t,n,r){var i,o,s,l,a,u;for(null==r&&(r={}),o=a=0,u=e.length;u>a;o=++a)i=e[o],s=t?t(o,i,e):o,l=n?n(o,i,e):i,null!=s&&(r[s]=l);return r},i.capitalize=function(e){return e.length?e[0].toUpperCase()+e.slice(1):""},i.addSlashes=function(){var e,t;return t=/'|"/g,e="\\$&",function(n){return n.length?n.replace(t,e):n}}(),i.uid=function(e){var t;for(null==e&&(e=8),t="";;)if(t+=x().toString(16).slice(2),t.length>=e)break;return t.length!==e&&(t=t.slice(0,e)),t},i.tryFunction=function(e,t,n,r){var i;try{return e.apply(t,n)}catch(o){return i=o,"function"==typeof r?r(i):r}},i.catchError=function(e,t,n){var r;try{e.apply(t,n)}catch(i){return r=i}},i.bindFunctionContext=function(e,t){switch(e.length){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)};case 6:return function(n,r,i,o,s,l){return e.call(t,n,r,i,o,s,l)};case 7:return function(n,r,i,o,s,l,a){return e.call(t,n,r,i,o,s,l,a)};default:return function(){return e.apply(t,arguments)}}},i.errorToObject=function(e){var t;return t={name:e.name,message:e.message},i.merge(t,e),t},i.getOwnProperties=function(e){var t;return t=d(e)?[]:{},_(t,e),t},p=i.isEqual=function(){var e,t,n;return e=function(e,t){return e===t},t=function(e,t,n,r){var i,o,s,l,a,c,f,d,h,m,_;if(u(e)!==u(t))return!1;if(e.length!==t.length)return!1;if(0>=r)return!0;for(l=0,d=e.length;d>l;l++){for(i=e[l],s=!1,a=0,h=t.length;h>a;a++)if(o=t[a],o&&"object"==typeof o)p(i,o,n,r-1)&&(s=!0);else if(n(i,o)){s=!0;break}if(!s)return!1}for(c=0,m=t.length;m>c;c++){for(o=t[c],s=!1,f=0,_=e.length;_>f;f++)if(i=e[f],i&&"object"==typeof i)p(o,i,n,r-1)&&(s=!0);else if(n(o,i)){s=!0;break}if(!s)return!1}return!0},n=function(e,t,n,r){var i,o;if(u(e)!==u(t))return!1;for(i in e)if(o=e[i],e.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;for(i in t)if(o=t[i],t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;if(0>=r)return!0;for(i in e)if(o=e[i],e.hasOwnProperty(i))if(o&&"object"==typeof o){if(!p(o,t[i],n,r-1))return!1}else if(!n(o,t[i]))return!1;return!0},function(r,i,o,s){return null==o&&(o=e),null==s&&(s=1/0),"number"==typeof o&&(s=o,o=e),0>s?o(r,i):d(r)&&d(i)?t(r,i,o,s):h(r)&&h(i)?n(r,i,o,s):o(r,i)}}()}.call(this),n.exports}(),t["../assert/index.coffee.md"]=function(){{var n={exports:t["../assert/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md"});n.exports}return function(){{var e;({}).hasOwnProperty}e=r("utils")}.call(this),n.exports}(),t["../log/impls/browser/index.coffee"]=function(){{var n={exports:t["../log/impls/browser/index.coffee"]};e.bind(null,{}),n.exports}return function(){var e,t,r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=function(){var e;return(null!=(e=window.performance)?e.now:void 0)?window.performance:Date}(),e=window.console.log,n.exports=function(){return/chrome|safari/i.test(navigator.userAgent)||"undefined"!=typeof webkit&&null!==webkit?function(n){var r;return r=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,n),r.MARKERS=function(){var e,t;return t=["",""],e=function(e,n,r){return null==n&&(n="normal"),t[0]="%c"+r,t[1]="color: "+e+"; font-weight: "+n,t},{white:e.bind(null,"black",null),green:e.bind(null,"green",null),gray:e.bind(null,"gray",null),blue:e.bind(null,"blue",null),yellow:e.bind(null,"orange",null),red:e.bind(null,"red",null),bold:e.bind(null,"black","bold")}}(),r.time=t.now.bind(t),r.timeDiff=function(e){return r.time()-e},r.prototype._write=function(t){return e.apply(window.console,t)},r}(n)}:{}}()}.call(this),n.exports}(),t["../log/index.coffee.md"]=function(){{var n={exports:t["../log/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md","./impls/browser/index.coffee":"../log/impls/browser/index.coffee"});n.exports}return function(){var e,t,i,o,s,l,a,u,c=[].slice;u=r("utils"),i=Function.bind,l=Array.isArray,a=Array.prototype.unshift,o=function(e){var t,n,r,i;for(n="",r=0,i=e.length;i>r;r++)t=e[r],n+=""+t+" → ";return n.substring(0,n.length-3)},e=function(){function e(e){var n,r,o,s,l,a,c,f;if(this.prefixes=e,e)for(n=u.clone(e),n.unshift(this),f=t.LOGS_METHODS,a=0,c=f.length;c>a;a++)s=f[a],this[s]=i.apply(this[s],n);for(o in this)l=this[o],this[o]=l;return"function"==typeof this.log?(r=function(e){return function(){return!0}}(this),u.merge(r,this)):void 0}var n,r,s,l,f;for(e.LOGS_METHODS=["info","warn","error","time","ok"],e.TIMES_LEN=50,e.MARKERS={white:function(e){return"LOG: "+e},green:function(e){return"OK: "+e},gray:function(e){return""+e},blue:function(e){return"INFO: "+e},yellow:function(e){return"WARN: "+e},red:function(e){return"ERROR: "+e}},e.time=Date.now,e.timeDiff=function(t){return e.time()-t},e.times=new Array(e.TIMES_LEN),f=e.times,n=s=0,l=f.length;l>s;n=++s)r=f[n],e.times[n]=[0,""];return e.prototype._write=("undefined"!=typeof console&&null!==console?console.log.bind(console):void 0)||function(){},n=0,e.prototype.LOG=1<<n++,e.prototype.INFO=1<<n++,e.prototype.OK=1<<n++,e.prototype.WARN=1<<n++,e.prototype.ERROR=1<<n++,e.prototype.TIME=1<<n++,e.prototype.ALL=(1<<n++)-1,e.prototype.enabled=e.prototype.ALL,e.prototype.log=function(){this.enabled&this.LOG&&this._write(t.MARKERS.white(o(arguments)))},e.prototype.info=function(){this.enabled&this.INFO&&this._write(t.MARKERS.blue(o(arguments)))},e.prototype.ok=function(){this.enabled&this.OK&&this._write(t.MARKERS.green(o(arguments)))},e.prototype.warn=function(){this.enabled&this.WARN&&this._write(t.MARKERS.yellow(o(arguments)))},e.prototype.error=function(){this.enabled&this.ERROR&&this._write(t.MARKERS.red(o(arguments)))},e.prototype.time=function(){var e,r,i,s,l;if(!(this.enabled&this.TIME))return-1;for(r=t.times,n=s=0,l=r.length;l>s;n=++s)if(i=r[n],!i[0]){e=n,r[n][0]=t.time(),r[n][1]=o(arguments);break}return e},e.prototype.end=function(e){var n,r,i;-1!==e&&(i=t.times[e],n=t.timeDiff(i[0]),n=n.toFixed(2),r=""+i[1]+": "+n+" ms",this._write(t.MARKERS.gray(r)),i[0]=0)},e.prototype.scope=function(){var e;return e=1<=arguments.length?c.call(arguments,0):[],this.prefixes&&a.apply(e,this.prefixes),new t(e)},e}(),s=function(){switch(!0){case u.isNode:return r("./impls/node/index.coffee");case u.isBrowser:case u.isIOS:return r("./impls/browser/index.coffee")}}(),t="function"==typeof s?s(e):e,n.exports=new t}.call(this),n.exports}(),t["../signal/emitter.coffee"]=function(){{var n={exports:t["../signal/emitter.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){var n;return n=function(){function n(){this._signals={}}var r,i,o;return i=t.callSignal,r=function(){},o=t.createSignalFunction(),n.emitSignal=function(e,t,n,r){var o;return e&&(o=e._signals[t])?i(e,o,n,r):void 0},n.createSignalOnObject=function(t,n,r){var i;return i=function(){var e,t;return t=this._signals,(e=t[n])||(e=t[n]=[null,null,null,null],"function"==typeof r&&r(this,n)),o.obj=this,o.listeners=e,o},e.defineProperty(t,n,null,i,null),i},n.createSignal=function(e,t,r){return n.createSignalOnObject(e.prototype,t,r)},n}()}}.call(this),n.exports}(),t["../signal/index.coffee.md"]=function(){var n={exports:t["../signal/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md","./emitter":"../signal/emitter.coffee"}),i=n.exports;return function(){var e,t,n,o,s;s=r("utils"),e=i.STOP_PROPAGATION=1<<30,i.create=function(e,t){var n;return n=o(e),void 0===t?n:e[t]=n},i.isEmpty=function(e){var t,n,r,i;for(i=e.listeners,n=0,r=i.length;r>n;n+=2)if(t=i[n],null!==t)return!1;return!0},n=function(t,n,r,i){var o,s,l,a,u,c;for(l=c=0,a=n.length,u=0;a>l;)s=n[l],null===s?c-=2:(o=n[l+1],0!==c&&(n[l+c]=s,n[l+c+1]=o,n[l]=null,n[l+1]=null),0>=u&&s.call(o||t,r,i)===e&&(u=e)),l+=2;return u},o=function(e){var n;return n=function(e,t){return n.connect(e,t)},n.obj=e,n.listeners=[],s.setPrototypeOf(n,t),n},t={emit:function(e,t){return n(this.obj,this.listeners,e,t)},connect:function(e,t){var n,r,i;for(null==t&&(t=null),r=this.listeners,n=i=r.length;(n-=2)>=0&&null===r[n];);n+2===i?r.push(e,t):(r[n+2]=e,r[n+3]=t)},disconnect:function(e,t){var n,r;for(null==t&&(t=null),r=this.listeners,n=0;;){if(n=r.indexOf(e,n),-1===n||r[n+1]===t)break;n+=2}r[n]=null,r[n+1]=null},disconnectAll:function(){var e,t,n,r,i;for(t=this.listeners,e=r=0,i=t.length;i>r;e=++r)n=t[e],t[e]=null}},i.Emitter=r("./emitter")({create:i.create,createSignalFunction:o,callSignal:n})}.call(this),n.exports}(),t["../list/index.coffee.md"]=function(){{var n={exports:t["../list/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=r("utils"),t=r("signal"),n.exports=e=function(e){function n(e){return null==e&&(e=[]),this instanceof n?(n.__super__.constructor.call(this),void(this._data=e)):new n(e)}var r;return s(n,e),n.__name__="List",n.__path__="List",i.defineProperty(n.prototype,"0",null,function(){throw"Can't get elements from a list as properties; use `List::get()` method instead"},function(){throw"Can't set elements into a list with properties; use `List::set()` method instead"}),t.Emitter.createSignal(n,"onChange"),t.Emitter.createSignal(n,"onInsert"),t.Emitter.createSignal(n,"onPop"),r=i.CONFIGURABLE,i.defineProperty(n.prototype,"length",r,function(){return this._data.length},null),n.prototype.get=function(e){return this._data[e]},n.prototype.set=function(e,t){var n;return n=this._data[e],n===t?t:(this._data[e]=t,this.onChange.emit(n,e),t)},n.prototype.items=function(){return this._data},n.prototype.append=function(e){return this._data.push(e),this.onInsert.emit(e,this.length-1),e},n.prototype.insert=function(e,t){return this._data.splice(e,0,t),this.onInsert.emit(t,e),t},n.prototype.extend=function(e){var t,r,i,o;for(t=e instanceof n?e.items():e,i=0,o=t.length;o>i;i++)r=t[i],this.append(r);return e},n.prototype.remove=function(e){var t;return t=this.index(e),-1!==t&&this.pop(t),e},n.prototype.pop=function(e){var t;return void 0===e&&(e=this.length-1),t=this._data[e],this._data.splice(e,1),this.onPop.emit(t,e),t},n.prototype.clear=function(){for(;this._data.length;)this.pop();return null},n.prototype.index=function(e){return this._data.indexOf(e)},n.prototype.has=function(e){return-1!==this.index(e)},n.prototype.toJSON=function(){return this._data},n.prototype.toString=function(){return this._data+""},n}(t.Emitter)}.call(this),n.exports}(),t["../dict/index.coffee.md"]=function(){{var n={exports:t["../dict/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=r("utils"),t=r("signal"),n.exports=e=function(e){function n(e){return null==e&&(e={}),this instanceof n?(n.__super__.constructor.call(this),this._data=e,this._keys=null,this._values=null,this._items=null,void(this._dirty=r)):new n(e)}var r,o,l,a,u;return s(n,e),n.__name__="Dict",n.__path__="Dict",l=1,a=2,o=4,r=(o<<1)-1,n.fromJSON=function(e){return e=i.tryFunction(JSON.parse,JSON,[e],e),new n(e)},u=i.CONFIGURABLE|i.ENUMERABLE,i.defineProperty(n.prototype,"length",u,function(){return this.keys().length},null),t.Emitter.createSignal(n,"onChange"),n.prototype.get=function(e){return this._data[e]},n.prototype.set=function(e,t){var n;return n=this._data[e],n===t?this:(this._data[e]=t,this._dirty|=r,this.onChange.emit(e,n),t)},n.prototype.has=function(e){return void 0!==this._data[e]},n.prototype.extend=function(e){var t,r,i;r=e instanceof n?e._data:e;for(t in r)i=r[t],this.set(t,i);return e},n.prototype.pop=function(e){var t;t=this._data[e],this._data[e]=void 0,this._dirty|=r,this.onChange.emit(e,t)},n.prototype.clear=function(){var e,t,n;n=this._data;for(e in n)t=n[e],void 0!==t&&this.pop(e)},n.prototype.keys=function(){var e,t,n,r,i;if(this._dirty&l){this._dirty^=l,e=null!=this._keys?this._keys:this._keys=[],t=0,i=this._data;for(n in i)r=i[n],void 0!==r&&(e[t]=n,t++);e.length=t}return this._keys},n.prototype.values=function(){var e,t,n,r,i;if(this._dirty&a){this._dirty^=a,e=null!=this._values?this._values:this._values=[],t=0,i=this._data;for(n in i)r=i[n],void 0!==r&&(e[t]=r,t++);e.length=t}return this._values},n.prototype.items=function(){var e,t,n,r,i;if(this._dirty&o){e=null!=this._values?this._values:this._values=[],t=0,i=this._data;for(n in i)r=i[n],void 0!==r&&(null==e[t]&&(e[t]=["",null]),e[t][0]=n,e[t][1]=r,t++);e.length=t}return this._values},n.prototype.toJSON=function(){return this._data},n.prototype.toString=function(){return this._data+""},n}(t.Emitter)}.call(this),n.exports}(),t["../db/implementations/browser/localStorage.coffee"]=function(){var n={exports:t["../db/implementations/browser/localStorage.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md"}),i=n.exports;return function(){var e;e=r("utils"),i.get=function(t,n){var r;return r=localStorage.getItem(t),r=e.tryFunction(JSON.parse,null,[r],r),n(null,r)},i.set=function(t,n,r){return e.isObject(n)&&(n=e.tryFunction(JSON.stringify,null,[n],n)),localStorage.setItem(t,n),r(null)},i.remove=function(e,t){return localStorage.removeItem(e),t(null)}}.call(this),n.exports}(),t["../db/implementations/browser.coffee"]=function(){{var n={exports:t["../db/implementations/browser.coffee"]},r=e.bind(null,{"./browser/localStorage":"../db/implementations/browser/localStorage.coffee"});n.exports}return function(){var e;e=r("./browser/localStorage"),n.exports=function(){return null!=window.localStorage?e:void 0
}()}.call(this),n.exports}(),t["../db/implementations/memory.coffee"]=function(){var n={exports:t["../db/implementations/memory.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md"}),i=n.exports;return function(){var e,t;t=r("utils"),e=Object.create(null),i.get=function(n,r){var i;return i=e[n],i=t.cloneDeep(i),r(null,i)},i.set=function(t,n,r){return e[t]=n,r(null)},i.remove=function(t,n){return e[t]=void 0,n(null)}}.call(this),n.exports}(),t["../db/implementation.coffee"]=function(){{var n={exports:t["../db/implementation.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","./implementations/browser":"../db/implementations/browser.coffee","./implementations/memory":"../db/implementations/memory.coffee"});n.exports}return function(){var e;e=r("utils"),n.exports=function(){var t;return e.isBrowser&&(t=r("./implementations/browser")),t||(t=r("./implementations/memory")),t}()}.call(this),n.exports}(),t["../db/index.coffee.md"]=function(){var n={exports:t["../db/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",list:"../list/index.coffee.md",dict:"../dict/index.coffee.md","./implementation":"../db/implementation.coffee"}),i=n.exports;return function(){var e,t,n,o,s,l,a,u,c,f,d,p={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};c=r("utils"),s=r("list"),o=r("dict"),l=function(){},u=r("./implementation"),d=Object.create(null),f=Object.create(null),i.OBSERVABLE=1<<29,e=i.OBSERVABLE,i.get=function(e,r,o){return"function"==typeof r&&(o=r,r=0),r&i.OBSERVABLE&&null!=f[e]?o(null,f[e].spawn()):void u.get(e,function(s,l){var a;return null==s&&l?(r&i.OBSERVABLE&&(Array.isArray(l)?l=new n(e,l,r):c.isObject(l)&&(l=new t(e,l,r)),l=(null!=(a=f[e])?a.spawn():void 0)||l),o(null,l)):o(s,l)})},i.set=function(e,t,n){var r;null==n&&(n=l),null!=(r=f[e])&&r.disconnect(),u.set(e,t,n)},i.remove=function(e,t,n){var r;null==n&&(n=l),"function"==typeof t&&(n=t,t=null),null!=t?i.get(e,function(r,i){var o,s,l,a,d,p,h,m,_;if(null!=r)return n(r);if(!Array.isArray(i))return n(new Error("'"+e+"' is not an array"));if(a=f[e])if(-1!==(s=a.items().indexOf(t)))a.pop(s);else for(_=a.items(),o=d=0,h=_.length;h>d;o=++d)if(l=_[o],c.isEqual(l,t)){a.pop(o);break}if(-1!==(s=i.indexOf(t)))i.splice(s,1);else for(o=p=0,m=i.length;m>p;o=++p)if(l=i[o],c.isEqual(l,t)){i.splice(o,1);break}return u.set(e,i,n)}):(null!=(r=f[e])&&r.disconnect(),u.remove(e,n))},i.append=function(e,t,n){null==n&&(n=l),i.get(e,function(r,i){var o;return null!=r?n(r):(null==i&&(i=[]),Array.isArray(i)?(null!=(o=f[e])&&o.append(t),i.push(t),u.set(e,i,n)):n(new Error("'"+e+"' is not an array")))})},a=function(e,t){return c.defineProperty(e,t,null,function(){return Object.getPrototypeOf(this)[t]},function(e){return Object.getPrototypeOf(this)[t]=e})},n=function(e){function t(e,r,i){this._key=e,t.__super__.constructor.call(this,r),f[e]=this,this.onChange(n),this.onInsert(n),this.onPop(n)}var n;return h(t,e),n=function(e){this._isConnected&&u.set(this._key,this._data,l)},t.prototype.spawn=function(){var e;return d[this._key]=d[this._key]+1||1,e=Object.create(f[this._key]),e._isConnected=!0,e},t.prototype.disconnect=function(){this._isConnected&&(this._isConnected=!1,--d[this._key]||(f[this._key]=null))},t}(s),t=function(e){function t(e,r,i){this._key=e,t.__super__.constructor.call(this,r),f[e]=this,this.onChange(n)}var n;return h(t,e),n=function(e){this._isConnected&&u.set(this._key,this._data,l)},t.prototype.spawn=function(){var e;return d[this._key]=d[this._key]+1||1,e=Object.create(f[this._key]),e._isConnected=!0,a(e,"_keys"),a(e,"_values"),a(e,"_items"),a(e,"_dirty"),e},t.prototype.disconnect=function(){this._isConnected&&(this._isConnected=!1,--d[this._key]||(f[this._key]=null))},t}(o)}.call(this),n.exports}(),t["../schema/validators/array.coffee.md"]=function(){{var n={exports:t["../schema/validators/array.coffee.md"]};e.bind(null,{}),n.exports}return function(){var e;e=Array.isArray,n.exports=function(t){return function(n,r,i){if(i&&!e(r))throw new t.Error(n,"array",""+n+" must be an array")}}}.call(this),n.exports}(),t["../schema/validators/object.coffee.md"]=function(){{var n={exports:t["../schema/validators/object.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){return function(n,r,i){var o,s;if(i){if(!e.isObject(r))throw new t.Error(n,"object",""+n+" must be an object");if(s=null!=i?i.properties:void 0)for(o in r)if(!~s.indexOf(o))throw new t.Error(n,"object.properties",""+n+" doesn't provide "+o+" property")}}}}.call(this),n.exports}(),t["../schema/validators/optional.coffee.md"]=function(){{var n={exports:t["../schema/validators/optional.coffee.md"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return function(){}}}.call(this),n.exports}(),t["../schema/validators/max.coffee.md"]=function(){{var n={exports:t["../schema/validators/max.coffee.md"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),n.exports}return function(){n.exports=function(e){return function(t,n,r){if(!n||n.length>r)throw new e.Error(t,"max","Maximum range of "+t+" is "+r)}}}.call(this),n.exports}(),t["../schema/validators/min.coffee.md"]=function(){{var n={exports:t["../schema/validators/min.coffee.md"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),n.exports}return function(){n.exports=function(e){return function(t,n,r){if(!n||n.length<r)throw new e.Error(t,"min","Minimum range of "+t+" is "+r)}}}.call(this),n.exports}(),t["../schema/validators/options.coffee.md"]=function(){{var n={exports:t["../schema/validators/options.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){return function(n,r,i){var o;if(o=Array.isArray(i)?e.has(i,r):i.hasOwnProperty(r),!o)throw new t.Error(n,"options","Passed "+n+" value is not acceptable")}}}.call(this),n.exports}(),t["../schema/validators/regexp.coffee.md"]=function(){{var n={exports:t["../schema/validators/regexp.coffee.md"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),n.exports}return function(){n.exports=function(e){return function(t,n,r){if(!r.test(n))throw new e.Error(t,"regexp",""+t+" doesn't pass the regular expression")}}}.call(this),n.exports}(),t["../schema/validators/type.coffee.md"]=function(){{var n={exports:t["../schema/validators/type.coffee.md"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),n.exports}return function(){n.exports=function(e){return function(t,n,r){if(typeof n!==r)throw new e.Error(t,"type",""+t+" must be a "+r)}}}.call(this),n.exports}(),t["../schema/index.coffee.md"]=function(){{var n={exports:t["../schema/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md","./validators/array":"../schema/validators/array.coffee.md","./validators/object":"../schema/validators/object.coffee.md","./validators/optional":"../schema/validators/optional.coffee.md","./validators/max":"../schema/validators/max.coffee.md","./validators/min":"../schema/validators/min.coffee.md","./validators/options":"../schema/validators/options.coffee.md","./validators/regexp":"../schema/validators/regexp.coffee.md","./validators/type":"../schema/validators/type.coffee.md"});n.exports}return function(){var e,t,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=r("utils"),t=function(e){function t(e,n,r){this.property=e,this.validator=n,this.message=r,t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.name="SchemaError",t.prototype.message="",t}(Error),n.exports=e=function(){function e(e){var t,n;this.schema=e;for(n in e)t=e[n]}var n;return e.Error=t,e.prototype.schema=null,n={array:r("./validators/array")(e),object:r("./validators/object")(e),optional:r("./validators/optional")(e),max:r("./validators/max")(e),min:r("./validators/min")(e),options:r("./validators/options")(e),regexp:r("./validators/regexp")(e),type:r("./validators/type")(e)},e.prototype.validate=function(e){var r,o,s,l,a,u,c,f,d,p,h;for(o in e)if(!this.schema.hasOwnProperty(o))throw new t(o,null,"Unexpected "+o+" property");h=this.schema;for(o in h){if(s=h[o],f=i.get(e,o),null==f&&!s.optional)throw new t(o,"optional","Required property "+o+" not found");for(a in s)if(u=s[a],l=n[a],f instanceof i.get.OptionsArray)for(r=d=0,p=f.length;p>d;r=++d)c=f[r],l(o,c,u);else l(o,f,u)}return!0},e}()}.call(this),n.exports}(),t["../networking/impl/browser/index.coffee"]=function(){{var n={exports:t["../networking/impl/browser/index.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","./request.coffee":"../networking/impl/browser/request.coffee","./response.coffee":"../networking/impl/browser/response.coffee"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){var n;return n={},{Request:r("./request.coffee")(t),Response:r("./response.coffee")(t,n),init:function(e){var r,i;r=!1,n.changePage=window.location.neftChangePage=function(n){var r;return r=e.createLocalRequest({method:t.Request.GET,type:t.Request.HTML_TYPE,uri:n})},window.addEventListener("popstate",function(){return r?n.changePage(location.pathname+location.search):void 0}),document.addEventListener("click",function(t){var r;return r=t.target,"A"!==r.nodeName||r.getAttribute("target")?void 0:0!==r.href.indexOf(e.url)||/^\/static\//.test(r.pathname)?void 0:(t.preventDefault(),n.changePage(r.pathname+r.search))}),i=function(){"complete"===document.readyState&&setTimeout(function(){return r=!0,n.changePage(location.pathname+location.search)})},"complete"===document.readyState?i():document.addEventListener("readystatechange",i)},sendRequest:function(n,r,i){var o,s,l,a,u,c,f,d;o=t.Request,f=new XMLHttpRequest,u=n.uri.toString(),u=e.has(u,"?")?""+u+"&now="+Date.now():""+u+"?now="+Date.now(),f.open(n.method,u,!0),d=n.headers;for(a in d)c=d[a],f.setRequestHeader(a,c);return f.setRequestHeader("X-Expected-Type",n.type),(s=e.tryFunction(JSON.stringify,null,[n.cookies],null))&&f.setRequestHeader("X-Cookies",s),f.onload=function(){var t;return t=f.response,n.type===o.JSON_TYPE&&"string"==typeof t&&(t=e.tryFunction(JSON.parse,null,[t],t)),(s=f.getResponseHeader("X-Cookies"))&&(s=e.tryFunction(JSON.parse,null,[s],null)),i({status:f.status,data:t,cookies:s})},f.onerror=function(){return i({status:f.status,data:f.response})},l=e.isObject(n.data)?e.tryFunction(JSON.stringify,null,[n.data],n.data):n.data,f.send(l)}}}}.call(this),n.exports}(),t["../networking/impl.coffee"]=function(){{var n={exports:t["../networking/impl.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md","./impl/browser/index":"../networking/impl/browser/index.coffee"});n.exports}return function(){var e,t;t=r("utils"),e=function(){switch(!0){case t.isNode:return r("./impl/node/index");case t.isBrowser:return r("./impl/browser/index");case t.isIOS:return r("./impl/ios/index");case t.isQt:return r("./impl/qt/index");case t.isAndroid:return r("./impl/android/index")}}(),n.exports=function(t){return e(t)}}.call(this),n.exports}(),t["../networking/impl/browser/request.coffee"]=function(){{var n={exports:t["../networking/impl/browser/request.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){}}.call(this),n.exports}(),t["../document/element/element/text.coffee.md"]=function(){{var n={exports:t["../document/element/element/text.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=r("utils"),t=r("signal"),e=t.Emitter.emitSignal,n.exports=function(n){var r;return r=function(r){function o(){n.call(this),this._text=""}var l,a,u,c,f;return s(o,r),o.__name__="Text",o.__path__="File.Element.Text",a=o.JSON_CTOR_ID=n.JSON_CTORS.push(o)-1,c=n.JSON_ARGS_LENGTH,u=c++,l=o.JSON_ARGS_LENGTH=c,o._fromJSON=function(e,t){return null==t&&(t=new o),n._fromJSON(e,t),t.text=e[u],t},o.prototype.clone=function(){var e;return e=new o,e._text=this._text,e},t.Emitter.createSignal(o,"onTextChange"),f=i.CONFIGURABLE,i.defineProperty(o.prototype,"text",f,function(){return this._text},function(t){var r;return r=this._text,r===t?!1:(this._text=t,e(this,"onTextChange",r),n.Tag.query.checkWatchersDeeply(this),!0)}),o.prototype.toJSON=function(e){return e||(e=new Array(l),e[0]=a),o.__super__.toJSON.call(this,e),e[u]=this.text,e},o}(n)}}.call(this),n.exports}(),t["../document/element/element/tag/stringify.coffee"]=function(){{var n={exports:t["../document/element/element/tag/stringify.coffee"]};e.bind(null,{}),n.exports}return function(){var e,t,r,i;e={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},i=function(e){return!/^(?:neft:|style:)/.test(e)},t=function(e,t){var n,i,o,s,l;if(e.children){for(i="",l=e.children,o=0,s=l.length;s>o;o++)n=l[o],i+=r(n,t);return i}return""},r=function(n,r){var o,s,l,a,u,c;if(n._visible===!1)return"";if(void 0!==n._text)return n._text;if(r&&(a=r[n.name])&&(n=a(n)||n),l=n.name,!l||!i(l))return t(n,r);u="<"+l,c=n._attrs;for(o in c)s=c[o],null!=s&&i(o)&&(u+=" "+o+'="'+s+'"');return e[l]?u+">":u+">"+t(n,r)+"</"+l+">"},n.exports={getInnerHTML:t,getOuterHTML:r}}.call(this),n.exports}(),t["../typed-array/index.coffee.md"]=function(){var n={exports:t["../typed-array/index.coffee.md"]},r=(e.bind(null,{}),n.exports);return function(){var e;e=function(e){var t,n,r;for(t=new Array(e),n=r=0;e>r;n=r+=1)t[n]=0;return t},r.Int8=function(){return"undefined"!=typeof Int8Array?Int8Array:e}(),r.Uint8=function(){return"undefined"!=typeof Uint8Array?Uint8Array:e}(),r.Int16=function(){return"undefined"!=typeof Int16Array?Int16Array:e}(),r.Uint16=function(){return"undefined"!=typeof Uint16Array?Uint16Array:e}(),r.Int32=function(){return"undefined"!=typeof Int32Array?Int32Array:e}(),r.Uint32=function(){return"undefined"!=typeof Uint32Array?Uint32Array:e}(),r.Float32=function(){return"undefined"!=typeof Float32Array?Float32Array:e}(),r.Float64=function(){return"undefined"!=typeof Float64Array?Float64Array:e}()}.call(this),n.exports}(),t["../document/element/element/tag.coffee.md"]=function(){{var n={exports:t["../document/element/element/tag.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md","./tag/stringify":"../document/element/element/tag/stringify.coffee","typed-array":"../typed-array/index.coffee.md","./tag/query":"../document/element/element/tag/query.coffee"});n.exports}return function(){var e,t,i,o,s,l,a,u={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=r("utils"),s=r("signal"),l=r("./tag/stringify"),t=r("typed-array"),i=s.Emitter.emitSignal,o=function(e){return null!=e},e=/\#([^\s]+)/,n.exports=function(e){var n;return n=function(n){function o(){e.call(this),this.name="neft:blank",this.children=[],this._attrs={}}var u,f,d,p,h,m,_;return c(o,n),o.INTERNAL_TAGS=["neft:attr","neft:fragment","neft:function","neft:rule","neft:target","neft:use","neft:require","neft:blank","neft:log"],o.DEFAULT_STRINGIFY_REPLACEMENTS=Object.create(null),o.extensions=Object.create(null),o.__name__="Tag",o.__path__="File.Element.Tag",p=o.JSON_CTOR_ID=e.JSON_CTORS.push(o)-1,m=e.JSON_ARGS_LENGTH,h=m++,d=m++,f=m++,u=o.JSON_ARGS_LENGTH=m,o._fromJSON=function(t,n){var r,i,s,l;for(null==n&&(n=new o),e._fromJSON(t,n),n.name=t[h],n._attrs=t[f],l=t[d],i=0,s=l.length;s>i;i++)r=l[i],e.fromJSON(r).parent=n;return n},s.Emitter.createSignal(o,"onChildrenChange"),s.Emitter.createSignal(o,"onAttrsChange"),o.prototype.getAttrByIndex=function(e,t){var n,r,i;null==t&&(t=[]),t[0]=t[1]=void 0,m=0,i=this._attrs;for(n in i){if(r=i[n],m===e){t[0]=n,t[1]=r;break}m++}return t},o.prototype.hasAttr=function(e){return this._attrs.hasOwnProperty(e)},o.prototype.getAttr=function(e){return this._attrs[e]},o.prototype.setAttr=function(e,t){var n;return n=this._attrs[e],n===t?!1:(this._attrs[e]=t,i(this,"onAttrsChange",e,n),_.checkWatchersDeeply(this),!0)},o.prototype.clone=function(){var e;return e=new o,e.name=this.name,e._visible=this._visible,e._attrs=a.cloneDeep(this._attrs),e},o.prototype.cloneDeep=function(){var e,t,n,r,i,o,s;for(t=this.clone(),r=null,s=this.children,i=0,o=s.length;o>i;i++)e=s[i],n=e.cloneDeep(),t.children.push(n),n._parent=t,(n._previousSibling=r)&&(r._nextSibling=n),r=n;return t},o.prototype.getCopiedElement=function(){var e;return e=new t.Uint16(256),function(t,n){var r,i,o;if(t===this)return n;for(m=0,r=t;(o=r._parent)&&(e[m++]=o.children.indexOf(r),r=o,r!==this););for(r=n;m-->0;)i=e[m],r=r.children[i];return r}}(),o.prototype.getChildByAccessPath=function(e){var t,n;for(t=this,n=e.length-1;n>=0;n+=-1)if(m=e[n],!(t=t.children[m]))return null;return t},o.query=_=r("./tag/query")(e,o),o.prototype.queryAll=_.queryAll,o.prototype.query=_.query,o.prototype.watch=_.watch,o.prototype.stringify=function(e){return null==e&&(e=o.DEFAULT_STRINGIFY_REPLACEMENTS),l.getOuterHTML(this,e)},o.prototype.stringifyChildren=function(e){return null==e&&(e=o.DEFAULT_STRINGIFY_REPLACEMENTS),l.getInnerHTML(this,e)},o.prototype.replace=function(e,t){var n;return n=this.children.indexOf(e),e.parent=void 0,t.parent=this,t.index=n,null},o.prototype.toJSON=function(e){var t,n,r,i,s;for(e||(e=new Array(u),e[0]=p),o.__super__.toJSON.call(this,e),e[h]=this.name,n=e[d]=[],e[f]=this._attrs,s=this.children,r=0,i=s.length;i>r;r++)t=s[r],n.push(t.toJSON());return e},o}(e)}}.call(this),n.exports}(),t["../document/element/element/tag/query.coffee"]=function(){{var n={exports:t["../document/element/element/tag/query.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A,C,T,N,R,L,k,F,j={}.hasOwnProperty,D=function(e,t){function n(){this.constructor=e}for(var r in t)j.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};F=r("utils"),L=r("signal"),C=L.Emitter.emitSignal,h=m=null,k=function(e,t,n,r,i,o){for(var s,l,a;n<t.length;){if(a=t[n],a.isIterator)return a(e,t,n+3,r,i,o);if(s=t[n+1],l=t[n+2],!a(e,s,l))return!1;n+=3}return r.call(i,e),!0},y=function(e,t,n,r,i,o){var s,l,a,u;for(u=e.children,l=0,a=u.length;a>l;l++){if(s=u[l],(!(s instanceof h)||"neft:blank"!==s.name)&&k(s,t,n,r,i,o)&&o)return!0;if(s instanceof h&&y(s,t,n,r,i,o)&&o)return!0}return!1},y.isIterator=!0,y.toString=function(){return"anyDescendant"},A=function(e,t,n,r,i,o){var s;if(s=e._parent){if(k(s,t,n,r,i,o))return!0;if("neft:blank"===s.name)return A(s,t,n,r,i,o)}return!1},A.isIterator=!0,A.toString=function(){return"directParent"},g=function(e,t,n,r,i,o){var s,l,a,u;for(u=e.children,l=0,a=u.length;a>l;l++)if(s=u[l],s instanceof h&&"neft:blank"===s.name){if(g(s,t,n,r,i,o)&&o)return!0}else if(k(s,t,n,r,i,o)&&o)return!0;return!1},g.isIterator=!0,g.toString=function(){return"anyChild"},v=function(e,t,n,r,i,o){var s;return(s=e._parent)?k(s,t,n,r,i,o)?!0:v(s,t,n,r,i,o):!1},v.isIterator=!0,v.toString=function(){return"anyParent"},O=function(e,t){return e instanceof h?e.name===t:"#text"===t&&e instanceof m?!0:void 0},O.isIterator=!1,O.toString=function(){return"byName"},I=function(e,t){return e instanceof t},I.isIterator=!1,I.toString=function(){return"byInstance"},P=function(e,t){return e===t},P.isIterator=!1,P.toString=function(){return"byTag"},x=function(e,t){return e instanceof h?void 0!==e._attrs[t]:!1},x.isIterator=!1,x.toString=function(){return"byAttr"},E=function(e,t,n){return e instanceof h?e._attrs[t]==n:!1},E.isIterator=!1,E.toString=function(){return"byAttrValue"},w=function(e,t,n){var r;return e instanceof h&&(r=e._attrs[t],"string"==typeof r)?0===r.indexOf(n):!1},w.isIterator=!1,w.toString=function(){return"byAttrStartsWithValue"},S=function(e,t,n){var r;return e instanceof h&&(r=e._attrs[t],"string"==typeof r)?r.indexOf(n,r.length-n.length)>-1:!1},S.isIterator=!1,S.toString=function(){return"byAttrEndsWithValue"},b=function(e,t,n){var r;return e instanceof h&&(r=e._attrs[t],"string"==typeof r)?r.indexOf(n)>-1:!1},b.isIterator=!1,b.toString=function(){return"byAttrContainsValue"},p=/^#?[a-zA-Z0-9|\-:_]+/,s=/^([ ]*)>([ ]*)|^([ ]+)/,t=/^\[([^\]]+?)\]/,i=/^\[([^=]+?)=([^\]]+?)\]/,e=/^\.([a-zA-Z0-9|\-_]+)/,f=/\^$/,l=/\$$/,o=/\*$/,d=/(?:'|")?([^'"]*)/,N=0,u=1<<N++,c=1<<N++,a=1<<N++,R=[],T=function(n,r){var m,_,C,T,N,L,k,F,j,D,M,U,H,V,W,B,z,q,G;if(null==r&&(r=0),U=!!(r&c),M=null!=(G=R[r])?G[n]:void 0)return M;for(T=U?v:y,_=U?A:g,m=U?"unshift":"push",H=U?"push":"unshift",F=[],D=[F],V=n.trim();V.length;)if("*"===V[0])V=V.slice(1),F[m](I,h,null);else if("&"===V[0])V=V.slice(1),r&u||F[m](P,null,null);else if(N=p.exec(V))V=V.slice(N[0].length),j=N[0],F[m](O,j,null);else if(N=i.exec(V))V=V.slice(N[0].length),B=N[0],j=N[1],W=N[2],W=d.exec(W)[1],k=f.test(j)?w:l.test(j)?S:o.test(j)?b:E,k!==E&&(j=j.slice(0,-1)),F[m](k,j,W);else if(N=t.exec(V))V=V.slice(N[0].length),F[m](x,N[1],null);else if(N=e.exec(V))V=V.slice(N[0].length),F[m](b,"class",N[1]);else if(N=s.exec(V))V=V.slice(N[0].length),C=N[0].trim(),""===C?F[m](T,null,null):">"===C&&F[m](_,null,null);else{if(","!==V[0])throw new Error("queryAll: unexpected selector '"+V+"' in '"+n+"'");F=[],D.push(F),V=V.slice(1),V=V.trim()}for(z=0,q=D.length;q>z;z++)F=D[z],L=!U||r&u?F[0]:F[F.length-3],L!==P&&(r&u&&!(null!=L?L.isIterator:void 0)?F[m](T,null,null):U&&!(null!=L?L.isIterator:void 0)?F[H](T,null,null):U||(null!=L?L.isIterator:void 0)||F[H](T,null,null),r&a&&F[H](P,null,null));return null==R[r]&&(R[r]={}),R[r][n]=D,D},_=function(e){function t(e,n){this.node=e,this.queries=n,t.__super__.constructor.call(this),this.uid=F.uid(),this.nodes=[],this.forceUpdate=!0}var n,r;return D(t,e),n=function(){},r=[],t.watchers=[],t.create=function(e,n){var i;return r.length?(i=r.pop(),i.node=e,i.queries=n,i.forceUpdate=!0):(i=new t(e,n),t.watchers.push(i)),i},L.Emitter.createSignal(t,"onAdd"),L.Emitter.createSignal(t,"onRemove"),t.prototype.test=function(e){var t,r,i,o;for(o=this.queries,r=0,i=o.length;i>r;r++)if(t=o[r],t[t.length-2]=this.node,k(e,t,0,n,null,!0))return!0;return!1},t.prototype.disconnect=function(){var e,t,n;for(n=this.uid,t=this.nodes;e=t.pop();)e._inWatchers[n]=!1,C(this,"onRemove",e);this.onAdd.disconnectAll(),this.onRemove.disconnectAll(),this.node=this.queries=null,r.push(this)},t}(L.Emitter),n.exports=function(e,t){var r,i,o;return h=t,m=e.Text,{getSelectorCommandsLength:n.exports.getSelectorCommandsLength,queryAll:o=function(e,t,n,r){var i,o,s,l,a;for(null==t&&(t=[]),null==n&&(n=t),null==r&&(r=0),s=T(e,r),i=Array.isArray(t)?t.push:t,l=0,a=s.length;a>l;l++)o=s[l],o[0](this,o,3,i,n,!1);return Array.isArray(t)?t:void 0},queryAllParents:function(e,t,n){return o.call(this,e,t,n,c|u)},query:i=function(){var e,t;return e=null,t=function(t){return e=t},function(n,r){var i,o,s,l;for(null==r&&(r=0),o=T(n,r),s=0,l=o.length;l>s;s++)if(i=o[s],i[0](this,i,3,t,null,!0))return e;return null}}(),queryParents:function(e){return i.call(this,e,c|u)},watch:function(e){var t,n;return t=T(e,c|a),n=_.create(this,t),r(this),n},checkWatchersDeeply:r=function(){var e,t,n,r,i,o,s,l,a;return s=!1,N=0,n=1<<N++,t=1<<N++,e=(1<<N++)-1,r=function(e,i,o,s){var l,a,u,c,f;if(s&n||(s|=o._checkWatchers),s&n&&(a=o._inWatchers,a&&a[i]||!e.test(o)?a&&a[i]&&!e.test(o)&&(o._inWatchers[i]=!1,F.removeFromUnorderedArray(e.nodes,o),C(e,"onRemove",o)):(a||(o._inWatchers={}),o._inWatchers[i]=!0,e.nodes.push(o),C(e,"onAdd",o))),s&t&&o instanceof h)for(f=o.children,u=0,c=f.length;c>u;u++)l=f[u],(s&n||l._checkWatchers)&&r(e,i,l,s)},i=function(e){var t,n,r,o;if(e._checkWatchers=0,e instanceof h)for(o=e.children,n=0,r=o.length;r>n;n++)t=o[n],t._checkWatchers>0&&i(t)},o=function(e,t){var n;for(n=e;n=n._parent;)if(n===t)return!0;return!1},l=function(t){var n,i,s,l;for(s=t.nodes,l=t.node,N=n=s.length;N-->0;)i=s[N],i===l||o(i,l)||(i._inWatchers[t.uid]=!1,s[N]=s[n-1],s.pop(),C(t,"onRemove",i),n--);t.forceUpdate?(r(t,t.uid,t.node,e),t.forceUpdate=!1):r(t,t.uid,t.node,0)},a=function(){var e,t,n,r,o,a;for(s=!1,t=_.watchers,n=0,o=t.length;o>n;n++)e=t[n],e.node&&l(e);for(r=0,a=t.length;a>r;r++)e=t[r],e.node&&i(e.node)},function(e){var r;for(r=e,e._checkWatchers|=n;(r=r._parent)&&!(r._checkWatchers&t);)r._checkWatchers|=t;s||(setImmediate(a),s=!0)}}()}},n.exports.getSelectorCommandsLength=function(e,t,n){var r,i,o,s,l;for(null==t&&(t=0),null==n&&(n=1/0),o=0,r=T(e,0),N=s=0,l=r.length;l>s;N=++s)if(i=r[N],!(t>N)){if(N>=n)break;o+=i.length}return o}}.call(this),n.exports}(),t["../document/element/element.coffee.md"]=function(){{var n={exports:t["../document/element/element.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md","./element/text":"../document/element/element/text.coffee.md","./element/tag":"../document/element/element/tag.coffee.md"});n.exports}return function(){var e,t,i,o,s,l,a={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=r("utils"),s=r("signal"),o=Array.isArray,t=s.Emitter,i=t.emitSignal,e=function(e){function n(){t.call(this),this._parent=null,this._nextSibling=null,this._previousSibling=null,this._style=null,this._documentStyle=null,this._visible=!0,this._inWatchers=null,this._checkWatchers=0}var o,a,c,f,d,p;return u(n,e),n.__name__="Element",n.__path__="File.Element",n.JSON_CTORS=[],a=n.JSON_CTOR_ID=n.JSON_CTORS.push(n)-1,d=1,c=d++,o=n.JSON_ARGS_LENGTH=d,n.fromHTML=function(e){if(!l.isNode)throw"Creating Views from HTML files is allowed only on a server";return n.parser.parse(e)},n.fromJSON=function(e){return"string"==typeof e&&(e=JSON.parse(e)),n.JSON_CTORS[e[0]]._fromJSON(e)},n._fromJSON=function(e,t){return null==t&&(t=new n),t.visible=1===e[c],t},n.Text=r("./element/text")(n),n.Tag=f=r("./element/tag")(n),p=l.CONFIGURABLE,l.defineProperty(n.prototype,"index",p,function(){var e;return(null!=(e=this.parent)?e.children.indexOf(this):void 0)||0},function(e){var t,n,r,i,o,s,l;return(r=this._parent)?(n=this.index,t=r.children,e>t.length&&(e=t.length),n===e||n===e-1?!1:(null!=(i=this._previousSibling)&&(i._nextSibling=this._nextSibling),null!=(o=this._nextSibling)&&(o._previousSibling=this._previousSibling),t.splice(n,1),e>n&&e--,t.splice(e,0,this),this._previousSibling=t[e-1]||null,this._nextSibling=t[e+1]||null,null!=(s=this._previousSibling)&&(s._nextSibling=this),null!=(l=this._nextSibling)&&(l._previousSibling=this),!0)):!1}),p=l.CONFIGURABLE,l.defineProperty(n.prototype,"nextSibling",p,function(){return this._nextSibling},null),p=l.CONFIGURABLE,l.defineProperty(n.prototype,"previousSibling",p,function(){return this._previousSibling},null),p=l.CONFIGURABLE,l.defineProperty(n.prototype,"parent",p,function(){return this._parent},function(e){var t,n,r,o,s,l,a;return r=this._parent,r===e?!1:(this._parent&&(o=this._parent.children,this._nextSibling?this._previousSibling?(t=o.indexOf(this),o.splice(t,1)):o.shift():o.pop(),i(this._parent,"onChildrenChange",null,this),null!=(l=this._previousSibling)&&(l._nextSibling=this._nextSibling),null!=(a=this._nextSibling)&&(a._previousSibling=this._previousSibling),this._previousSibling=null,this._nextSibling=null),this._parent=s=e,s&&(n=this._parent.children,t=n.push(this)-1,i(s,"onChildrenChange",this),0===t?this._previousSibling=null:(this._previousSibling=n[t-1],this._previousSibling._nextSibling=this)),this._previousSibling,i(this,"onParentChange",r),f.query.checkWatchersDeeply(this),!0)}),s.Emitter.createSignal(n,"onParentChange"),p=l.CONFIGURABLE,l.defineProperty(n.prototype,"style",p,function(){return this._style},function(e){var t;return t=this._style,t===e?!1:(this._style=e,i(this,"onStyleChange",t,e),!0)}),s.Emitter.createSignal(n,"onStyleChange"),p=l.CONFIGURABLE,l.defineProperty(n.prototype,"visible",p,function(){return this._visible},function(e){var t;return t=this._visible,t===e?!1:(this._visible=e,i(this,"onVisibleChange",t),!0)}),s.Emitter.createSignal(n,"onVisibleChange"),n.prototype.queryAllParents=f.query.queryAllParents,n.prototype.queryParents=f.query.queryParents,n.prototype.getAccessPath=function(e){var t,n,r;for(t=[],d=0,n=this,r=this;(r=n._parent)&&(t.push(r.children.indexOf(n)),n=r,r!==e););return t},n.prototype.clone=function(){return new n},n.prototype.cloneDeep=function(){return this.clone()},n.prototype.toJSON=function(e){return e||(e=new Array(o),e[0]=a),e[c]=this.visible?1:0,e},l.isNode&&(n.parser=r("./element/parser")(n)),n}(t),n.exports=e}.call(this),n.exports}(),t["../document/element/index.coffee"]=function(){{var n={exports:t["../document/element/index.coffee"]},r=e.bind(null,{"./element":"../document/element/element.coffee.md"});n.exports}return function(){n.exports=r("./element")}.call(this),n.exports}(),t["../document/attrChange.coffee"]=function(){{var n={exports:t["../document/attrChange.coffee"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=function(e){var t;return t=function(){function t(e,t,n,r){this.file=e,this.node=t,this.target=n,this.name=r,this._defaultValue=n.getAttr(r),this.update(),t.onVisibleChange(u,this),t.onAttrsChange(a,this)}var n,r,i,o,s,l,a,u;return t.__name__="AttrChange",t.__path__="File.AttrChange",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,l=1,o=l++,s=l++,i=l++,n=t.JSON_ARGS_LENGTH=l,t._fromJSON=function(e,n,r){var l,a;return r||(l=e.node.getChildByAccessPath(n[o]),a=e.node.getChildByAccessPath(n[s]),r=new t(e,l,a,n[i])),r},t.prototype.update=function(){var e;e=this.node.visible?this.node.getAttr("value"):this._defaultValue,this.target.setAttr(this.name,e)},u=function(){return this.update()},a=function(e,t){if("name"===e)throw new Error("Dynamic neft:attr name is not implemented");"value"===e&&this.update()},t.prototype.clone=function(e,n){var r,i;return r=e.node.getCopiedElement(this.node,n.node),i=e.node.getCopiedElement(this.target,n.node),new t(n,r,i,this.name)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=r),t[o]=this.node.getAccessPath(this.file.node),t[s]=this.target.getAccessPath(this.file.node),t[i]=this.name,t
},t}()}}.call(this),n.exports}(),t["../document/use.coffee"]=function(){{var n={exports:t["../document/use.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=function(e){var t;return t=function(){function t(e,t){this.file=e,this.node=t,this.name=t.getAttr("neft:fragment"),this.usedFragment=null,this.isRendered=!1,t.onVisibleChange(c,this),t.onAttrsChange(o,this)}var n,r,i,o,s,l,a,u,c;return t.__name__="Use",t.__path__="File.Use",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,s=1,i=s++,n=t.JSON_ARGS_LENGTH=s,t._fromJSON=function(e,n,r){var o;return r||(o=e.node.getChildByAccessPath(n[i]),r=new t(e,o)),r},c=function(){return this.file.isRendered&&!this.isRendered?this.render():void 0},o=function(e){"neft:fragment"===e&&(this.name=this.node.getAttr("neft:fragment"),this.isRendered&&(this.revert(),this.render()))},l=[],a=!1,u=function(){var e,t;t=l.shift(),e=l.shift(),t.isRendered&&t.renderFragment(e),l.length?requestAnimationFrame(u):a=!1},t.prototype.render=function(e){var t;this.node.visible&&(this.isRendered&&this.revert(),this.isRendered=!0,t=utils.isClient,t&&(t=this.node.hasAttr("neft:async")),t&&(t=this.node.getAttr("neft:async")!==!1),t?(l.push(this,e),a||(requestAnimationFrame(u),a=!0)):this.renderFragment(e))},t.prototype.renderFragment=function(t){var n,r,i;n=this.file.fragments[this.name],(t||n)&&(r=t||e.factory(n),t||(r.storage=this.file.storage),t&&null!=(i=t.parentUse)&&i.detachUsedFragment(),r.isRendered||(r=r.render(this)),r.node.parent=this.node,this.usedFragment=r,r.parentUse=this,r.onReplaceByUse.emit(this))},t.prototype.revert=function(){this.isRendered&&(this.usedFragment&&this.usedFragment.revert().destroy(),this.isRendered=!1)},t.prototype.detachUsedFragment=function(){this.usedFragment.node.parent=null,this.usedFragment.parentUse=null,this.usedFragment=null},t.prototype.clone=function(e,n){var r;return r=e.node.getCopiedElement(this.node,n.node),new t(n,r)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=r),t[i]=this.node.getAccessPath(this.file.node),t},t}()}}.call(this),n.exports}(),t["../document/input.coffee"]=function(){{var n={exports:t["../document/input.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md",dict:"../dict/index.coffee.md",list:"../list/index.coffee.md",db:"../db/index.coffee.md","./input/text.coffee":"../document/input/text.coffee","./input/attr.coffee":"../document/input/attr.coffee"});n.exports}return function(){utils=r("utils"),Dict=r("dict"),List=r("list"),n.exports=function(e){var t;return t=function(){function t(e,n,r,i){var o;this.file=e,this.node=n,this.text=r,this.funcBody=i,this.traces=[],this.updatePending=!1,this.traceChanges=!0,this.func=null!=m[o=this.funcBody]?m[o]:m[o]=t.createFunction(this.funcBody)}var n,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E;return i=e.Element,t.__name__="Input",t.__path__="File.Input",l=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,g=1,u=t.JSON_NODE=g++,c=t.JSON_TEXT=g++,a=t.JSON_FUNC_BODY=g++,s=t.JSON_ARGS_LENGTH=g,t._fromJSON=function(e,n,r){var i;return r||(i=e.node.getChildByAccessPath(n[u]),r=new t(e,i,n[c],n[a])),r},p=t.RE=new RegExp("([^$]*)\\${([^}]*)}([^$]*)","gm"),h=t.VAR_RE=/(^|\s|\[|:|\()([a-zA-Z_$][\w:_]*)+(?!:)/g,d=t.PROP_RE=/(\.[a-zA-Z_$][a-zA-Z0-9_$]*)+/,f=t.PROPS_RE=/[a-zA-Z_$][a-zA-Z0-9_$]*(\.[a-zA-Z_$][a-zA-Z0-9_$]*)+\s*/g,n=t.CONSTANT_VARS=["undefined","false","true","null","this","JSON"],m=Object.create(null),o={Math:Math,Array:Array,Object:Object,Number:Number,RegExp:RegExp,String:String,db:r("db"),utils:r("utils")},t.getVal=function(){var t,n,r,s;return n=function(e,t){return e instanceof i?e._attrs[t]:void 0},r=function(e,t){var n;return e instanceof Dict&&(n=e.get(t)),void 0===n&&e&&(n=e[t]),n},t=function(e,t){for(var n,r,i,o;e;){if(n=null!=(r=e.ids)?r[t]:void 0)return n;e=(null!=(i=e.parentUse)?i.file:void 0)||e.file||(null!=(o=e.source)?o.file:void 0)}},s=function(e,t){for(var n,r,i,o;e;){if(n=null!=(r=e.funcs)?r[t]:void 0)return n;e=(null!=(i=e.parentUse)?i.file:void 0)||e.file||(null!=(o=e.source)?o.file:void 0)}},function(i,l){var a,u,c;return a=i.source instanceof e.Iterator?i.source.file:i,void 0===c&&(u=a.source)&&(c=n(u.node,l)),void 0===c&&i.source instanceof e.Iterator&&(c=n(i.source.node,l)),void 0===c&&(c=n(a.node,l)),void 0===c&&u&&(c=r(u.storage,l)),void 0===c&&(c=r(i.storage,l)),void 0===c&&(c=t(i,l)),void 0===c&&(c=s(i,l)),void 0===c&&(c=o[l]),c}}(),t.get=function(e,n){return"this"===n?e.node:t.getVal(e.file,n)},t.getStoragesArray=function(e){return function(t){var n,r,i,o,s,l,a;return e[0]=t.node,e[1]=null!=(n=t.source)?n.node:void 0,e[2]=null!=(r=t.source)?r.storage:void 0,e[3]=t.storage,e[4]=null!=(i=t.source)&&null!=(o=i.file)?o.node:void 0,e[5]=null!=(s=t.source)&&null!=(l=s.file)&&null!=(a=l.source)?a.node:void 0,e}}([]),t.test=function(e){return p.lastIndex=0,p.test(e)},t.parse=function(e){var t,r,i,o,s,l,a,u,c,p,m;for(e=e.replace(/[\t\n]/gm,""),o="",r=[],m="",a=l=!1,s=0,g=0,c=e.length;c>g;){if(t=e[g],"$"===t&&"{"===e[g+1])l=!0,r.push(m),m="",g++;else if("{"===t)s++,m+=t;else if("}"===t)if(s>0)s--,m+=t;else{if(!l)return;r.push(m),m=""}else m+=t;g++}for(r.push(m);r.length>1;)u=[r.shift(),r.shift()],p=u[1],p&&(p=p.replace(f,function(e,t,n,r){var i,o;return i=r.substr(n+e.length,2),o="",e=e.replace(d,function(e){var t,n,r,s;for(e=e.split("."),e.shift(),"("===i[0]||"="===i[0]&&"=="!==i?(o+="__input.trace(",t=")."+e[e.length-1],e.pop()):t="",n="",r=0,s=e.length;s>r;r++)p=e[r],o+="__input.traceObj(",n+=", '"+p+"')";return n+t}),""+o+e}),p=p.replace(h,function(e,t,r){return 0===r.indexOf("__")?e:(m=t.trim()||!utils.has(n,r)?"__get(__input, '"+utils.addSlashes(r)+"')":r,""+t+m)})),null==p&&(p=""),u[0]&&(o+="'"+utils.addSlashes(u[0])+"' + "),p&&(o+=""+p+" + ");r.length&&r[0]&&(o+="'"+utils.addSlashes(r[0])+"' + "),o="return "+o.slice(0,-3);try{new Function(o)}catch(_){i=_}return o},t.createFunction=function(e){return new Function("__input","__get",e)},b=0,S=[[],[]],x=S[b],v=!1,E=function(){var e,t;for(v=!1,e=x,x=S[++b%S.length];t=e.pop();)t.update()},y=utils.isServer?function(){return this.update()}:function(){this.updatePending||(x.push(this),this.updatePending=!0,v||(setImmediate(E),v=!0))},w=function(){var e,t,n,r,i;for(n=this.traces,g=r=0,i=n.length;i>r;g=r+=2)e=n[g],t=n[g+1],e[t].disconnect(y,this);utils.clear(n)},_=function(){return m=Object.create(null),function(e){return m[e]||(m[e]="on"+utils.capitalize(e)+"Change")}}(),t.prototype.trace=function(e){return e&&this.traceChanges&&(e instanceof Dict?(e.onChange(y,this),this.traces.push(e,"onChange")):e instanceof List&&(e.onChange(y,this),this.traces.push(e,"onChange"),e.onInsert(y,this),this.traces.push(e,"onInsert"),e.onPop(y,this),this.traces.push(e,"onPop"))),e},t.prototype.traceObj=function(e,t){var n,r;return this.trace(e),e&&(e instanceof Dict?r=e.get(t):e instanceof List?"number"==typeof t&&(r=e.get(t)):(n=_(t),"function"==typeof e[n]&&(e[n](y,this),this.traces.push(e,n))),void 0===r&&(r=e[t])),r},t.prototype.render=function(){var e,n,r,o;for(o=t.getStoragesArray(this.file),n=0,r=o.length;r>n;n++)e=o[n],e instanceof i?e.onAttrsChange(y,this):e instanceof Dict&&this.trace(e);return this.update()},t.prototype.revert=function(){var e,n,r,o;for(o=t.getStoragesArray(this.file),n=0,r=o.length;r>n;n++)e=o[n],e instanceof i&&e.onAttrsChange.disconnect(y,this);w.call(this)},t.prototype.update=function(){this.updatePending=!1},t.prototype.toString=function(){var e;return e=function(){return w.call(this),this.func.call(this.node,this,t.get)},function(){var t;try{return e.call(this)}catch(n){return t=n,!0}}}(),t.prototype.clone=function(e,n){var r;return r=e.node.getCopiedElement(this.node,n.node),new t(n,r,this.text,this.funcBody)},t.prototype.toJSON=function(e,t){return t||(t=new Array(s),t[0]=l),t[u]=this.node.getAccessPath(this.file.node),t[c]=this.text,t[a]=this.funcBody,t},t.Text=r("./input/text.coffee")(e,t),t.Attr=r("./input/attr.coffee")(e,t),t}()}}.call(this),n.exports}(),t["../document/input/text.coffee"]=function(){{var n={exports:t["../document/input/text.coffee"]};e.bind(null,{}),n.exports}return function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};n.exports=function(e,n){var r;return r=function(r){function i(e,t,r,i){n.call(this,e,t,r,i),this.lastValue=0/0}var o,s,l,a,u;return t(i,r),i.__name__="InputText",i.__path__="File.Input.Text",s=i.JSON_CTOR_ID=e.JSON_CTORS.push(i)-1,a=n.JSON_NODE,u=n.JSON_TEXT,l=n.JSON_FUNC_BODY,o=n.JSON_ARGS_LENGTH,i._fromJSON=function(e,t,n){var r;return n||(r=e.node.getChildByAccessPath(t[a]),n=new i(e,r,t[u],t[l])),n},i.prototype.update=function(){var e;i.__super__.update.call(this),e=this.toString(),null==e?e="":"string"!=typeof e&&(e+=""),e!==this.lastValue&&(this.lastValue=e,this.node.text=e)},i.prototype.clone=function(e,t){var n;return n=e.node.getCopiedElement(this.node,t.node),new i(t,n,this.text,this.funcBody)},i.prototype.toJSON=function(e,t){return t||(t=new Array(o),t[0]=s),i.__super__.toJSON.call(this,e,t),t},i}(n)}}.call(this),n.exports}(),t["../document/input/attr.coffee"]=function(){{var n={exports:t["../document/input/attr.coffee"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(e,t){var n;return n=function(n){function r(e,n,r,i,o){this.attrName=o,t.call(this,e,n,r,i),this.lastValue=0/0,p(o)?(this.traceChanges=!1,this.handlerFunc=f(this)):this.handlerFunc=null}var o,s,l,a,u,c,f,d,p;return i(r,n),r.__name__="InputAttr",r.__path__="File.Input.Attr",l=r.JSON_CTOR_ID=e.JSON_CTORS.push(r)-1,d=t.JSON_ARGS_LENGTH,u=t.JSON_NODE,c=t.JSON_TEXT,a=t.JSON_FUNC_BODY,s=d++,o=r.JSON_ARGS_LENGTH=d,r._fromJSON=function(e,t,n){var i;return n||(i=e.node.getChildByAccessPath(t[u]),n=new r(e,i,t[c],t[a],t[s])),n},p=function(e){return/^on[A-Z]|\:on[A-Z][A-Za-z0-9_$]*$/.test(e)},r.prototype.update=function(){var e;r.__super__.update.call(this),e=this.handlerFunc||this.toString(),e!==this.lastValue&&(this.lastValue=e,this.node.setAttr(this.attrName,e))},f=function(e){return function(t,n){var r;r=e.toString(),"function"==typeof r&&r.call(this,t,n)}},r.prototype.clone=function(e,t){var n;return n=e.node.getCopiedElement(this.node,t.node),new r(t,n,this.text,this.funcBody,this.attrName)},r.prototype.toJSON=function(e,t){return t||(t=new Array(o),t[0]=l),r.__super__.toJSON.call(this,e,t),t[s]=this.attrName,t},r}(t)}}.call(this),n.exports}(),t["../document/condition.coffee"]=function(){{var n={exports:t["../document/condition.coffee"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),n.exports}return function(){n.exports=function(e){var t;return t=function(){function t(e,t,n){this.file=e,this.node=t,this.elseNode=null!=n?n:null,t.onAttrsChange(l,this)}var n,r,i,o,s,l;return t.__name__="Condition",t.__path__="File.Condition",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,s=1,o=s++,i=s++,n=t.JSON_ARGS_LENGTH=s,t._fromJSON=function(e,n,r){var s,l;return r||(l=e.node.getChildByAccessPath(n[o]),n[i]&&(s=e.node.getChildByAccessPath(n[i])),r=new t(e,l,s)),r},l=function(e){"neft:if"===e&&this.update()},t.prototype.update=function(){var e,t;e=this.node.visible=!!this.node.getAttr("neft:if"),null!=(t=this.elseNode)&&(t.visible=!e)},t.prototype.render=function(){return this.update()},t.prototype.clone=function(e,n){var r,i;return i=e.node.getCopiedElement(this.node,n.node),this.elseNode&&(r=e.node.getCopiedElement(this.elseNode,n.node)),new t(n,i,r)},t.prototype.toJSON=function(e,t){var s;return t||(t=new Array(n),t[0]=r),t[o]=this.node.getAccessPath(this.file.node),t[i]=null!=(s=this.elseNode)?s.getAccessPath(this.file.node):void 0,t},t}()}}.call(this),n.exports}(),t["../document/iterator.coffee"]=function(){{var n={exports:t["../document/iterator.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",list:"../list/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),List=r("list"),isArray=Array.isArray,n.exports=function(e){var t;return t=function(){function t(e,t,n){this.file=e,this.node=t,this.name=n,this.usedFragments=[],this.text="",this.data=null,this.isRendered=!1,t.onAttrsChange(l,this),t.onVisibleChange(u,this)}var n,r,i,o,s,l,a,u;return t.__name__="Iterator",t.__path__="File.Iterator",t.HTML_ATTR=""+e.HTML_NS+":each",r=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,a=1,i=a++,o=a++,s=a++,n=t.JSON_ARGS_LENGTH=a,t._fromJSON=function(e,n,r){var l;return r||(l=e.node.getChildByAccessPath(n[o]),r=new t(e,l,n[i])),r.text=n[s],r},l=function(e){return this.file.isRendered&&"neft:each"===e?this.update():void 0},u=function(e){return this.file.isRendered&&e===!1&&!this.node.data?this.update():void 0},t.prototype.render=function(){var e,n,r,i,o;if(this.node.visible&&(n=this.node.getAttr(t.HTML_ATTR),n!==this.data&&(isArray(n)||n instanceof List))){for(this.data=e=n,n instanceof List&&(n.onChange(this.updateItem,this),n.onInsert(this.insertItem,this),n.onPop(this.popItem,this),e=n.items()),a=i=0,o=e.length;o>i;a=++i)r=e[a],this.insertItem(a);return this.isRendered=!0,null}},t.prototype.revert=function(){var e;return e=this.data,e&&(this.clearData(),e instanceof List&&(e.onChange.disconnect(this.updateItem,this),e.onInsert.disconnect(this.insertItem,this),e.onPop.disconnect(this.popItem,this))),this.data=null,this.isRendered=!1},t.prototype.update=function(){return this.revert(),this.render()},t.prototype.clearData=function(){for(var e;e=this.usedFragments.length;)this.popItem(e-1);return this},t.prototype.updateItem=function(e,t){return null==t&&(t=e),this.popItem(t),this.insertItem(t),this},t.prototype.insertItem=function(t,n){var r,i,o,s,l,a;return null==n&&(n=t),r=this.data,a=e.factory(this.name),this.usedFragments.splice(n,0,a),r instanceof List?(i=r.items(),o=r.get(n)):(i=r,o=r[n]),s=a.node,s.parent=this.node,s.index=n,l=Object.create(this.file.storage||null),l.each=i,l.i=n,l.item=o,a.render(l,this),a.onReplaceByUse.emit(this),this},t.prototype.popItem=function(e,t){var n;return null==t&&(t=e),this.node.children[t].parent=void 0,n=this.usedFragments[t],n.revert().destroy(),this.usedFragments.splice(t,1),this},t.prototype.clone=function(e,n){var r;return r=e.node.getCopiedElement(this.node,n.node),new t(n,r,this.name)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=r),t[i]=this.name,t[o]=this.node.getAccessPath(this.file.node),t[s]=this.text,t},t}()}}.call(this),n.exports}(),t["../document/log.coffee"]=function(){{var n={exports:t["../document/log.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){var n;return n=function(){function n(e,t){this.file=e,this.node=t,l(t,this)}var r,i,o,s,l;return n.__name__="Log",n.__path__="File.Log",i=n.JSON_CTOR_ID=t.JSON_CTORS.push(n)-1,s=1,o=s++,r=n.JSON_ARGS_LENGTH=s,n._fromJSON=function(e,t,r){var i;return r||(i=e.node.getChildByAccessPath(t[o]),r=new n(e,i)),r},n.prototype.render=function(){if(e.isEmpty(this.node._attrs));else{_ref=this.node._attrs;for(key in _ref)val=_ref[key]}},n.prototype.clone=function(e,t){var r;return r=e.node.getCopiedElement(this.node,t.node),new n(t,r)},n.prototype.toJSON=function(e,t){return t||(t=new Array(r),t[0]=i),t[o]=this.node.getAccessPath(this.file.node),t},n}()}}.call(this),n.exports}(),t["../renderer/impl.coffee"]=function(){{var n={exports:t["../renderer/impl.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","./impl/base":"../renderer/impl/base/index.coffee","./impl/css":"../renderer/impl/css/index.coffee"});n.exports}return function(){var e,t;t=r("utils"),e=r("signal"),n.exports=function(n){var i,o,s,l,a,u,c,f,d,p,h,m,_,g;for(l=o=r("./impl/base"),l.Renderer=n,l.window=null,e.create(l,"onWindowReady"),i=["Item","Image","Text","TextInput","FontLoader","ResourcesLoader","Device","Screen","Navigator","RotationSensor","Rectangle","Grid","Column","Row","Flow","Animation","PropertyAnimation","NumberAnimation","Scrollable","AmbientSound"],u=function(){var e;if(e=null,t.isBrowser&&null!=window.HTMLCanvasElement)try{null==e&&(e=r("./impl/pixi")(l))}catch(n){}return t.isBrowser&&null==e&&(e=r("./impl/css")(l)),t.isQt&&null==e&&(e=r("./impl/qt")(l)),(t.isAndroid||t.isIOS)&&null==e&&(e=r("./impl/native")(l)),e}(),f=0,h=i.length;h>f;f++)a=i[f],c=l.Types[a]=l.Types[a](l),t.merge(l,c);for(u&&t.mergeDeep(l,u),d=0,m=i.length;m>d;d++)a=i[d],"function"==typeof l.Types[a]&&(c=l.Types[a]=l.Types[a](l),t.merge(l,c));for(p=0,_=i.length;_>p;p++)a=i[p],l.Types[a].createData&&(l.Types[a].createData=l.Types[a].createData());g=l.Extras;for(a in g)s=g[a],s=l.Extras[a]=s(l),t.merge(l,s);return l.createObject=function(e,t){var n,r;for(n=e;t&&null==l.Types[t];)n=Object.getPrototypeOf(n),t=n.constructor.__name__;return e._impl=(null!=(r=l.Types[t])&&"function"==typeof r.createData?r.createData():void 0)||{bindings:null},!0},l.initializeObject=function(e,t){var n,r;return null!=(n=l.Types[t])&&null!=(r=n.create)?r.call(e,e._impl):void 0},l.setWindow=function(e){return function(n){return t.defineProperty(l,"window",t.ENUMERABLE,n),e.call(l,n),l.onWindowReady.emit(),n.keys.focus=!0}}(l.setWindow),l}}.call(this),n.exports}(),t["../renderer/impl/base/level0/item.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/item.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","./item/pointer":"../renderer/impl/base/level0/item/pointer.coffee"});n.exports}return function(){var e;e=r("utils"),n.exports=function(e){var t,n,i;return i=e.pointer=r("./item/pointer")(e),n=function(){},t={bindings:null,anchors:null,capturePointer:0,childrenCapturesPointer:0},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){},setItemParent:function(e){return i.setItemParent.call(this,e)},insertItemBefore:function(t){var n,r,i,o,s,l,a,u,c,f,d;for(e.setItemParent.call(this,null),this._parent=null,s=t.parent,r=s.children,l=[],a=t.index,i=u=a,d=r.length;d>u;i=u+=1)n=r[i],n!==this&&(e.setItemParent.call(n,null),n._parent=null,l.push(n));for(e.setItemParent.call(this,s),this._parent=s,c=0,f=l.length;f>c;c++)o=l[c],e.setItemParent.call(o,s),o._parent=s},setItemBackground:function(e){},setItemVisible:function(e){},setItemClip:function(e){},setItemWidth:function(e){},setItemHeight:function(e){},setItemX:function(e){},setItemY:function(e){},setItemZ:function(e){},setItemScale:function(e){},setItemRotation:function(e){},setItemOpacity:function(e){},setItemLinkUri:function(e){},doItemOverlap:function(e){var t,n,r,i,o,s,l,a,u;for(t=this,n=e,o=null,s=t._x,a=t._y,l=n._x,u=n._y,r=t;o=r._parent;)s+=o._x,a+=o._y,r=o;for(i=n;o=i._parent;)s+=o._x,a+=o._y,i=o;return r===i&&s+t._width>l&&a+t._height>u&&s<l+n._width&&a<u+n._height},attachItemSignal:function(e,t){return"pointer"===e?i.attachItemSignal.call(this,t):void 0},setItemPointerEnabled:function(e){return i.setItemPointerEnabled.call(this,e)},setItemPointerDraggable:function(e){return i.setItemPointerDraggable.call(this,e)},setItemPointerDragActive:function(e){return i.setItemPointerDragActive.call(this,e)},setItemKeysFocus:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/image.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/image.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t={source:""},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t)},setStaticImagePixelRatio:function(e){},setImageSource:function(e){return this._impl.source=e},setImageSourceWidth:function(e){},setImageSourceHeight:function(e){},setImageFillMode:function(e){},setImageOffsetX:function(e){},setImageOffsetY:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/text.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/text.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t,n;return n=e.items,t={},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t)},setText:function(e){},setTextWrap:function(e){},updateTextContentSize:function(){},setTextColor:function(e){},setTextLinkColor:function(e){},setTextLineHeight:function(e){},setTextFontFamily:function(e){},setTextFontPixelSize:function(e){},setTextFontWordSpacing:function(e){},setTextFontLetterSpacing:function(e){},setTextAlignmentHorizontal:function(e){},setTextAlignmentVertical:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/textInput.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/textInput.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t={},{DATA:t,createData:e.utils.createDataCloner("Text",t),create:function(t){return e.Types.Text.create.call(this,t)},setTextInputText:function(e){},setTextInputColor:function(e){},setTextInputLineHeight:function(e){},setTextInputMultiLine:function(e){},setTextInputEchoMode:function(e){},setTextInputFontFamily:function(e){},setTextInputFontPixelSize:function(e){},setTextInputFontWordSpacing:function(e){},setTextInputFontLetterSpacing:function(e){},setTextInputAlignmentHorizontal:function(e){},setTextInputAlignmentVertical:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/loader/font.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/loader/font.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{loadFont:function(e,t,n){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/loader/resources.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/loader/resources.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{loadResources:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/device.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/device.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{initDeviceNamespace:function(){},showDeviceKeyboard:function(){},hideDeviceKeyboard:function(){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/screen.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/screen.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{initScreenNamespace:function(){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/navigator.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/navigator.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{initNavigatorNamespace:function(){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/sensor/rotation.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/sensor/rotation.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{enableRotationSensor:function(){},disableRotationSensor:function(){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/sound/ambient.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/sound/ambient.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t={bindings:null},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){},setAmbientSoundSource:function(e){},setAmbientSoundLoop:function(e){},startAmbientSound:function(e){},stopAmbientSound:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/rectangle.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/rectangle.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t,n,r,i,o,s,l;return i=e.items,o=Math.round,n=function(){},r=function(t){var n,r,i,s,l,a,u,c;return i=t._impl,l=e.pixelRatio,t.width<=0||t.height<=0?(i.isRectVisible=!1,null):(i.isRectVisible=!0,c=o(t.width*l),s=o(t.height*l),a=o(t.radius*l),u=o(Math.min(2*t.border.width*l,c,s)),r=i.color,n=i.borderColor,"data:image/svg+xml;utf8,"+("<svg width='"+c+"' height='"+s+"' xmlns='http://www.w3.org/2000/svg'>")+"<clipPath id='clip'><rect "+("rx='"+a+"' ")+("width='"+c+"' height='"+s+"' />")+"</clipPath><rect clip-path='url(#clip)' "+("fill='"+r+"' ")+("stroke='"+n+"' ")+("stroke-width='"+u+"' ")+("rx='"+a+"' ")+("width='"+c+"' height='"+s+"' />")+"</svg>")},s=function(){e.setImageSource.call(this,r(this),n)},l=function(){(!this._impl.isRectVisible||this.radius>0||this.border.width>0)&&s.call(this)},t={color:"transparent",borderColor:"transparent",isRectVisible:!1},{DATA:t,createData:e.utils.createDataCloner("Image",t),create:function(t){return e.Types.Image.create.call(this,t),this.onWidthChange(l),this.onHeightChange(l)},setRectangleColor:function(e){return this._impl.color=e,s.call(this)},setRectangleRadius:s,setRectangleBorderColor:function(e){return this._impl.borderColor=e,s.call(this)},setRectangleBorderWidth:s}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/grid.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/grid.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(e){var t;return t=e.utils.grid,{DATA:t.DATA,createData:e.utils.createDataCloner("Item",t.DATA),create:function(n){return e.Types.Item.create.call(this,n),t.create(this,t.COLUMN|t.ROW)},setGridEffectItem:t.setEffectItem,setGridColumns:t.update,setGridRows:t.update,setGridColumnSpacing:t.update,setGridRowSpacing:t.update,setGridAlignmentHorizontal:t.update,setGridAlignmentVertical:t.update,setGridIncludeBorderMargins:t.update}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/column.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/column.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t=e.utils.grid,{DATA:t.DATA,createData:e.utils.createDataCloner("Item",t.DATA),create:function(n){return e.Types.Item.create.call(this,n),t.create(this,t.COLUMN)},setColumnEffectItem:t.setEffectItem,setColumnSpacing:t.update,setColumnAlignmentHorizontal:t.update,setColumnAlignmentVertical:t.update,setColumnIncludeBorderMargins:t.update}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/row.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/row.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t=e.utils.grid,{DATA:t.data,createData:e.utils.createDataCloner("Item",t.DATA),create:function(n){return e.Types.Item.create.call(this,n),t.create(this,t.ROW)},setRowEffectItem:t.setEffectItem,setRowSpacing:t.update,setRowAlignmentHorizontal:t.update,setRowAlignmentVertical:t.update,setRowIncludeBorderMargins:t.update}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/flow.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/flow.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","typed-array":"../typed-array/index.coffee.md"});n.exports}return function(){utils=r("utils"),TypedArray=r("typed-array"),MAX_LOOPS=50,min=function(e,t){return t>e?e:t},max=function(e,t){return e>t?e:t},getArray=function(e,t){return e.length<t?new e.constructor(1.4*t|0):e},getCleanArray=function(e,t){var n,r,i;if(r=getArray(e,t),r===e){for(n=i=0;t>i;n=i+=1)e[n]=0;return e}return r},queueIndex=0,queues=[[],[]],queue=queues[queueIndex],pending=!1,rowsWidth=new TypedArray.Uint32(64),rowsHeight=new TypedArray.Uint32(64),elementsX=new TypedArray.Uint32(64),elementsY=new TypedArray.Uint32(64),elementsRow=new TypedArray.Uint32(64),elementsBottomMargin=new TypedArray.Uint32(64),rowsFills=new TypedArray.Uint8(64),unusedFills=new TypedArray.Uint8(64),updateItem=function(e){var t,n,r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A,C,T,N,R,L,k,F,j,D,M,U,H,V,W,B,z,q,G,J,Y,X,Q,K,$,Z,et,tt,nt,rt,it,ot,st,lt,at,ut,ct;if((x=e._effectItem)&&(O=e.includeBorderMargins,p=e.collapseMargins,d=x._children,v=e._impl,o=v.autoWidth,i=v.autoHeight,null!=(at=e._children)?!at._layout:!0)){if((C=x._layout)&&(o&&(o=!C._fillWidth),i&&(i=!C._fillHeight)),v.loops===MAX_LOOPS)return void v.loops++;if(!(v.loops>MAX_LOOPS)){for((M=e._padding)?(Y=M._top,B=M._right,a=M._bottom,N=M._left):Y=B=a=N=0,k=o?1/0:x._width-N-B,h=e.spacing.column,q=e.spacing.row,e._alignment?(t=e._alignment._horizontal,n=e._alignment._vertical):(t="left",n="top"),F=d.length,rowsFills=getCleanArray(rowsFills,F),elementsX.length<F&&(F*=1.5,rowsWidth=getArray(rowsWidth,F),rowsHeight=getArray(rowsHeight,F),elementsX=getArray(elementsX,F),elementsY=getArray(elementsY,F),elementsRow=getArray(elementsRow,F),elementsBottomMargin=getArray(elementsBottomMargin,F)),S=b=0,m=g=0,P=A=_=0,$=Z=V=s=0,G=Q=0,I=tt=0,ot=d.length;ot>tt;I=++tt)if(c=d[I],c._visible){if(L=c._margin,C=c._layout,K=c._width,E=c._height,L?(J=L._top,W=L._right,l=L._bottom,T=L._left,(f=null!=(ut=c._children)&&null!=(ct=ut._layout)?ct._margin:void 0)&&(p?(J=max(J,f._top),W=max(W,f._right),l=max(l,f._bottom),T=max(T,f._left)):(J+=f._top,W+=f._right,l+=f._bottom,T+=f._left))):J=W=l=T=0,C){if(!C._enabled)continue;C._fillWidth&&!o&&(K=k,O&&(K-=T+W),c.width=K)}V=0,(O||$>0)&&($+=p?max(T+($>0?h:0),P):T+P+($>0?h:0)),V+=$+K,O&&(V+=W),V>k&&Q>0&&(V-=$,$=V-K,g+=rowsHeight[m],m++,A=_,_=0),C&&C._fillHeight&&!i&&(rowsFills[m]=max(rowsFills[m],rowsFills[m]+1),G++,E=0,elementsBottomMargin[I]=l),s=Z+E,Z=g,(O||Z>0)&&(Z+=p?max(A,J+(Z>0?q:0)):A+J+(Z>0?q:0)),P=W,_=max(_,l),elementsX[I]=$,elementsY[I]=Z,elementsRow[I]=m,S=max(S,V),b=max(b,Z+E),rowsWidth[m]=V,rowsHeight[m]=b-g,$+=K,Z+=E,Q++}if(O&&(b=max(b,b+_)),w=x._height-Y-a-b,w>0&&G>0){for(unusedFills=getCleanArray(unusedFills,m+1),R=m+1,U=(b+w)/R,X=!0;X;)for(X=!1,I=nt=0;m>=nt;I=nt+=1)0===unusedFills[I]&&(0===rowsFills[I]||rowsHeight[I]>U)&&(R--,U-=(rowsHeight[I]-U)/R,unusedFills[I]=1,X=!0);for(et=y=0,I=rt=0,st=d.length;st>rt;I=++rt)c=d[I],elementsRow[I]===z+1&&0===unusedFills[z]&&(et+=y,y=0),z=elementsRow[I],elementsY[I]+=et,0===unusedFills[z]&&(C=c._layout,C&&C._fillHeight&&C._enabled&&(c.height=U,y||(y=U-rowsHeight[z],rowsHeight[z]=U)));w=0}switch(t){case"left":j=0;break;case"center":j=.5;break;case"right":j=1}switch(n){case"top":D=0;break;case"center":D=.5;break;case"bottom":D=1}for(H=i||"top"===n?0:w*D,o||(S=x._width-N-B),i||(b=x._height-Y-a),I=it=0,lt=d.length;lt>it;I=++it)c=d[I],c._visible&&(u=elementsRow[I],r=c._anchors,C=c._layout,(!C||C._enabled)&&(r&&r._autoX||(c.x=elementsX[I]+(S-rowsWidth[u])*j+N),r&&r._autoY||(c.y=elementsY[I]+H+(rowsHeight[u]-c._height)*D+Y)));o&&(x.width=S+N+B),i&&(x.height=b+Y+a)}}},updateItems=function(){var e,t;for(pending=!1,e=queue,queue=queues[++queueIndex%queues.length];e.length;)t=e.pop(),t._impl.pending=!1,t._impl.updatePending=!0,updateItem(t),t._impl.updatePending=!1},update=function(){var e,t;e=this._impl,!e.pending&&(null!=(t=this._effectItem)?t._visible:void 0)&&(e.updatePending?e.loops++:e.loops=0,e.pending=!0,queue.push(this),pending||(setImmediate(updateItems),pending=!0))},updateSize=function(){this._impl.updatePending||update.call(this)},onWidthChange=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillWidth||(this._impl.autoWidth=0===this._effectItem._width&&-1!==e),updateSize.call(this)
},onHeightChange=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillHeight||(this._impl.autoHeight=0===this._effectItem._height&&-1!==e),updateSize.call(this)},enableChild=function(e){return e.onVisibleChange(update,this),e.onWidthChange(update,this),e.onHeightChange(update,this),e.onMarginChange(update,this),e.onAnchorsChange(update,this),e.onLayoutChange(update,this)},disableChild=function(e){return e.onVisibleChange.disconnect(update,this),e.onWidthChange.disconnect(update,this),e.onHeightChange.disconnect(update,this),e.onMarginChange.disconnect(update,this),e.onAnchorsChange.disconnect(update,this),e.onLayoutChange.disconnect(update,this)},onChildrenChange=function(e,t){return e&&enableChild.call(this,e),t&&disableChild.call(this,t),update.call(this)},n.exports=function(e){var t;return t={loops:0,pending:!1,updatePending:!1,autoWidth:!0,autoHeight:!0},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){return e.Types.Item.create.call(this,t),this.onAlignmentChange(updateSize)},setFlowEffectItem:function(e,t){var n,r,i,o,s,l,a;if(t)for(t.onVisibleChange.disconnect(update,this),t.onChildrenChange.disconnect(onChildrenChange,this),t.onLayoutChange.disconnect(update,this),t.onWidthChange.disconnect(onWidthChange,this),t.onHeightChange.disconnect(onHeightChange,this),this._impl.autoWidth&&(t.width=0),this._impl.autoHeight&&(t.height=0),l=t.children,r=0,o=l.length;o>r;r++)n=l[r],disableChild.call(this,n);if(e){for((this._impl.autoWidth=0===e.width)&&(e.width=-1),(this._impl.autoHeight=0===e.height)&&(e.height=-1),e.onVisibleChange(update,this),e.onChildrenChange(onChildrenChange,this),e.onLayoutChange(update,this),e.onWidthChange(onWidthChange,this),e.onHeightChange(onHeightChange,this),a=e.children,i=0,s=a.length;s>i;i++)n=a[i],enableChild.call(this,n);update.call(this)}},setFlowColumnSpacing:update,setFlowRowSpacing:update,setFlowIncludeBorderMargins:update,setFlowCollapseMargins:update}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/animation.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/animation.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t={bindings:null},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){},setAnimationLoop:function(e){},startAnimation:function(){},stopAnimation:function(){},resumeAnimation:function(){},pauseAnimation:function(){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/animation/property.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/animation/property.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t,n,r,i;return r=e.Types,i=e.items,n={Linear:function(e,t,n,r){return n*(e/r)+t},InQuad:function(e,t,n,r){return n*(e/=r)*e+t},OutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},InOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},InCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},OutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},InOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},InQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},OutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},InOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},InQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},OutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},InOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},InSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},OutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},InOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},InExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},OutExpo:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},InOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},InCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},OutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},InOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},InElastic:function(e,t,n,r){var i,o,s;return s=1.70158,o=0,i=n,0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-s)*Math.PI/o))+t)},OutElastic:function(e,t,n,r){var i,o,s;return s=1.70158,o=0,i=n,0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin(2*(e*r-s)*Math.PI/o)+n+t)},InOutElastic:function(e,t,n,r){var i,o,s;return s=1.70158,o=0,i=n,0===e?t:2===(e/=r/2)?t+n:(o||(o=.3*r*1.5),i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-s)*Math.PI/o)+t:i*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*r-s)*Math.PI/o)*.5+n+t)},InBack:function(e,t,n,r,i){return null==i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},OutBack:function(e,t,n,r,i){return null==i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},InOutBack:function(e,t,n,r,i){return null==i&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},InBounce:function(e,t,r,i){return r-n.OutBounce(i-e,0,r,i)+t},OutBounce:function(e,t,n,r){return(e/=r)<1/2.75?7.5625*n*e*e+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},InOutBounce:function(e,t,r,i){return i/2>e?.5*n.InBounce(2*e,0,r,i)+t:.5*n.OutBounce(2*e-i,0,r,i)+.5*r+t}},t={progress:0,internalPropertyName:"",propertySetter:null,isIntegerProperty:!1,easing:null,startDelay:0},{DATA:t,createData:e.utils.createDataCloner("Animation",t),create:function(t){return t.easing=n.Linear,e.Types.Animation.create.call(this,t)},setPropertyAnimationTarget:function(e){},setPropertyAnimationProperty:function(t){this._impl.internalPropertyName="_"+t,this._impl.propertySetter=e.utils.SETTER_METHODS_NAMES[t],this._impl.isIntegerProperty=!!e.utils.INTEGER_PROPERTIES[t]},setPropertyAnimationDuration:function(e){},setPropertyAnimationStartDelay:function(e){return this._impl.startTime+=e-this._impl.startDelay,this._impl.startDelay=e},setPropertyAnimationLoopDelay:function(e){},setPropertyAnimationFrom:function(e){return this._impl.from=e},setPropertyAnimationTo:function(e){return this._impl.to=e},setPropertyAnimationUpdateData:function(e){},setPropertyAnimationUpdateProperty:function(e){},setPropertyAnimationEasingType:function(e){return this._impl.easing=n[e]||n.Linear},getPropertyAnimationProgress:function(){return this._impl.progress}}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/animation/number.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/animation/number.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(e){var t,n,r,i,o,s,l,a;return n=e.Types,r=Date.now,s=Math.round,o=[],i=r(),a=function(){var e,t,n;for(i=r(),t=0,n=o.length;n>t;)e=o[t],e._running&&!e._paused?(l(e),t++):(o[t]=o[n-1],o[n-1]=o[o.length-1],o.pop(),n--);requestAnimationFrame(a)},"function"==typeof requestAnimationFrame&&requestAnimationFrame(a),l=function(t){var n,r,o,s,l,a;return n=t._impl,r=(i-n.startTime)/t._duration,0>r?void(n.progress=0):(r>1&&(r=1),n.progress=r,s=1!==r||t._running&&t._loop&&t._when,a=1===r?n.to:n.easing(t._duration*r,n.from,n.to-n.from,t._duration),l=t._target,a===a&&l&&(o=t._property)&&(s&&!t._updateProperty&&n.propertySetter?(e[n.propertySetter].call(l,a),t._updateData&&(l[n.internalPropertyName]=a)):(t._updatePending=!0,s||l[n.internalPropertyName]!==a||(l[n.internalPropertyName]=n.from),l[o]=a,t._updatePending=!1,1===r&&n.propertySetter&&l[o]===a&&e[n.propertySetter].call(l,a))),void(1===r&&(s?n.startTime+=t._loopDelay+t._duration:(n.startTime=0,t.running=!1))))},t={type:"number",startTime:0,pauseTime:0,from:0,to:0},{DATA:t,createData:e.utils.createDataCloner("PropertyAnimation",t),create:function(t){return e.Types.PropertyAnimation.create.call(this,t)},startAnimation:function(e){return function(){var t;e.call(this),"number"===this._impl.type&&(t=this._impl,t.from=this._from,t.to=this._to,o.push(this),t.startTime=i,l(this),t.startTime+=this._startDelay)}}(e.startAnimation),stopAnimation:function(e){return function(){var t;e.call(this),t=this._impl,"number"===t.type&&0!==t.startTime&&(t.startTime=0,l(this))}}(e.stopAnimation),resumeAnimation:function(e){return function(){var t;e.call(this),"number"===this._impl.type&&(t=this._impl,o.push(this),t.startTime+=Date.now()-t.pauseTime,t.pauseTime=0)}}(e.resumeAnimation),pauseAnimation:function(e){return function(){var t;e.call(this),t=this._impl,"number"===t.type&&(t.pauseTime=Date.now())}}(e.pauseAnimation)}}}.call(this),n.exports}(),t["../renderer/impl/base/level2/scrollable.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level2/scrollable.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i,o;o=r("utils"),i=r("signal"),t=3,e=7,n.exports=function(n){var r,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S;return s=n.Types,null==n._scrollableUsePointer&&(n._scrollableUsePointer=!0),null==n._scrollableUseWheel&&(n._scrollableUseWheel=!0),v=function(){return function(e,t,n){var r,i;return null==t&&(t=0),null==n&&(n=0),r=a(e,t),i=u(e,n),t=Math.round(e._contentX-r),n=Math.round(e._contentY-i),t=f(e,t),n=d(e,n),e._contentX!==t||e._contentY!==n?(e.contentX=t,e.contentY=n,!0):!1}}(),a=function(e,t){return t/e._impl.globalScale},u=function(e,t){return t/e._impl.globalScale},f=function(e,t){var n;return n=e._impl.contentItem._width-e._width,Math.round(Math.max(0,Math.min(n,t)))},d=function(e,t){var n;return n=e._impl.contentItem._height-e._height,Math.round(Math.max(0,Math.min(n,t)))},c=function(e){var t;for(t=e.scale;e=e.parent;)t*=e.scale;return t},l=function(e,t){var n,r,i,o,s,l,a,u,c,f,d,p,h,m;return n=4,m=0,r=0,h=0,p=0,u=!1,f=!1,l=function(){switch(t){case"x":return"lastSnapTargetX";case"y":return"lastSnapTargetY"}}(),c=function(){switch(t){case"x":return function(t){return v(e,t,0)};case"y":return function(t){return v(e,0,t)}}}(),o=function(){switch(t){case"x":return"_contentX";case"y":return"_contentY"}}(),a=function(){switch(t){case"x":return"_x";case"y":return"_y"}}(),d=function(){switch(t){case"x":return"_width";case"y":return"_height"}}(),i=function(){var t,s,l;0!==r&&(s=Date.now()-h,f&&(l=e[o]-p,(0>r&&0>l||r>0&&l>0)&&(r=-r,u?r*=.3:u=!0)),t=.7*-r*Math.exp(-s/325),f&&(l>n||-n>l)&&(t>0&&n>t||0===t&&l>0?t=Math.min(l,7):(0>t&&t>-7||0===t)&&(t=Math.max(l,-7))),(!f||l>n||-n>l)&&(t>.5||-.5>t)?(c(t),requestAnimationFrame(i)):c(l))},s=function(t){var n,r,i,o,s,l,u,c,f;if(r=(null!=(c=e._snapItem)?c._children:void 0)||(null!=(f=e._contentItem)?f._children:void 0),o=1/0,s=0,r)for(l=0,u=r.length;u>l;l++)n=r[l],i=t-n[a],m>0?i+=.5*n[d]:i-=.5*n[d],(m>=0&&i>=0||0>=m&&0>=i)&&(i=Math.abs(i),o>i&&(o=i,s=n[a]));return 1/0===o?(null!=n?n[a]:void 0)||0:s},{press:function(){return m=r=0,u=!1,h=Date.now()},release:function(){var t,n,a,u;t=e._impl,a=t.snap,Math.abs(m)<5||(r=.8*m,h=Date.now(),p=e[o]+4*r,a&&(u=s(p),f=t[l]!==u,f&&(p=u,t[l]=u)),n=Math.abs(m)>10,n||(n=a&&p===u),n&&i())},update:function(e){var t,n,r;n=Date.now(),t=n-h,h=n,r=100*-e/(1+t),m=.8*r+.2*m}}},o=1,y=[],m=function(){return n.window.pointer.onMove(function(e){var t,n,r,s,l;for(r=!1,s=0,l=y.length;l>s;s++){if(t=y[s],n=t(e),n===i.STOP_PROPAGATION){r=!0;break}n===o&&(r=!0)}return r?i.STOP_PROPAGATION:void 0})},null!=n.window?m():n.onWindowReady(m),g=!1,x=function(t){var r,s,a,u,p,h,_;return u=l(t,"x"),_=l(t,"y"),a=!1,p=!1,r=s=0,h=function(e){return v(t,e.movementX+r,e.movementY+s)?void 0:e.stopPropagation=!1},m=function(){return y.push(function(n){var l,c;if(p){if(!a){if(g)return;if(r+=n.movementX,s+=n.movementY,l=f(t,r),c=d(t,s),(l!==t._contentX||c!==t._contentY)&&Math.abs(l-t._contentX)<e&&Math.abs(c-t._contentY)<e)return o;r=s=0}return h(n)===i.STOP_PROPAGATION&&(a=!0,g=!0,t._impl.swingDisabled=!0,u.update(r+n.movementX),_.update(s+n.movementY)),i.STOP_PROPAGATION}}),n.window.pointer.onRelease(function(e){p=!1,r=s=0,a&&(a=!1,g=!1,t._impl.swingDisabled=!1,h(e),u.release(),_.release())})},null!=n.window?m():n.onWindowReady(m),t.pointer.onPress(function(e){p=!0,t._impl.globalScale=c(t),u.press(),_.press()})},S=!1,p=0,b=function(e){var n,r,o,s,a,u,f,d,h,m,_,g,y,x,b;s=0,g=!1,n=!1,m=!1,r=!0,a=0,o=l(e,"x"),y=l(e,"y"),x=b=0,d=h=u=f=0,_=function(){var e;e=Date.now(),n||e-a>70?(m=!1,n=!0,o.update(x),y.update(b),o.release(),y.release()):requestAnimationFrame(_)},e.pointer.onWheel(function(l){var w;if(!e._impl.snap)return x=l.deltaX/t,b=l.deltaY/t,e._impl.globalScale=c(e),void(v(e,x,b)||(l.stopPropagation=!1));if(w=Date.now(),w-p>300&&(S=!1),p=w,!S||g){if(S||r||(g=!1,n=!1,s=0,d=h=u=f=0),s++,r=!1,x=l.deltaX/t,b=l.deltaY/t,x>0&&x>u?u=(u*(s-1)+x)/s:d>x&&(d=(d*(s-1)+x)/s),b>0&&b>f?f=(f*(s-1)+b)/s:h>b&&(h=(h*(s-1)+b)/s),x>0&&.3*u>x||0>x&&x>.3*d||b>0&&.3*f>b||0>b&&b>.3*h){if(!n)return n=!0,i.STOP_PROPAGATION}else n=!1;return n?i.STOP_PROPAGATION:(e._impl.globalScale=c(e),v(e,x,b)&&(a=w,m?(o.update(x),y.update(b)):(m=!0,o.press(),y.press(),requestAnimationFrame(_)),S=!0,g=!0),g?void 0:l.stopPropagation=!1)}})},_=function(e){this.contentItem.width<e&&v(this)},h=function(e){this.contentItem.height<e&&v(this)},r={contentItem:null,globalScale:1,snap:!1,lastSnapTargetX:0,lastSnapTargetY:0,swingPending:!1,swingDisabled:!1},{DATA:r,_getLimitedX:f,_getLimitedY:d,createData:n.utils.createDataCloner("Item",r),create:function(e){n.Types.Item.create.call(this,e),n._scrollableUsePointer&&x(this),n._scrollableUseWheel&&b(this)},setScrollableContentItem:function(e){var t;(t=this._impl.contentItem)&&(n.setItemParent.call(t,null),t.onWidthChange.disconnect(_,this),t.onHeightChange.disconnect(h,this)),e&&(this.children.length>0?n.insertItemBefore.call(e,this.children[0]):n.setItemParent.call(e,this),this._impl.contentItem=e,e.onWidthChange(_,this),e.onHeightChange(h,this))},setScrollableContentX:function(e){var t;(t=this._impl.contentItem)&&n.setItemX.call(t,-e)},setScrollableContentY:function(e){var t;(t=this._impl.contentItem)&&n.setItemY.call(t,-e)},setScrollableSnap:function(e){this._impl.snap=e},setScrollableSnapItem:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/binding.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/binding.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),isArray=Array.isArray,getPropHandlerName=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="on"+utils.capitalize(t)+"Change")}}(),MAX_LOOPS=50,n.exports=function(e){var t,n,r;return r=e.items,n=function(){function e(n,r,i,o){this.binding=n,this.prop=i,this.parent=o,this.handlerName=getPropHandlerName(i),this.isConnected=!1,isArray(r)?(this.itemId="",this.child=e.factory(n,r[0],r[1],this),this.item=this.child.getValue()):(this.itemId=r,this.child=null,this.item=t.getItemById(n,r)),this.connect()}var n,r;return r=[],e.factory=function(t,n,i,o){var s;return null==o&&(o=null),r.length>0&&(s=r.pop())?(e.call(s,t,n,i,o),s):new e(t,n,i,o)},n=function(){var e,t;return t=function(){return this.parent.updateItem()},e=function(){return this.binding.update()},function(n){return n.parent?t:e}}(),e.prototype.update=function(){return n(this).call(this)},e.prototype.connect=function(){var e;this.item&&(e=this.item[this.handlerName],null!=e&&(this.isConnected=!0,e(n(this),this)))},e.prototype.disconnect=function(){this.item&&this.isConnected&&this.item[this.handlerName].disconnect(n(this),this),this.isConnected=!1},e.prototype.updateItem=function(){var e,n;e=this.item,n=this.child?this.child.getValue():t.getItemById(this.binding,this.itemId),e&&!this.isConnected&&(this.connect(),e=null),e!==n&&(this.disconnect(),this.item=n,this.connect(),this.parent||this.binding.update()),this.parent&&this.parent.updateItem()},e.prototype.getValue=function(){return this.item?this.item[this.prop]:null},e.prototype.destroy=function(){var e;this.disconnect(),null!=(e=this.child)&&e.destroy(),r.push(this)},e}(),t=function(){function t(e,t,r,o,s){var l,a,u,c,f,d;for(this.obj=e,this.prop=t,this.component=o,this.ctx=s,u=this.item=e._ref||e,"function"==typeof o.onObjectChange&&o.onObjectChange(i,this),this.func=r[0],this.args=o.objectsOrder,l=this.connections||(this.connections=[]),d=r[1],c=0,f=d.length;f>c;c++)a=d[c],isArray(a)&&l.push(n.factory(this,a[0],a[1]));this.update()}var r,i,o;return o=[],t.factory=function(e,n,r,i,s){var l;return(l=o.pop())?(t.call(l,e,n,r,i,s),l):new t(e,n,r,i,s)},t.getItemById=function(t,n){return"this"===n?t.ctx:"view"===n?e.Renderer.window:t.component.objects[n]||e.Renderer[n]||null},i=function(e){var t,n,r,i;for(i=this.connections,n=0,r=i.length;r>n;n++){for(t=i[n];t.child;)t=t.child;t.itemId===e&&t.updateItem()}},r=function(e){var t;switch(t=e.obj[e.prop],typeof t){case"string":return"";case"number":return 0;case"boolean":return!1;default:return null}},t.prototype.update=function(){var e;this.args&&(e=utils.tryFunction(this.func,this.ctx,this.args),null==e&&(e=r(this)),"number"!=typeof e||isFinite(e)||(e=r(this)),this.obj[this.prop]=e)},t.prototype.destroy=function(){var e,t,n,r,s;for(r=this.connections,t=0,n=r.length;n>t;t++)e=r[t],e.destroy();this.obj._impl.bindings[this.prop]=null,this.args=null,utils.clear(this.connections),null!=(s=this.component.onObjectChange)&&s.disconnect(i,this),o.push(this)},t}(),{setItemBinding:function(e,n,r,i){var o,s;o=this._impl,null==o.bindings&&(o.bindings={}),null!=(s=o.bindings[e])&&s.destroy(),null!=n&&(o.bindings[e]=t.factory(this,e,n,r,i))}}}}.call(this),n.exports}(),t["../renderer/impl/base/level1/anchors.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level1/anchors.coffee"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md"}),n.exports}return function(){isArray=Array.isArray,n.exports=function(e){var t,n,r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P;return n=function(){return 0},r=10,E=0,I=[[],[]],w=I[E],S=!1,P=function(){var e,t;for(S=!1,t=w,w=I[++E%I.length];t.length;)e=t.pop(),e.pending=!1,e.update()},O=function(){this.pending||(this.pending=!0,w.push(this),S||(setImmediate(P),S=!0))},u={left:"x",top:"y",right:"x",bottom:"y",horizontalCenter:"x",verticalCenter:"y",fillWidthSize:"width",fillHeightSize:"height"},d={left:["onMarginChange"],top:["onMarginChange"],right:["onMarginChange","onWidthChange"],bottom:["onMarginChange","onHeightChange"],horizontalCenter:["onMarginChange","onWidthChange"],verticalCenter:["onMarginChange","onHeightChange"],fillWidthSize:["onMarginChange"],fillHeightSize:["onMarginChange"]},h={left:{parent:[],children:[],sibling:["onXChange"]},top:{parent:[],children:[],sibling:["onYChange"]},right:{parent:["onWidthChange"],sibling:["onXChange","onWidthChange"]},bottom:{parent:["onHeightChange"],sibling:["onYChange","onHeightChange"]},horizontalCenter:{parent:["onWidthChange"],sibling:["onXChange","onWidthChange"]},verticalCenter:{parent:["onHeightChange"],sibling:["onYChange","onHeightChange"]},fillWidthSize:{parent:["onWidthChange"],children:[],sibling:["onWidthChange"]},fillHeightSize:{parent:["onHeightChange"],children:[],sibling:["onHeightChange"]}},f={left:function(e){return 0},top:function(e){return 0},right:function(e){return-e._width},bottom:function(e){return-e._height},horizontalCenter:function(e){return-e._width/2},verticalCenter:function(e){return-e._height/2},fillWidthSize:function(e){return 0},fillHeightSize:function(e){return 0}},p={left:{parent:function(e){return 0},children:function(e){return 0},sibling:function(e){return e._x}},top:{parent:function(e){return 0},children:function(e){return 0},sibling:function(e){return e._y}},right:{parent:function(e){return e._width},sibling:function(e){return e._x+e._width}},bottom:{parent:function(e){return e._height},sibling:function(e){return e._y+e._height}},horizontalCenter:{parent:function(e){return e._width/2},sibling:function(e){return e._x+e._width/2}},verticalCenter:{parent:function(e){return e._height/2},sibling:function(e){return e._y+e._height/2}},fillWidthSize:{parent:function(e){return e._width},children:function(e){var t,n,r,i,o;for(r=0,n=0,i=0,o=e.length;o>i;i++)t=e[i],t._visible&&(r=t._width,r>n&&(n=r));return n},sibling:function(e){return e._width}},fillHeightSize:{parent:function(e){return e._height},children:function(e){var t,n,r,i,o;for(r=0,n=0,i=0,o=e.length;o>i;i++)t=e[i],t._visible&&(r=t._height,r>n&&(n=r));return n},sibling:function(e){return e._height}}},c={left:function(e){return e._left},top:function(e){return e._top},right:function(e){return-e._right},bottom:function(e){return-e._bottom},horizontalCenter:function(e){return e._left-e._right},verticalCenter:function(e){return e._top-e._bottom},fillWidthSize:function(e){return-e._left-e._right},fillHeightSize:function(e){return-e._top-e._bottom}},x=function(e){var t,n,r,i,o,s,l,a;if(e)for(l=h[this.line].parent,r=0,o=l.length;o>r;r++)t=l[r],e[t].disconnect(O,this);if(n=this.targetItem=this.item._parent)for(a=h[this.line].parent,i=0,s=a.length;s>i;i++)t=a[i],n[t](O,this);O.call(this)},v=function(e){var t,n,r,i,o,s,l,a;if(e)for(l=h[this.line].sibling,r=0,o=l.length;o>r;r++)t=l[r],e[t].disconnect(O,this);if(n=this.targetItem=this.item._nextSibling)for(a=h[this.line].sibling,i=0,s=a.length;s>i;i++)t=a[i],n[t](O,this);O.call(this)},b=function(e){var t,n,r,i,o,s,l,a;if(e)for(l=h[this.line].sibling,r=0,o=l.length;o>r;r++)t=l[r],e[t].disconnect(O,this);if(n=this.targetItem=this.item._previousSibling)for(a=h[this.line].sibling,i=0,s=a.length;s>i;i++)t=a[i],n[t](O,this);O.call(this)},_=function(e){e.onVisibleChange(O,this),"fillWidthSize"===this.source&&e.onWidthChange(O,this),"fillHeightSize"===this.source&&e.onHeightChange(O,this),O.call(this)},g=function(e){e.onVisibleChange.disconnect(O,this),"fillWidthSize"===this.source&&e.onWidthChange.disconnect(O,this),"fillHeightSize"===this.source&&e.onHeightChange.disconnect(O,this),O.call(this)},y=function(e,t){return e&&_.call(this,e),t?g.call(this,t):void 0},t=function(){function e(e,t,r){var i,o,s,l,a,c,m,g,S,w,E,I,P;for(this.item=e,this.source=t,l=r[0],s=r[1],null==s&&(s=t),this.target=l,this.line=s,this.pending=!1,this.updateLoops=0,this.type="parent"===l||e._parent===l?"parent":"children"===l?"children":"sibling",E=d[t],a=0,g=E.length;g>a;a++)o=E[a],e[o](O,this);switch(this.prop=u[t],this.getSourceValue=f[t],this.getTargetValue=p[s][this.type],"function"!=typeof this.getTargetValue&&(this.getTargetValue=n),l){case"parent":this.targetItem=e._parent,e.onParentChange(x,this),x.call(this,null);break;case"children":for(this.targetItem=e._children,e.onChildrenChange(y,this),I=e.children,c=0,S=I.length;S>c;c++)i=I[c],_.call(this,i);break;case"nextSibling":this.targetItem=e._nextSibling,e.onNextSiblingChange(v,this),v.call(this,null);break;case"previousSibling":this.targetItem=e._previousSibling,e.onPreviousSiblingChange(b,this),b.call(this,null);break;default:if(this.targetItem=l)for(P=h[s][this.type],m=0,w=P.length;w>m;m++)o=P[m],this.targetItem[o](O,this);O.call(this)}}var t;return t=[],e.factory=function(n,r,i){var o;return t.length>0&&(o=t.pop())?(e.call(o,n,r,i),o):new e(n,r,i)},e.prototype.update=function(){var e,t,n;if(this.item&&!(this.updateLoops>=r)){switch(this.target){case"parent":n=this.item._parent;break;case"children":n=this.item._children;break;case"nextSibling":n=this.item._nextSibling;break;case"previousSibling":n=this.item._previousSibling;break;default:n=this.targetItem}n&&n===this.targetItem&&(t=n?this.getSourceValue(this.item)+this.getTargetValue(n):0,(e=this.item._margin)&&(t+=c[this.source](e)),this.updateLoops++,this.item[this.prop]=t,this.updateLoops===r?this.updateLoops++:this.updateLoops<r&&this.updateLoops--)}},e.prototype.destroy=function(){var e,n,r,i,o,s,l,a,u,c,f;switch(this.target){case"parent":this.item.onParentChange.disconnect(x,this);break;case"children":for(this.item.onChildrenChange.disconnect(y,this),u=this.item.children,r=0,s=u.length;s>r;r++)e=u[r],g.call(this,e,-1);break;case"nextSibling":this.item.onNextSiblingChange.disconnect(v,this);break;case"previousSibling":this.item.onPreviousSiblingChange.disconnect(b,this)}for(c=d[this.source],i=0,l=c.length;l>i;i++)n=c[i],this.item[n].disconnect(O,this);if(this.targetItem)for(f=h[this.line][this.type],o=0,a=f.length;a>o;o++)n=f[o],this.targetItem[n].disconnect(O,this);this.item=this.targetItem=null,t.push(this)},e.prototype.toString=function(){return""+this.item.toString()+".anchors."+this.source+": "+this.target+"."+this.line},e}(),l={centerIn:["horizontalCenter","verticalCenter"],fillWidth:["fillWidthSize","left"],fillHeight:["fillHeightSize","top"],fill:["fillWidthSize","fillHeightSize","left","top"]},a={__proto__:null},m=function(e){return!!l[e]},i=function(){function e(e,n,r){var i,o,s,u,c,f;for(this.anchors=[],r=[r[0],""],this.pending=!1,o=null!=(f=a[r[0]])?f[n]:void 0,null==o&&(o=l[n]),u=0,c=o.length;c>u;u++)s=o[u],r[1]=s,i=t.factory(e,s,r),this.anchors.push(i)}var n;return n=[],e.factory=function(t,r,i){var o;return(o=n.pop())?(e.call(o,t,r,i),o):new e(t,r,i)},e.prototype.update=function(){var e,t,n,r;for(r=this.anchors,t=0,n=r.length;n>t;t++)e=r[t],e.update()},e.prototype.destroy=function(){var e,t,r,i;for(i=this.anchors,t=0,r=i.length;r>t;t++)e=i[t],e.destroy();n.push(this)},e}(),o=function(e,n,r){return m(n)?i.factory(e,n,r):t.factory(e,n,r)},s={setItemAnchor:function(e,t){var n,r;n=null!=(r=this._impl).anchors?r.anchors:r.anchors={},(t||n[e])&&(n[e]&&(n[e].destroy(),n[e]=null),t&&(n[e]=o(this,e,t)))}}}}.call(this),n.exports}(),t["../renderer/impl/base/utils.coffee"]=function(){{var n={exports:t["../renderer/impl/base/utils.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","./utils/grid":"../renderer/impl/base/utils/grid.coffee"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){return{INTEGER_PROPERTIES:{__proto__:null,x:!0,y:!0,width:!0,height:!0},SETTER_METHODS_NAMES:{__proto__:null,x:"setItemX",y:"setItemY",width:"setItemWidth",height:"setItemHeight",opacity:"setItemOpacity",rotation:"setItemRotation",scale:"setItemScale",offsetX:"setImageOffsetX",offsetY:"setImageOffsetY",sourceWidth:"setImageSourceWidth",sourceHeight:"setImageSourceHeight"},grid:r("./utils/grid"),createDataCloner:function(n,r){return function(){var i,o,s;return s=n,null!=r&&(n=t.Types[n].DATA,s=e.clone(n),e.merge(s,r),e.merge(r,s)),o=JSON.stringify(s),i=Function("return "+o)}},radToDeg:function(){var e;return e=180/Math.PI,function(t){return t*e}}(),degToRad:function(){var e;return e=Math.PI/180,function(t){return t*e}}()}}}.call(this),n.exports}(),t["../renderer/impl/base/utils/grid.coffee"]=function(){var n={exports:t["../renderer/impl/base/utils/grid.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","typed-array":"../typed-array/index.coffee.md"}),i=n.exports;return function(){MAX_LOOPS=100,utils=r("utils"),TypedArray=r("typed-array"),queueIndex=0,queues=[[],[]],queue=queues[queueIndex],pending=!1,visibleChildren=new TypedArray.Uint8(64),columnsSizes=new TypedArray.Uint32(64),columnsFills=new TypedArray.Uint8(64),rowsSizes=new TypedArray.Uint32(64),rowsFills=new TypedArray.Uint8(64),unusedFills=new TypedArray.Uint8(64),getArray=function(e,t){return e.length<t?new e.constructor(1.4*t|0):e},getCleanArray=function(e,t){var n,r,i;if(r=getArray(e,t),r===e){for(n=i=0;t>i;n=i+=1)e[n]=0;return e}return r},ALIGNMENT_TO_POINT={left:0,center:.5,right:1,top:0,bottom:1},updateItem=function(e){var t,n,r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A,C,T,N,R,L,k,F,j,D,M,U,H,V,W,B,z,q,G,J,Y,X,Q,K,$,Z,et,tt,nt,rt,it,ot,st,lt,at;if(v=e._effectItem){for(P=e.includeBorderMargins,p=v.children,y=e._impl,w=y.gridType,s=y.autoWidth,o=y.autoHeight,m=z=0,(T=v._layout)&&(s&&(s=!T._fillWidth),o&&(o=!T._fillHeight)),w===ALL?(g=e.columns,G=e.rows,m=e.spacing.column,z=e.spacing.row):w===COLUMN?(z=e.spacing,g=1,G=1/0):w===ROW&&(m=e.spacing,g=1/0,G=1),(r=e._alignment)?(t=ALIGNMENT_TO_POINT[r._horizontal],n=ALIGNMENT_TO_POINT[r._vertical]):(t=0,n=0),(D=e._padding)?(Y=D._top,W=D._right,a=D._bottom,R=D._left):Y=W=a=R=0,F=1/0===g?p.length:g,columnsSizes=getCleanArray(columnsSizes,F),columnsFills=getCleanArray(columnsFills,F),j=1/0===G?Math.ceil(p.length/g):G,rowsSizes=getCleanArray(rowsSizes,j),rowsFills=getCleanArray(rowsFills,j),visibleChildren=getArray(visibleChildren,p.length),O=A=0,C=-1,d=K=0,tt=p.length;tt>K;d=++K)f=p[d],!f._visible||f._layout&&!f._layout._enabled?visibleChildren[d]=0:(visibleChildren[d]=1,h=O%g,B=Math.floor(O/g)%G,h>A&&(A=h),B>C&&(C=B),O++);for(O=_=q=0,d=$=0,nt=p.length;nt>$;d=++$)f=p[d],visibleChildren[d]&&(Q=f._width,I=f._height,k=f._margin,T=f._layout,h=O%g,B=Math.floor(O/g)%G,T&&(T._fillWidth&&(Q=0,_++,columnsFills[h]=1),T._fillHeight&&(I=0,q++,rowsFills[B]=1)),k&&((P||0!==h)&&(Q+=k._left),(P||h!==A)&&(Q+=k._right),(P||0!==B)&&(I+=k._top),(P||B!==C)&&(I+=k._bottom)),Q>columnsSizes[h]&&(columnsSizes[h]=Q),I>rowsSizes[B]&&(rowsSizes[B]=I),O++);if(E=0,s||_>0||0!==t)for(O=Z=0;A>=Z;O=Z+=1)E+=columnsSizes[O];if(S=0,o||q>0||0!==n)for(O=et=0;C>=et;O=et+=1)S+=rowsSizes[O];if(!s&&(b=v._width-m*A-R-W-E,b>0&&_>0)){for(unusedFills=getCleanArray(unusedFills,A+1),L=A+1,M=(E+b)/L,X=!0;X;)for(X=!1,O=it=0;A>=it;O=it+=1)0===unusedFills[O]&&(0===columnsFills[O]||columnsSizes[O]>M)&&(L--,M-=(columnsSizes[O]-M)/L,unusedFills[O]=1,X=!0);for(O=ot=0;A>=ot;O=ot+=1)0===unusedFills[O]&&(columnsSizes[O]=M);b=0}if(!o&&(x=v._height-z*C-Y-a-S,x>0&&q>0)){for(unusedFills=getCleanArray(unusedFills,C+1),L=C+1,M=(S+x)/L,X=!0;X;)for(X=!1,O=st=0;C>=st;O=st+=1)0===unusedFills[O]&&(0===rowsFills[O]||rowsSizes[O]>M)&&(L--,M-=(rowsSizes[O]-M)/L,unusedFills[O]=1,X=!0);for(O=lt=0;C>=lt;O=lt+=1)0===unusedFills[O]&&(rowsSizes[O]=M);x=0}for(U=s||0===t?0:b*t,H=o||0===n?0:x*n,O=u=c=0,d=at=0,rt=p.length;rt>at;d=++at)f=p[d],visibleChildren[d]&&(k=f._margin,T=f._layout,i=f._anchors,h=O%g,B=Math.floor(O/g)%G,0===h?(u=0,0===B?c=0:c+=rowsSizes[B-1]+z):u+=columnsSizes[h-1]+m,N=V=0,k&&((P||0!==h)&&(N=k._left),(P||h!==A)&&(V=k._right)),J=l=0,k&&((P||0!==B)&&(J=k._top),(P||B!==C)&&(l=k._bottom)),T&&(T._fillWidth&&(Q=columnsSizes[h]-N-V,f.width=Q),T._fillHeight&&(I=rowsSizes[B]-J-l,f.height=I)),(null!=i?i._autoX:void 0)||(f.x=u+U+N+R+columnsSizes[h]*t-(f._width+N+V)*t),(null!=i?i._autoY:void 0)||(f.y=c+H+J+Y+rowsSizes[B]*n-(f._height+J+l)*n),O++);s&&(v.width=E+m*A+R+W),o&&(v.height=S+z*C+Y+a)}},updateItems=function(){var e,t;for(pending=!1,e=queue,queue=queues[++queueIndex%queues.length];e.length;)t=e.pop(),t._impl.pending=!1,t._impl.updatePending=!0,updateItem(t),t._impl.updatePending=!1},update=function(){var e,t;if(e=this._impl,!e.pending&&(null!=(t=this._effectItem)?t._visible:void 0)){if(e.pending=!0,e.updatePending){if(e.gridUpdateLoops>MAX_LOOPS)return;if(++e.gridUpdateLoops===MAX_LOOPS)return}else e.gridUpdateLoops=0;queue.push(this),pending||(setImmediate(updateItems),pending=!0)}},updateSize=function(){this._impl.updatePending||update.call(this)},onWidthChange=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillWidth||(this._impl.autoWidth=0===this._effectItem._width&&-1!==e),updateSize.call(this)},onHeightChange=function(e){var t;return!this._effectItem||this._impl.updatePending||(t=this._effectItem._layout)&&t._fillHeight||(this._impl.autoHeight=0===this._effectItem._height&&-1!==e),updateSize.call(this)},enableChild=function(e){return e.onVisibleChange(update,this),e.onWidthChange(update,this),e.onHeightChange(update,this),e.onMarginChange(update,this),e.onAnchorsChange(update,this),e.onLayoutChange(update,this)
},disableChild=function(e){return e.onVisibleChange.disconnect(update,this),e.onWidthChange.disconnect(update,this),e.onHeightChange.disconnect(update,this),e.onMarginChange.disconnect(update,this),e.onAnchorsChange.disconnect(update,this),e.onLayoutChange.disconnect(update,this)},onChildrenChange=function(e,t){return e&&enableChild.call(this,e),t&&disableChild.call(this,t),update.call(this)},COLUMN=i.COLUMN=1,ROW=i.ROW=2,ALL=i.ALL=3,i.DATA={pending:!1,updatePending:!1,gridType:0,gridUpdateLoops:0,autoWidth:!0,autoHeight:!0},i.create=function(e,t){return e._impl.gridType=t,e.onAlignmentChange(updateSize)},i.update=update,i.setEffectItem=function(e,t){var n,r,i,o,s,l,a;if(t)for(t.onVisibleChange.disconnect(update,this),t.onChildrenChange.disconnect(onChildrenChange,this),t.onLayoutChange.disconnect(update,this),t.onWidthChange.disconnect(onWidthChange,this),t.onHeightChange.disconnect(onHeightChange,this),l=t.children,r=0,o=l.length;o>r;r++)n=l[r],disableChild.call(this,n);if(e){for((this._impl.autoWidth=0===e.width)&&(e.width=-1),(this._impl.autoHeight=0===e.height)&&(e.height=-1),e.onVisibleChange(update,this),e.onChildrenChange(onChildrenChange,this),e.onLayoutChange(update,this),e.onWidthChange(onWidthChange,this),e.onHeightChange(onHeightChange,this),a=e.children,i=0,s=a.length;s>i;i++)n=a[i],enableChild.call(this,n);update.call(this)}}}.call(this),n.exports}(),t["../renderer/impl/base/index.coffee"]=function(){var n={exports:t["../renderer/impl/base/index.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","./level0/item":"../renderer/impl/base/level0/item.coffee","./level0/image":"../renderer/impl/base/level0/image.coffee","./level0/text":"../renderer/impl/base/level0/text.coffee","./level0/textInput":"../renderer/impl/base/level0/textInput.coffee","./level0/loader/font":"../renderer/impl/base/level0/loader/font.coffee","./level0/loader/resources":"../renderer/impl/base/level0/loader/resources.coffee","./level0/device":"../renderer/impl/base/level0/device.coffee","./level0/screen":"../renderer/impl/base/level0/screen.coffee","./level0/navigator":"../renderer/impl/base/level0/navigator.coffee","./level0/sensor/rotation":"../renderer/impl/base/level0/sensor/rotation.coffee","./level0/sound/ambient":"../renderer/impl/base/level0/sound/ambient.coffee","./level1/rectangle":"../renderer/impl/base/level1/rectangle.coffee","./level1/grid":"../renderer/impl/base/level1/grid.coffee","./level1/column":"../renderer/impl/base/level1/column.coffee","./level1/row":"../renderer/impl/base/level1/row.coffee","./level1/flow":"../renderer/impl/base/level1/flow.coffee","./level1/animation":"../renderer/impl/base/level1/animation.coffee","./level1/animation/property":"../renderer/impl/base/level1/animation/property.coffee","./level1/animation/number":"../renderer/impl/base/level1/animation/number.coffee","./level2/scrollable":"../renderer/impl/base/level2/scrollable.coffee","./level1/binding":"../renderer/impl/base/level1/binding.coffee","./level1/anchors":"../renderer/impl/base/level1/anchors.coffee","./utils":"../renderer/impl/base/utils.coffee"}),i=n.exports;return function(){var e;e=r("utils"),i.Types={Item:r("./level0/item"),Image:r("./level0/image"),Text:r("./level0/text"),TextInput:r("./level0/textInput"),FontLoader:r("./level0/loader/font"),ResourcesLoader:r("./level0/loader/resources"),Device:r("./level0/device"),Screen:r("./level0/screen"),Navigator:r("./level0/navigator"),RotationSensor:r("./level0/sensor/rotation"),AmbientSound:r("./level0/sound/ambient"),Rectangle:r("./level1/rectangle"),Grid:r("./level1/grid"),Column:r("./level1/column"),Row:r("./level1/row"),Flow:r("./level1/flow"),Animation:r("./level1/animation"),PropertyAnimation:r("./level1/animation/property"),NumberAnimation:r("./level1/animation/number"),Scrollable:r("./level2/scrollable")},i.Extras={Binding:r("./level1/binding"),Anchors:r("./level1/anchors")},i.items={},i.utils=r("./utils")(i),i.window=null,i.pixelRatio=1,i.setWindow=function(e){}}.call(this),n.exports}(),t["../renderer/impl/css/index.coffee"]=function(){{var n={exports:t["../renderer/impl/css/index.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","./utils":"../renderer/impl/css/utils.coffee","./level0/item":"../renderer/impl/css/level0/item.coffee","./level0/image":"../renderer/impl/css/level0/image.coffee","./level0/text":"../renderer/impl/css/level0/text.coffee","./level0/textInput":"../renderer/impl/css/level0/textInput.coffee","./level0/loader/font":"../renderer/impl/css/level0/loader/font.coffee","./level0/loader/resources":"../renderer/impl/css/level0/loader/resources.coffee","./level0/device":"../renderer/impl/css/level0/device.coffee","./level0/screen":"../renderer/impl/css/level0/screen.coffee","./level0/navigator":"../renderer/impl/css/level0/navigator.coffee","./level0/sensor/rotation":"../renderer/impl/css/level0/sensor/rotation.coffee","./level1/rectangle":"../renderer/impl/css/level1/rectangle.coffee","./level2/scrollable":"../renderer/impl/css/level2/scrollable.coffee","./level0/sound/ambient":"../renderer/impl/css/level0/sound/ambient.coffee"});n.exports}return function(){var e,t,i,o,s;s=r("utils"),e="#hatchery { visibility: hidden; } #hatchery span { display: inline-block; } * { margin: 0; padding: 0; -webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; -webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; outline: none !important; } #styles { position: absolute; width: 100%; height: 100%; overflow: hidden; top: 0; left: 0 } html, body { height: 100%; margin: 0; padding: 0; -webkit-overflow-scrolling: touch; } #body { position: absolute; z-index: 0; } #styles div, #styles span, #styles canvas, #styles img, #styles textarea { position: absolute; } #styles span span { position: static; } span * { display: inline; font-weight: inherit; font-size: inherit; font-family: inherit; font-style: inherit; border: 0; background: none; } span b, span strong { font-weight: bolder; } span i, span em { font-style: italic; } code { white-space: pre; } img { width: 100%; height: 100%; pointer-events: none; } .link { position: absolute; width: 100%; height: 100%; z-index: 1; } .rect { width: 100%; height: 100%; box-sizing: border-box; border: 0 solid transparent; } .unselectable, .unselectable:focus { -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; outline-style:none; } .layer { -moz-perspective: 1px; /* Firefox */ -webkit-transform-style: preserve-3d; /* Safari */ -webkit-perspective: 1px; /* Safari */ -webkit-backface-visibility: hidden; /* Safari, Chrome */ }",o="ontouchstart"in window,t=document.createElement("div"),t.setAttribute("id","styles"),i=document.createElement("div"),i.setAttribute("id","hatchery"),window.addEventListener("load",function(){var n,r;return document.body.appendChild(i),document.body.appendChild(t),r=document.createElement("style"),r.innerHTML=e,document.body.appendChild(r),o?(n=document.createElement("meta"),n.setAttribute("name","viewport"),n.setAttribute("content","width=device-width, initial-scale=1"),document.head.appendChild(n)):void 0}),n.exports=function(e){var n,o;return n=e.items,e._hatchery=i,s.merge(e.utils,r("./utils")),window.addEventListener("resize",o=function(){var t,n;t=e.window,t&&(n=window.devicePixelRatio||1,n%1!==0?(t.width=innerWidth+1,t.height=innerHeight+1):(t.width=innerWidth,t.height=innerHeight))}),t.addEventListener("scroll",function(){window.scrollTo(0,0)}),{AbstractTypes:s.clone(e.Types),Types:{Item:r("./level0/item"),Image:r("./level0/image"),Text:r("./level0/text"),TextInput:r("./level0/textInput"),FontLoader:r("./level0/loader/font"),ResourcesLoader:r("./level0/loader/resources"),Device:r("./level0/device"),Screen:r("./level0/screen"),Navigator:r("./level0/navigator"),RotationSensor:r("./level0/sensor/rotation"),Rectangle:r("./level1/rectangle"),Scrollable:r("./level2/scrollable"),AmbientSound:r("./level0/sound/ambient")},setWindow:function(e){var n;n=function(){var n;if("complete"===document.readyState){for(;n=t.firstChild;)t.removeChild(n);t.appendChild(e._impl.elem),o(),setTimeout(o),setTimeout(o,500),requestAnimationFrame(o)}},"complete"===document.readyState?n():document.addEventListener("readystatechange",n)}}}}.call(this),n.exports}(),t["../renderer/impl/css/utils.coffee"]=function(){var n={exports:t["../renderer/impl/css/utils.coffee"]},r=e.bind(null,{signal:"../signal/index.coffee.md"}),i=n.exports;return function(){var e,t,n,o;t=r("signal"),e=i.isFirefox=-1!==navigator.userAgent.indexOf("Firefox"),o=i.transformProp=function(){var e;return e=function(){var e;return e=document.createElement("div"),null!=e.style.transform?"t":null!=e.style.webkitTransform?"webkitT":null!=e.style.mozTransform?"mozT":null!=e.style.msTransform?"msT":void 0}(),""+e+"ransform"}(),n=i.transformCSSProp=function(){return-1!==o.indexOf("T")?"-"+o.replace("T","-t"):o}(),i.transform3dSupported=function(){var e;return e=document.createElement("div"),e.style[o]="translate3d(1px,1px,0)",-1!==e.style[o].indexOf("translate3d")}(),i.rad2deg=function(e){return 180*e/Math.PI},i.getFontWeight=function(e){return 100*Math.round(8*e)+100},i.prependElement=function(e,t){var n;return(n=e.firstChild)?e.insertBefore(t,n):e.appendChild(t)},i.insertAfter=function(e,t){return t.nextElement?t.parentElement.insertBefore(e,t.nextElement):t.parentElement.appendChild(e)},i.encodeImageSrc=function(){var e;return e=/^data:([a-z+\/]+)/,function(t){return e.test(t)?t.replace(/\#/g,encodeURIComponent("#")):t}}(),i.pointerWheelEventName=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"MozMousePixelScroll"}(),i.keysEvents=function(){var e,t,n;return e={32:"Space",13:"Enter",9:"Tab",27:"Escape",8:"Backspace",16:"Shift",17:"Ctrl",18:"Alt",20:"CapsLock",144:"NumLock",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",36:"Home",35:"End",33:"PageUp",34:"PageDown",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12"},n=Object.create(null),window.addEventListener("keydown",function(r){var i,o,s;return i=r.which||r.keyCode,o=e[i]||String.fromCharCode(i),n[o]&&n[o]!==r?!1:(n[o]=r,null!=(s=t.focusedKeys)?s.onPress.emit({key:o}):void 0)}),window.addEventListener("keydown",function(n){var r,i,o;return r=n.which||n.keyCode,i=e[r]||String.fromCharCode(r),null!=(o=t.focusedKeys)?o.onHold.emit({key:i}):void 0}),window.addEventListener("keyup",function(r){var i,o,s;return i=r.which||r.keyCode,o=e[i]||String.fromCharCode(i),n[o]=null,null!=(s=t.focusedKeys)?s.onRelease.emit({key:o}):void 0}),window.addEventListener("keypress",function(e){var n,r,i;return n=e.charCode||e.which||e.keyCode,r=String.fromCharCode(n),null!=(i=t.focusedKeys)?i.onInput.emit({text:r}):void 0}),t={focusedKeys:null,setItemKeysFocus:function(e){var n;n=this.keys,e===!0?t.focusedKeys=n:t.focusedKeys===n&&(t.focusedKeys=null)}}}(),t.create(i,"onFontLoaded"),i.loadingFonts=Object.create(null),i.loadedFonts=Object.create(null),i.DEFAULT_FONTS={__proto__:null,sans:"neft-sans-6-normal","sans-serif":"neft-sans-serif-6-normal",monospace:"neft-monospace-6-normal"}}.call(this),n.exports}(),t["../renderer/impl/css/level0/item.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/item.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","../utils":"../renderer/impl/css/utils.coffee",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){utils=r("utils"),implUtils=r("../utils"),signal=r("signal"),now=Date.now,isTouch="ontouchstart"in window,SIGNALS_CURSORS={pointer:{onClick:"pointer"}},n.exports=function(e){var t,n,r,i,o,s,l,a,u,c,f;return r=8,n=1e3,o=e.utils.transform3dSupported,s=[],f=e.utils,u=f.transformProp,l=f.rad2deg,implUtils=e.utils,o&&setInterval(function(){var e,t,n;for(e=0,n=s.length;n>e;)t=s[e],t.operations=.5*t.operations|0,t.operations<r?(t.operations=0,e===n-1?s.pop():s[e]=s.pop(),n--,t.isLayer&&(t.elem.setAttribute("class",""),t.isLayer=!1,c(t),t.operations=0),t.isInLayers=!1):e++},n),a=Math.round,c=function(e){var t;t="",o&&(e.isInLayers||(s.push(e),e.isInLayers=!0),!e.isLayer&&e.operations>=r?(e.elem.setAttribute("class","layer"),e.isLayer=!0):e.operations++),t=e.isLayer?"translate3d("+e.x+"px, "+e.y+"px, 0) ":"translate("+e.x+"px, "+e.y+"px) ",e.rotation&&(t+="rotate("+l(e.rotation)+"deg) "),1!==e.scale&&(t+="scale("+e.scale+") "),e.elemStyle[u]=t},i=function(){},t=utils.merge({bindings:null,anchors:null,elem:null,elemStyle:null,linkElem:null,x:0,y:0,rotation:0,scale:1,mozFontSubpixel:!0,isLayer:!1,isInLayers:!1,operations:0},e.pointer.DATA),{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){return null==e.elem&&(e.elem=document.createElement("div")),e.elemStyle=e.elem.style},setItemParent:function(t){var n,r,i;r=this,n=this._impl.elem,t?t._impl.elem.appendChild(n):null!=(i=n.parentElement)&&i.removeChild(n),e.pointer.setItemParent.call(this,t)},insertItemBefore:function(t){var n,r,i,o;i=t?t._parent:this._parent,o=t?t._impl.elem:null,r=this._impl.elem.parentElement,n=i._impl.elem,r!==n&&e.pointer.setItemParent.call(this,n),n.insertBefore(this._impl.elem,o)},setItemBackground:function(e){var t,n,r;(null!=(n=t=null!=(r=this._background)?r._impl.elem:void 0)?n.parentNode:void 0)===this._impl.elem&&this._impl.elem.removeChild(t),e&&implUtils.prependElement(this._impl.elem,e._impl.elem)},setItemVisible:function(e){this._impl.elemStyle.display=e?"inline":"none"},setItemClip:function(e){this._impl.elemStyle.overflow=e?"hidden":"visible"},setItemWidth:function(e){this._impl.elemStyle.width=""+e+"px"},setItemHeight:function(e){this._impl.elemStyle.height=""+e+"px"},setItemX:function(e){this._impl.x=a(e),c(this._impl)},setItemY:function(e){this._impl.y=a(e),c(this._impl)},setItemZ:function(e){this._impl.elemStyle.zIndex=0===e?"auto":e},setItemScale:function(e){this._impl.scale=e,c(this._impl)},setItemRotation:function(e){this._impl.rotation=e,c(this._impl)},setItemOpacity:function(e){this._impl.elemStyle.opacity=e},setItemLinkUri:function(e){var t;this._impl.linkElem||(t=this._impl.linkElem=document.createElement("a"),t.setAttribute("class","link"),this._impl.elem.appendChild(t)),this._impl.linkElem.getAttribute("href")!==e&&(this._impl.linkElem.setAttribute("href",e),this._impl.linkElem.style.display=""!==e?"block":"none")},attachItemSignal:function(t,n){var r,i;"pointer"===t&&e.pointer.attachItemSignal.call(this,n),(r=null!=(i=SIGNALS_CURSORS[t])?i[n]:void 0)&&(this._ref._impl.elemStyle.cursor=r)}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/image.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/image.coffee"]},r=e.bind(null,{signal:"../signal/index.coffee.md"});n.exports}return function(){var e;e=r("signal"),n.exports=function(t){var n,r,i,o,s,l,a,u,c,f,d;return i=t.Types.Item,c=Math.round,o=Object.create(null),l=function(t,n){var r,i;return r=document.createElement("img"),r.src=t,r.addEventListener("error",function(){return i.status="error",i.onLoaded.emit()}),r.addEventListener("load",function(){var e;return i.status="ready",i.width=(null!=n?n.width:void 0)||this.naturalWidth||this.width,i.height=(null!=n?n.height:void 0)||this.naturalHeight||this.height,0===i.width&&0===i.height&&/\.svg$/.test(i.source)?(e=new XMLHttpRequest,e.overrideMimeType("text/xml"),e.open("get",i.source,!0),e.onload=function(){var t,n,r;return t=e.responseXML,n=t.querySelector("svg"),r=n.getAttribute("viewBox"),r=r?r.split(" "):[0,0,0,0],i.width=parseFloat(n.getAttribute("width"))||parseFloat(r[2]),i.height=parseFloat(n.getAttribute("height"))||parseFloat(r[3]),i.onLoaded.emit()},e.onerror=function(){return i.status="error",i.onLoaded.emit()},e.send()):i.onLoaded.emit()}),i={source:t,status:"loading",width:0,height:0,elem:r},e.create(i,"onLoaded"),i},a=function(e,t){var n;return(n=o[e])?n:(n=l(e,t),/^data:/.test(e)||(o[e]=n),n)},u=function(){var e,t;e=this._impl,t=e.image,t.source===e.source&&s.call(this)},s=function(){var e,t,n,r;t=this._impl,n=t.image,e=t.callback,t.useCssBackground||null!=(r=t.innerElem)&&(r.style.display="ready"===n.status?"block":"none"),"ready"===n.status?null!=e&&e.call(this,null,n):"error"===n.status?null!=e&&e.call(this,!0):n.onLoaded(u,this)},d=function(e){var t;t=e._impl,t.useCssBackground=!0,t.elemStyle.backgroundImage="url('"+t.source+"')",t.elemStyle.backgroundPosition="50% 50%",t.innerElem.style.display="none"},f=function(e,t,n){var r;r=e._impl,r.useCssBackground||d(e),r.elemStyle.backgroundSize=""+t+"px "+n+"px"},r={resolution:window.devicePixelRatio||1},n={innerElem:null,callback:null,source:"",image:null,useCssBackground:!1,offsetX:0,offsetY:0},{DATA:n,createData:t.utils.createDataCloner("Item",n),_getImage:a,_callCallback:s,create:function(e){var t,n;n=this,i.create.call(this,e),t=e.innerElem=document.createElement("img"),t.style.display="none",e.elem.appendChild(t)},setStaticImagePixelRatio:function(e){return r.resolution=(window.devicePixelRatio||1)*e},setImageSource:function(e,n){var i,o,l;e=(o=null!=(l=t.Renderer.resources)?l.getResource(e):void 0)?o.resolve(e,r):t.utils.encodeImageSrc(e),i=this._impl,i.innerElem.src=e,i.source=e,i.callback=n,i.image=a(e,o),i.useCssBackground&&(i.elemStyle.backgroundImage="url('"+e+"')"),s.call(this)},setImageSourceWidth:function(e){var t;t=this._impl,e!==t.image.width&&f(this,e,this._sourceHeight)},setImageSourceHeight:function(e){var t;t=this._impl,e!==t.image.height&&f(this,this._sourceWidth,e)},setImageFillMode:function(e){var t;if(t=this._impl,"Stretch"===e)t.useCssBackground=!1,t.elemStyle.backgroundImage="",t.innerElem.style.display="block";else switch(d(this),e){case"PreserveAspectFit":t.elemStyle.backgroundRepeat="no-repeat";break;case"Tile":t.elemStyle.backgroundRepeat="repeat"}},setImageOffsetX:function(e){var t;t=this._impl,t.useCssBackground||d(this),t.offsetX=e,t.elemStyle.backgroundPosition=""+e+"px "+t.offsetY+"px"},setImageOffsetY:function(e){var t;t=this._impl,t.useCssBackground||d(this),t.offsetY=e,t.elemStyle.backgroundPosition=""+t.offsetY+"px "+e+"px"}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/text.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/text.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t;t=r("utils"),e=r("signal"),n.exports=function(e){var t,n,r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b;return b=e.Types,o=b.Item,i=b.Image,f=e.utils,_=Math.round,c=e._hatchery,m=[],d=!1,window.addEventListener("load",function(){return setTimeout(function(){var e,t;for(d=!0;e=m.pop();)e.style.fontFamily=e.style.fontFamily;t=document.createElement("style"),t.innerHTML=s,document.body.appendChild(t)})}),h=function(e){(this._font&&this._font._family===e||!this._font&&"sans-serif"===e)&&(this._impl.innerElemStyle.fontFamily=this._impl.innerElemStyle.fontFamily)},a=Object.create(null),u=function(){var e,t;return e=document.createElement("canvas"),t="function"==typeof e.getContext?e.getContext("2d"):void 0,function(e,n){var r;return r=a[e]||(a[e]=Object.create(null)),r[n]||(r[n]=(t.font=e,t.measureText(n).width||.1))}}(),p=Object.create(null),f.onFontLoaded(function(e){var t,n,r,i,o,s,l;for(r in a){o=a[r];for(n in o)o[n]=0}if(t=p[e]){for(s=0,l=t.length;l>s;s++)i=t[s],g(i);f.loadedFonts[e]&&(p[e]=null)}}),v=function(e){var t,n,r,i,o,s,l,a,c,d,h,m,_,g,y,v,x,b,S,w;for(i=e._impl,g=i.text,l=i.fontFamily,(o=e._font)?(_=o._pixelSize,d=o._letterSpacing,x=o._wordSpacing):(_=14,d=0,x=0),f.loadingFonts[l]&&(t=p[l]||(p[l]=[]),t.push(e)),s=i.font,S=v=0,a=h=_*e._lineHeight,m=i.wrap?e._width:1/0,b=r=0,y=g.length,n="",c=w=0;y>=w;c=w+=1)y>c&&(n=g[c],r=u(s,n),r+=d),c===y||" "===n||"-"===n?(S+b>m&&(a+=h,S=0),S+=b,S>v&&(v=S),(" "===n||"-"===n)&&(S+=r+x),b=0):"\n"===n?(a+=h,S=0):b+=r;i.contentWidth=v,i.contentHeight=a},y=function(e){var t,n,r,i;n=e._impl,i=n.innerElem,r=n.fontFamily,f.loadingFonts[r]&&(t=p[r]||(p[r]=[]),t.push(e)),n.contentWidth=i.offsetWidth,n.contentHeight=i.offsetHeight,i.parentNode===c?f.prependElement(n.elem,i):0===n.contentHeight&&(c.appendChild(n.innerElem),g(e))},g=function(){var e,t,n,r,i;return t=!1,e=0,r=[[],[]],n=r[e],i=function(){var i,o,s,l,a,u,c,f;for(l=n,e=++e%2,n=r[e],t=!1,a=0,c=l.length;c>a;a++)s=l[a],i=s._impl,i.contentUpdatePending=!1,i.containsHTML?i.innerElem.innerHTML=i.text:i.innerElem.textContent=i.text;for(u=0,f=l.length;f>u;u++)s=l[u],i=s._impl,o=s._autoWidth||s._autoHeight,i.text?o&&(i.containsHTML?y(s):v(s)):(i.contentWidth=0,i.contentHeight=0);for(;s=l.pop();)i=s._impl,s.contentWidth=i.contentWidth,s.contentHeight=i.contentHeight},function(e){var r;r=e._impl,r.contentUpdatePending||(n.push(e),r.contentUpdatePending=!0,t||(setImmediate(i),t=!0))}}(),x=function(e){var t,n,r,i,o;t=e._impl,o=t.innerElemStyle,n=t.fontFamily,i=o.fontWeight,r=o.fontSize,i||(i="400"),r||(r="14px"),n||(n=f.DEFAULT_FONTS["sans-serif"]),t.font=""+i+" "+r+" "+n},s=".text {\n	width: auto;\n	height: auto;\n	white-space: pre;\n	font-size: 14px;\n	line-height: 1;\n	font-family: "+f.DEFAULT_FONTS["sans-serif"]+", sans-serif;\n	margin-top: "+(e.utils.isFirefox?1:0)+"px;\n}\n.text.textVerticalCenterAlign {\n	top: 50%;\n	"+e.utils.transformCSSProp+": translateY(-50%);\n}\n.text.textVerticalBottomAlign {\n	top: 100%;\n	"+e.utils.transformCSSProp+": translateY(-100%);\n}",t={property:"color"},n=/<|&#/,r={stylesheet:null,wrap:!1,innerElem:null,innerElemStyle:null,uid:0,contentUpdatePending:!1,containsHTML:!1,text:"",font:"14px "+f.DEFAULT_FONTS["sans-serif"]+", sans-serif",fontFamily:f.DEFAULT_FONTS["sans-serif"],contentWidth:0,contentHeight:0},l={DATA:r,_createTextElement:function(e){var t,n;return t=e._impl,n=t.innerElem=document.createElement("span"),t.innerElemStyle=n.style,n.setAttribute("class","text")},createData:e.utils.createDataCloner("Item",r),create:function(t){return o.create.call(this,t),l._createTextElement(this),e.utils.prependElement(t.elem,t.innerElem),e.utils.loadingFonts["sans-serif"]>0?e.utils.onFontLoaded(h,this):void 0},setText:function(e){e=e.replace(/<[bB][rR]\s?\/?>/g,"\n"),this._impl.text=e,this._impl.containsHTML=n.test(e),g(this)},setTextWrap:function(e){var t;t=this._impl,t.wrap=e,t.innerElemStyle.whiteSpace=e?"pre-wrap":"pre",t.innerElemStyle.width=e?"100%":"auto"},updateTextContentSize:function(){g(this)},setTextColor:function(n){var r;n=(null!=(r=e.Renderer.resources)?r.resolve(n,t):void 0)||n,this._impl.innerElemStyle.color=n},setTextLinkColor:function(){var t,n;return t={property:"linkColor"},n=0,function(r){var i,o;r=(null!=(o=e.Renderer.resources)?o.resolve(r,t):void 0)||r,i=this._impl,i.stylesheet||(i.stylesheet=document.createElement("style"),i.elem.appendChild(i.stylesheet),i.innerElem.setAttribute("id","textLinkColor"+n),i.uid=n++),i.stylesheet.innerHTML="#textLinkColor"+i.uid+" a { color: "+r+"; }"}}(),setTextLineHeight:function(e){this._impl.innerElemStyle.lineHeight=e,g(this)},setTextFontFamily:function(t){this._impl.fontFamily=t,e.utils.loadingFonts[t]>0&&e.utils.onFontLoaded(h,this),t=e.utils.DEFAULT_FONTS[t]?""+e.utils.DEFAULT_FONTS[t]+", "+t:"'"+t+"'",this._impl.innerElemStyle.fontFamily=t,x(this),g(this)},setTextFontPixelSize:function(e){e=_(e),this._impl.innerElemStyle.fontSize=""+e+"px",x(this),g(this)},setTextFontWordSpacing:function(e){this._impl.innerElemStyle.wordSpacing=""+e+"px",g(this)},setTextFontLetterSpacing:function(e){this._impl.innerElemStyle.letterSpacing=""+e+"px",g(this)},setTextAlignmentHorizontal:function(e){this._impl.innerElemStyle.textAlign=e},setTextAlignmentVertical:function(){var e;return e={top:"",center:"textVerticalCenterAlign",bottom:"textVerticalBottomAlign"},function(t){this._impl.innerElem.setAttribute("class","text "+e[t])}}()}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/textInput.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/textInput.coffee"]},r=e.bind(null,{signal:"../signal/index.coffee.md"});n.exports}return function(){var e;e=r("signal"),n.exports=function(e){var t,n,r,i,o,s,l;return i=e.utils,s=Math.round,r="textarea, input[type=password] {\n	width: 100%;\n	height: 100%;\n	resize: none;\n	background: none;\n	border: none;\n	box-sizing: border-box;\n	font-size: 14px;\n	line-height: 1;\n	font-family: "+e.utils.DEFAULT_FONTS["sans-serif"]+", sans-serif;\n}\ninput[type=password] {\n	padding-top: 0 !important;\n}",window.addEventListener("load",function(){var e;return e=document.createElement("style"),e.innerHTML=r,document.body.appendChild(e)}),o=function(e){(this._font&&this._font._family===e||!this._font&&"sans-serif"===e)&&(this._impl.innerElemStyle.fontFamily=this._impl.innerElemStyle.fontFamily)},l=function(e){var t,n,r,i,o,s,l,a;return t=this._impl,s=t.verticalAlignment,"top"===s?o=0:(r=this._lineHeight*((null!=(l=this._font)?l._pixelSize:void 0)||14),i=((null!=(a=t.innerElem.value.match(/\n/g))?a.length:void 0)||0)+1,n=Math.max(0,this._height-i*r),o="center"===s?n/2:n),t.innerElemStyle.paddingTop=""+o+"px"},t={property:"color"},n={isMultiLine:!1,textareaElem:null,innerElem:null,innerElemStyle:null,verticalAlignment:"top"},{DATA:n,createData:e.utils.createDataCloner("Item",n),create:function(t){var n,r,i;return i=this,e.Types.Item.create.call(this,t),n=t.innerElem=t.textareaElem=document.createElement("textarea"),t.innerElemStyle=n.style,t.innerElemStyle.whiteSpace="nowrap",t.elem.appendChild(n),t.elem.addEventListener(e.utils.pointerWheelEventName,function(e){t.isMultiLine&&document.activeElement===n&&e.stopPropagation()}),t.elem.addEventListener("keydown",function(e){var n;return t.isMultiLine||13!==((null!=(n=window.event)?n.keyCode:void 0)||e.which)?void 0:e.preventDefault()}),r=!1,t.elem.addEventListener("mousedown",function(e){return r=!0}),t.elem.addEventListener("mouseup",function(e){return r=!1}),n.addEventListener("focus",function(e){return r?e.preventDefault():i.keys.focus=!0}),n.addEventListener("blur",function(){return i.keys.focus=!1}),this.keys.onFocusChange(function(e){return t.innerElem[e?"blur":"focus"]()}),n.addEventListener("input",function(){var e;return e=n.value,!t.isMultiLine&&/\n/.test(e)&&(e=e.replace(/\n/g,"")),i.text=e}),e.setItemWidth.call(this,100),e.setItemHeight.call(this,50),e.utils.loadingFonts["sans-serif"]>0&&e.utils.onFontLoaded(o,this),this.onHeightChange(l)},setTextInputText:function(e){this._impl.innerElem.value!==e&&(this._impl.innerElem.value=e),l.call(this)},setTextInputColor:function(n){var r;n=(null!=(r=e.Renderer.resources)?r.resolve(n,t):void 0)||n,this._impl.innerElemStyle.color=n},setTextInputLineHeight:function(e){this._impl.innerElemStyle.lineHeight=e},setTextInputMultiLine:function(e){var t;t=this._impl,t.isMultiLine=e,t.innerElemStyle.whiteSpace="nowrap",e||(this.text=this.text.replace(/\n/g,""))},setTextInputEchoMode:function(e){var t,n,r;switch(r=this,t=this._impl,e){case"normal":t.elem.removeChild(t.innerElem),i.prependElement(t.elem,t.textareaElem),t.textareaElem.setAttribute("style",t.innerElem.getAttribute("style")),t.innerElem=t.textareaElem,t.innerElemStyle=t.textareaElem.style;break;case"password":n=document.createElement("input"),n.setAttribute("type","password"),n.setAttribute("style",t.innerElem.getAttribute("style")),t.elem.removeChild(t.innerElem),i.prependElement(t.elem,n),t.innerElem=n,t.innerElemStyle=n.style,n.addEventListener("input",function(){r.text=n.value})}},setTextInputFontFamily:function(t){e.utils.loadingFonts[t]>0&&e.utils.onFontLoaded(o,this),t=e.utils.DEFAULT_FONTS[t]?""+e.utils.DEFAULT_FONTS[t]+", "+t:"'"+t+"'",this._impl.innerElemStyle.fontFamily=t},setTextInputFontPixelSize:function(e){e=s(e),this._impl.innerElemStyle.fontSize=""+e+"px"},setTextInputFontWordSpacing:function(e){this._impl.innerElemStyle.wordSpacing=""+e+"px"},setTextInputFontLetterSpacing:function(e){this._impl.innerElemStyle.letterSpacing=""+e+"px"},setTextInputAlignmentHorizontal:function(e){this._impl.innerElemStyle.textAlign=e},setTextInputAlignmentVertical:function(e){this._impl.verticalAlignment=e,l.call(this)}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/loader/font.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/loader/font.coffee"]};e.bind(null,{log:"../log/index.coffee.md"}),n.exports}return function(){n.exports=function(e){return{loadFont:function(t,n,r){var i,o,s,l,a,u;for(s="",a=0,u=r.length;u>a;a++)n=r[a],s+="url('"+n+"'), ";return s=s.slice(0,-2),o=document.createElement("style"),o.innerHTML='@font-face {\n	font-family: "'+t+'";\n	src: '+s+";\n	font-style: normal;\n	font-weight: 400;\n}",null==(l=e.utils.loadingFonts)[t]&&(l[t]=0),e.utils.loadingFonts[t]++,i=function(){var n;return document.body.appendChild(o),n=new XMLHttpRequest,n.open("get",r[0],!0),n.onload=function(){return 1===e.utils.loadingFonts[t]?(requestAnimationFrame(function(){return e.utils.onFontLoaded.emit(t)}),setTimeout(function(){return e.utils.onFontLoaded.emit(t)},1e3),setTimeout(function(){return e.utils.loadedFonts[t]=!0,e.utils.loadingFonts[t]=0,e.utils.onFontLoaded.emit(t)},2e3)):e.utils.loadingFonts[t]--},n.send()},"complete"!==document.readyState?window.addEventListener("load",i):i()}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/loader/resources.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/loader/resources.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{loadResources:function(e){var t,n,r,i,o;return o=this,t=1,r=0,i=function(){o.progress=++r/t},n=function(){var n,r,o,s,l,a,u,c,f;if("complete"===document.readyState)for(u=0,c=e.length;c>u;u++){l=e[u],f=l.paths;for(a in f){s=f[a];for(o in s)r=s[o],t++,n=document.createElement("img"),n.onload=n.onerror=i,n.src=r}}},"complete"===document.readyState?n():document.addEventListener("readystatechange",n),i()}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/device.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/device.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t=function(){var t,n,r,i;return t=3,i=!1,n={deltaX:0,deltaY:0},r=function(t){var r,i,o,s,l;return r=null!=(o=3*-t.deltaX||t.wheelDeltaX)?o:0,i=(null!=(s=null!=(l=3*-t.deltaY||t.wheelDeltaY)?l:t.wheelDelta)?s:3*-t.detail)||0,e.utils.isFirefox&&t.deltaMode===t.DOM_DELTA_LINE&&(r*=10,i*=10),n.deltaX=r,n.deltaY=i},function(e){var o;return r(e),i||(o=n.deltaX||n.deltaY||3,(o>0&&3>o||0>o&&o>-3)&&(i=!0)),i&&(n.deltaX*=t,n.deltaY*=t),n}}(),{initDeviceNamespace:function(){var n,r,i,o;return n=this,i=this.pointer,this._pixelRatio=window.devicePixelRatio||1,this._desktop=!("ontouchstart"in window),this._phone="ontouchstart"in window&&Math.min(this._width,this._height)/Math.max(this._width,this._height)<.75,this._platform=function(){var e;switch(e=navigator.userAgent,!0){case/Android/i.test(e):return"Android";case/iPhone|iPad|iPod/i.test(e):return"iOS";case/BlackBerry/i.test(e):return"BlackBerry";case/IEMobile|WPDesktop/i.test(e):return"WindowsPhone";case/Linux|X11/i.test(e):return"Linux";case/Windows/i.test(e):return"Windows";case/Mac_PowerPC|Macintosh/i.test(e):return"OSX";default:return"Unix"}}(),o=function(e){var t,n,r;t=(null!=(n=e.touches)?n[0]:void 0)||(null!=(r=e.changedTouches)?r[0]:void 0)||e,i.x=t.pageX,i.y=t.pageY},function(){var e,t;return t=0,e=function(e){if("undefined"!=typeof TouchEvent&&null!==TouchEvent&&e instanceof TouchEvent)t++;else if(e instanceof MouseEvent&&t>0)return void t--;o(e),n.onPointerPress.emit(i)},window.addEventListener("mousedown",e),window.addEventListener("touchstart",e)}(),function(){var e,t;return t=0,e=function(e){if("undefined"!=typeof TouchEvent&&null!==TouchEvent&&e instanceof TouchEvent)t++;else if(e instanceof MouseEvent&&t>0)return void t--;o(e),n.onPointerRelease.emit(i)},window.addEventListener("mouseup",e),window.addEventListener("touchend",e)}(),function(){var e,t;return t=0,e=function(e){if("undefined"!=typeof TouchEvent&&null!==TouchEvent&&e instanceof TouchEvent)t++;else if(e instanceof MouseEvent&&t>0)return void t--;
o(e),n.onPointerMove.emit(i)},window.addEventListener("mousemove",e),window.addEventListener("touchmove",e)}(),r=function(e){var r;return r=t(e),i.deltaX=r.deltaX,i.deltaY=r.deltaY,n.onPointerWheel.emit(i)},window.addEventListener(e.utils.pointerWheelEventName,r)}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/screen.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/screen.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{initScreenNamespace:function(){var e,t;return t=this,this._width=t.width,this._height=t.height,this._touch="ontouchstart"in window,e=function(e){return function(){t.orientation=function(){switch(window.orientation){case 180:return"InvertedPortrait";case-90:return"Landscape";case 90:return"InvertedLandscape";default:return"Portrait"}}()}}(this),window.addEventListener("orientationchange",e),window.addEventListener("load",function(){return e(),setTimeout(e,1e3)})}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/navigator.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/navigator.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return{initNavigatorNamespace:function(){return this._language=window.navigator.language,this._browser=!0}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/sensor/rotation.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/sensor/rotation.coffee"]};e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),n.exports}return function(){n.exports=function(e){var t,n,r;return t=e.utils.degToRad,r=null,n=function(e){r&&(r.x=t(e.beta||0),r.y=t(e.gamma||0),r.z=t(e.alpha||0))},{enableRotationSensor:function(){r=this,window.addEventListener("deviceorientation",n)},disableRotationSensor:function(){r=null,window.removeEventListener("deviceorientation",n)}}}}.call(this),n.exports}(),t["../renderer/impl/css/level1/rectangle.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level1/rectangle.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t,n,r,i,o,s;return i=e.Types.Item,s=Math.round,r={innerElem:null,innerElemStyle:null},n={property:"color"},t={property:"borderColor"},o=function(){return o=document.createElement("div"),o.setAttribute("class","rect"),o}(),{DATA:r,createData:e.utils.createDataCloner("Item",r),create:function(t){var n;return i.create.call(this,t),n=t.innerElem=o.cloneNode(!1),e.utils.prependElement(t.elem,n),t.innerElemStyle=n.style},setRectangleColor:function(t){var r;return t=(null!=(r=e.Renderer.resources)?r.resolve(t,n):void 0)||t,this._impl.innerElemStyle.backgroundColor=t},setRectangleRadius:function(e){return e=s(e),this._impl.innerElemStyle.borderRadius=""+e+"px"},setRectangleBorderColor:function(n){var r;return n=(null!=(r=e.Renderer.resources)?r.resolve(n,t):void 0)||n,this._impl.innerElemStyle.borderColor=n},setRectangleBorderWidth:function(e){return e=s(e),this._impl.innerElemStyle.borderWidth=""+e+"px"}}}}.call(this),n.exports}(),t["../renderer/impl/css/level2/scrollable.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level2/scrollable.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t={contentItem:null,scrollElem:null,yScrollbar:!1},{DATA:t,createData:e.utils.createDataCloner("Item",t),create:function(t){var n,r,i,o,s;r=this,e.Types.Item.create.call(this,t),n=t.scrollElem=document.createElement("div"),n.style.overflow="hidden",n.style.width="100%",n.style.height="100%",t.elem.appendChild(n),this.onParentChange(function(){n.scrollLeft=r._contentX,n.scrollTop=r._contentY}),i=function(e){var t,n,i;return t=(null!=(i=r._impl.contentItem)?i._width:void 0)-r._width||0,0>e&&(e=0),e>t&&(e=t),n=r.contentX,e!==n?(r._contentX=e,r.onContentXChange.emit(n)):void 0},o=function(e){var t,n,i;return t=(null!=(i=r._impl.contentItem)?i._height:void 0)-r._height||0,e>t&&(e=t),0>e&&(e=0),n=r.contentY,e!==n?(r._contentY=e,r.onContentYChange.emit(n)):void 0},s=function(){i(this.scrollLeft),o(this.scrollTop)},n.addEventListener(e.utils.pointerWheelEventName,function(e){return null!=e.deltaX?(i(this.scrollLeft+e.deltaX),o(this.scrollTop+e.deltaY)):void 0}),n.addEventListener("scroll",s)},setScrollableContentItem:function(){var e;return e=function(){var e,t;t=this._impl,e=this._contentItem,e._height<=this._height?t.yScrollbar&&(t.scrollElem.style.overflowY="hidden",t.yScrollbar=!1):t.yScrollbar||(t.scrollElem.style.overflowY="scroll",t.yScrollbar=!0)},function(t){var n;(n=this._impl.contentItem)&&(n._impl.elem.parentElement===this._impl.scrollElem&&this._impl.scrollElem.removeChild(n._impl.elem),n.onHeightChange.disconnect(e,this)),t&&(t.onHeightChange(e,this),this._impl.contentItem=t,this._impl.scrollElem.appendChild(t._impl.elem))}}(),setScrollableContentX:function(e){this._impl.scrollElem.scrollLeft=e},setScrollableContentY:function(e){this._impl.scrollElem.scrollTop=e},setScrollableSnap:function(e){},setScrollableSnapItem:function(e){}}}}.call(this),n.exports}(),t["../renderer/impl/css/level0/sound/ambient.coffee"]=function(){{var n={exports:t["../renderer/impl/css/level0/sound/ambient.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){var t;return t={bindings:null,elem:null},{DATA:t,createData:e.utils.createDataCloner(t),create:function(e){var t,n;n=this,t=e.elem=document.createElement("audio"),t.setAttribute("preload","auto"),t.addEventListener("ended",function(){return n.running=!1})},setAmbientSoundSource:function(t){var n;(n=e.Renderer.resources.resolve(t))&&(t=n),this._impl.elem.setAttribute("src",t)},setAmbientSoundLoop:function(e){this._impl.elem.setAttribute("loop",e)},startAmbientSound:function(e){this._impl.elem.play(),this._impl.elem.readyState===this._impl.elem.HAVE_ENOUGH_DATA&&(this._impl.elem.currentTime=0)},stopAmbientSound:function(e){this._impl.elem.pause()}}}}.call(this),n.exports}(),t["../renderer/impl/base/level0/item/pointer.coffee"]=function(){{var n={exports:t["../renderer/impl/base/level0/item/pointer.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i,o,s,l;l=r("utils"),o=r("signal"),s=Math.sin,e=Math.cos,t=o.Emitter.emitSignal,i=function(e,t,n,r,i,o){return e>=n&&t>=r&&n+i>e&&r+o>t},n.exports=function(n){var r,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E;return p=1,m=2,_=4,g=null,n.Renderer.onReady(function(){return g=this.Scrollable,this}),v=function(){var t;return t=function(n,r,o,l,a,u,c,f){var d,h,y,v,x,b,S,w,E,I,O,P,A,C,T,N,R;if(b=0,C=T=A=y=I=w=O=P=S=E=x=0,!r._visible)return b;if(h=r._impl,v=r._pointer,v&&!v._enabled)return b;if(C=u+r._x*f,T=c+r._y*f,A=r._width*f,y=r._height*f,I=r._scale,w=r._rotation,1!==I&&(O=A*I,P=y*I,C+=(A-O)/2,T+=(y-P)/2,A=O,y=P),0!==w&&(E=s(-w),x=e(-w),O=C+A/2,P=T+y/2,S=x*(o-O)-E*(l-P)+O,l=E*(o-O)+x*(l-P)+P,o=S),r._clip&&!i(o,l,C,T,A,y))return b;if(!(b&m)){for(R=r._children,N=R.length-1;N>=0;N+=-1){if(d=R[N],b|=t(n,d,o,l,a,C,T,I),b&_)return b;if(b&m)break}if(r instanceof g&&r._contentItem&&!(b&m)&&(b|=t(n,r._contentItem,o,l,a,C-r.contentX*f,T-r.contentY*f,I),b&_))return b}return(b&p||i(o,l,C,T,A,y))&&(b|=a(r)),b},function(e,n,r,i,o){return n?t(e,n,r,i,o,0,0,1):0}}(),w=[],S=[],E=[],x=[],n.Renderer.onReady(function(){var e,i,s;return e=n.Renderer.Device,i=n.Renderer.Item.Pointer.event,s=function(){return i._checkSiblings?p:p|m},e.onPointerPress(function(){var e;return e=function(e){var n;return n=e._impl.capturePointer,n&r&&E.push(e),n&d?(i._ensureRelease=i._ensureMove=!0,t(e.pointer,"onPress",i),i._ensureRelease&&w.push(e),i._ensureMove&&S.push(e),i._stopPropagation?_:s()):m},function(t){i._stopPropagation=!1,i._checkSiblings=!1,v(d|r,n.window,t._x,t._y,e)}}()),e.onPointerRelease(function(){var e;return e=function(e){var n,o,a;return o=e._impl,n=o.capturePointer,n&h&&t(e._pointer,"onRelease",i),n&d&&(a=w.indexOf(e),a>=0&&(w[a]=null)),n&r&&l.has(E,e)&&t(e.pointer,"onClick",i),n&(h|r)?i._stopPropagation?_:s():m},function(o){var s,a;if(i._stopPropagation=!1,i._checkSiblings=!1,v(h|r,n.window,o._x,o._y,e),!i._stopPropagation)for(a=w.length-1;a>=0&&(s=w[a],!s||(t(s.pointer,"onRelease",i),!i._stopPropagation));a+=-1);l.clear(w),l.clear(S),l.clear(E)}}()),e.onPointerMove(function(){var e,r;return e=0,r=function(n){var r,o;return o=n._impl,r=o.capturePointer,r&(a|c|f)&&(o.pointerMoveFlag=e),r&(a|c)&&!o.pointerHover&&(o.pointerHover=!0,x.push(n),t(n.pointer,"onEnter",i)),r&f&&t(n._pointer,"onMove",i),r&(a|c|f)?i._stopPropagation?_:s():m},function(o){var s,l,u,d,p,h,m,_;for(i._stopPropagation=!1,i._checkSiblings=!1,e=e%2+1,v(a|c|f,n.window,o._x,o._y,r),d=0,m=S.length;m>d&&(u=S[d],!i._stopPropagation);d++)s=u._impl,s.pointerMoveFlag!==e&&t(u.pointer,"onMove",i);for(l=p=x.length-1;p>=0;l=p+=-1)u=x[l],s=u._impl,s.pointerHover&&s.pointerMoveFlag!==e&&(s.pointerHover=!1,s.pointerMoveFlag=0,x.splice(l,1),t(u.pointer,"onExit",i));for(h=0,_=S.length;_>h;h++)u=S[h],s=u._impl,s.pointerMoveFlag!==e&&(s.pointerMoveFlag=e)}}()),e.onPointerWheel(function(){var e;return e=function(e){var n;return i._stopPropagation=!0,e._impl.capturePointer&y&&(n=e._pointer)&&!o.isEmpty(n.onWheel)?(t(n,"onWheel",i),i._stopPropagation?_:s()):m},function(t){i._checkSiblings=!1,v(y,n.window,t._x,t._y,e)}}())}),b=0,{EVENTS:u={onPress:d=1<<b++,onRelease:h=1<<b++,onMove:f=1<<b++,onWheel:y=1<<b++,onClick:r=1<<b++,onEnter:a=1<<b++,onExit:c=1<<b++},DATA:{pointerHover:!1,pointerMoveFlag:0,capturePointer:0},setItemParent:function(e){},attachItemSignal:function(e){var t,n,r;r=this._ref,t=r._impl,(n=u[e])&&(t.capturePointer|=n)},setItemPointerEnabled:function(e){},setItemPointerDraggable:function(e){},setItemPointerDragActive:function(e){}}}}.call(this),n.exports}(),t["../renderer/utils/item.coffee"]=function(){{var n={exports:t["../renderer/utils/item.coffee"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),Emitter=signal.Emitter,emitSignal=Emitter.emitSignal,isArray=Array.isArray,n.exports=function(e,t){var n,r,i,o,s,l,a,u,c,f,d;return s=function(){},u=function(e){var t;return"("+e.constructor.__name__+")"+(null!=(t=e._component)?t.fileName:void 0)+":"+e.id},c=function(e){var t,n;for(t="",n=e;n&&!(t=n.constructor.__file__);)n=n._parent;return t||""},l=function(n){function r(){Emitter.call(this),this.id="",this._impl=null,this._bindings=null,this._classExtensions=null,this._classList=[],this._classQueue=[],this._extensions=[],this._component=null,t.createObject(this,this.constructor.__name__)}var s,l,c,f,d,p;return __extends(r,n),d=function(e,t){var n,r,i;for(r in t)if(i=t[r],n=this,"document.query"===r&&(n=this.document,r="query"),"function"==typeof i)n[r](i);else{if(Array.isArray(i)&&2===i.length&&"function"==typeof i[0]&&Array.isArray(i[1]))continue;n[r]=i}for(r in t)i=t[r],n=this,"document.query"===r&&(n=this.document,r="query"),Array.isArray(i)&&2===i.length&&"function"==typeof i[0]&&Array.isArray(i[1])&&n.createBinding(r,i,e)},p=function(t,n){var r,i,o,s,a,u,d,p,h,m,_,g,y;if("string"==typeof n.id&&(this.id=n.id),Array.isArray(n.properties))for(_=n.properties,a=0,p=_.length;p>a;a++)o=_[a],c(this,o);if(Array.isArray(n.signals))for(g=n.signals,u=0,h=g.length;h>u;u++)s=g[u],f(this,s);if(Array.isArray(n.children))for(y=n.children,d=0,m=y.length;m>d;d++)r=y[d],r instanceof e.Item?r.parent=this:r instanceof e.Extension&&(r.target=this);i=l(t,n),i.target=this},s={__proto__:null,id:!0,properties:!0,signals:!0,children:!0},l=function(t,n){var r,i,o,l;i=e.Class.New(t),i.priority=-1,r=i.changes;for(o in n)l=n[o],"function"==typeof l?r.setFunction(o,l):Array.isArray(l)&&2===l.length&&"function"==typeof l[0]&&Array.isArray(l[1])?r.setBinding(o,l):s[o]||r.setAttribute(o,l);return i},r.createProperty=c=function(e,t){t in e.$||a.defineProperty({object:e.$,name:t,namespace:"$"})},f=function(e,t){signal.Emitter.createSignalOnObject(e.$,t)},r.setOpts=function(t,n,r){null!=r.id&&(t.id=r.id),t instanceof e.Class||t instanceof i?d.call(t,n,r):p.call(t,n,r)},r.initialize=function(e,n,i){return e._component=n,t.initializeObject(e,e.constructor.__name__),i?r.setOpts(e,n,i):void 0},r.prototype.createBinding=function(e,n,r,i){var o;null==i&&(i=this),(n||this._bindings&&this._bindings.hasOwnProperty(e))&&(o=null!=this._bindings?this._bindings:this._bindings={},o[e]!==n&&(o[e]=n,t.setItemBinding.call(this,e,n,r,i)))},r.prototype.clone=function(e,t){var n;return n=this.constructor.New(e),this.id&&(n.id=this.id),this._$&&(n._$=Object.create(this._$),o.call(n._$,n)),t&&p.call(n,e,t),n},r.prototype.toString=function(){return u(this)},r}(Emitter),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.constrcutor=function(e,n){return t.__super__.constrcutor.call(this,e,n)},t}(l),o=function(e){function t(e){this._ref=e,this._impl={bindings:null},this._component=e._component,this._bindings=null,this._classExtensions=null,this._classList=[],this._classQueue=[],this._extensions=[],t.__super__.constructor.call(this)}return __extends(t,e),t.prototype.createBinding=l.prototype.createBinding,t.prototype.toString=function(){return u(this._ref)},t}(signal.Emitter),r=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t}(o),n=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t}(o),t.DeepObject=r,a={Object:l,FixedObject:i,DeepObject:r,MutableDeepObject:o,CustomObject:n,getPropHandlerName:f=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="on"+utils.capitalize(t)+"Change")}}(),getPropInternalName:d=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="_"+t)}}(),getInnerPropName:function(){var e;return e=Object.create(null),e[""]="",function(t){return null!=e[t]?e[t]:e[t]="_"+t}}(),defineProperty:function(e){var t,n,r,i,o,l,a,u,c,p,h,m,_,g,y,v,x,b,S,w;return h=e.name,m=e.namespace,w=e.valueConstructor,u=e.implementation,c=e.implementationValue,v=e.object||e.constructor.prototype,r=e.getter,i=e.setter,b=f(h),e.hasOwnProperty("constructor")?signal.Emitter.createSignal(e.constructor,b,e.signalInitializer):signal.Emitter.createSignalOnObject(v,b,e.signalInitializer),p=d(h),g=t=Function("return this."+p),w&&(g=function(){return null!=this[p]?this[p]:this[p]=new w(this)}),w?o||(y=n=s):null!=m?(_="on"+utils.capitalize(m)+"Change",S=m+utils.capitalize(h),l=function(){var e;return e="return function(val){\n",e+="var oldVal = this."+p+";\n",e+="if (oldVal === val) return;\n",null!=u&&(e+=null!=c?"impl.call(this._ref, implValue(val));\n":"impl.call(this._ref, val);\n"),e+="this."+p+" = val;\n",e+="emitSignal(this, '"+b+"', oldVal);\n",e+="emitSignal(this._ref, '"+_+"', '"+h+"', oldVal);\n",e+="};",l=new Function("impl","implValue","emitSignal","debug",e)}(),y=n=l(u,c,emitSignal,o)):(l=function(){var e;return e="return function(val){\n",e+="var oldVal = this."+p+";\n",e+="if (oldVal === val) return;\n",null!=u&&(e+=null!=c?"impl.call(this, implValue(val));\n":"impl.call(this, val);\n"),e+="this."+p+" = val;\n",e+="emitSignal(this, '"+b+"', oldVal);\n",e+="};",l=new Function("impl","implValue","emitSignal","debug",e)}(),y=n=l(u,c,emitSignal,o)),a=null!=r?r(g):g,x=null!=i?i(y):y,v[p]=e.defaultValue,utils.defineProperty(v,h,null,a,x),v}}}}.call(this),n.exports}(),t["../renderer/types/namespace/screen.coffee.md"]=function(){{var n={exports:t["../renderer/types/namespace/screen.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var s,l;return s=function(e){function n(){n.__super__.constructor.call(this),this._impl={bindings:null},this._touch=!1,this._width=1024,this._height=800,this._orientation="Portrait"}return o(n,e),t.defineProperty(n.prototype,"touch",null,function(){return this._touch},null),t.defineProperty(n.prototype,"width",null,function(){return this._width},null),t.defineProperty(n.prototype,"height",null,function(){return this._height},null),i.defineProperty({constructor:n,name:"orientation",developmentSetter:function(e){return!0}}),n}(e.Emitter),l=new s,r.initScreenNamespace.call(l,function(){n.window&&(n.window.width=l.width,n.window.height=l.height)}),l}}.call(this),n.exports}(),t["../renderer/types/namespace/device.coffee.md"]=function(){{var n={exports:t["../renderer/types/namespace/device.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var s,l,a,u;return s=function(n){function r(){r.__super__.constructor.call(this),this._platform="Unix",this._desktop=!0,this._phone=!1,this._pixelRatio=1,this._pointer=new a,this._keyboard=new l}return o(r,n),t.defineProperty(r.prototype,"platform",null,function(){return this._platform},null),t.defineProperty(r.prototype,"desktop",null,function(){return this._desktop},null),t.defineProperty(r.prototype,"tablet",null,function(){return!this.desktop&&!this.phone},null),t.defineProperty(r.prototype,"phone",null,function(){return this._phone},null),t.defineProperty(r.prototype,"mobile",null,function(){return this.tablet||this.phone},null),t.defineProperty(r.prototype,"pixelRatio",null,function(){return this._pixelRatio},null),t.defineProperty(r.prototype,"pointer",null,function(){return this._pointer},null),e.Emitter.createSignal(r,"onPointerPress"),e.Emitter.createSignal(r,"onPointerRelease"),e.Emitter.createSignal(r,"onPointerMove"),e.Emitter.createSignal(r,"onPointerWheel"),t.defineProperty(r.prototype,"keyboard",null,function(){return this._keyboard},null),e.Emitter.createSignal(r,"onKeyPress"),e.Emitter.createSignal(r,"onKeyHold"),e.Emitter.createSignal(r,"onKeyRelease"),e.Emitter.createSignal(r,"onKeyInput"),r}(e.Emitter),a=function(e){function t(){t.__super__.constructor.call(this),this._x=0,this._y=0,this._movementX=0,this._movementY=0,this._deltaX=0,this._deltaY=0}return o(t,e),i.defineProperty({constructor:t,name:"x",defaultValue:0}),i.defineProperty({constructor:t,name:"y",defaultValue:0}),i.defineProperty({constructor:t,name:"movementX",defaultValue:0}),i.defineProperty({constructor:t,name:"movementY",defaultValue:0}),i.defineProperty({constructor:t,name:"deltaX",defaultValue:0}),i.defineProperty({constructor:t,name:"deltaY",defaultValue:0}),t}(e.Emitter),l=function(e){function t(){t.__super__.constructor.call(this),this._visible=!1,this._key="",this._text=""}return o(t,e),i.defineProperty({constructor:t,name:"visible",defaultValue:!1}),i.defineProperty({constructor:t,name:"key",defaultValue:""}),i.defineProperty({constructor:t,name:"text",defaultValue:""}),t.prototype.show=function(){return r.showDeviceKeyboard.call(u)},t.prototype.hide=function(){return r.hideDeviceKeyboard.call(u)},t}(e.Emitter),u=new s,function(){var e,t,n;return t=n=0,e=function(e){e.movementX=e.x-t,e.movementY=e.y-n,t=e.x,n=e.y},u.onPointerPress(e),u.onPointerRelease(e),u.onPointerMove(e)}(),r.initDeviceNamespace.call(u),u}}.call(this),n.exports}(),t["../renderer/types/namespace/navigator.coffee.md"]=function(){{var n={exports:t["../renderer/types/namespace/navigator.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var s,l,a;return s=function(e){function n(){n.__super__.constructor.call(this),this._impl={bindings:null},this._language="en",this._browser=!0,this._online=!0}return o(n,e),t.defineProperty(n.prototype,"language",null,function(){return this._language},null),t.defineProperty(n.prototype,"browser",null,function(){return this._browser},null),t.defineProperty(n.prototype,"native",null,function(){return!this._browser},null),i.defineProperty({constructor:n,name:"online",developmentSetter:function(e){return!0}}),n}(e.Emitter),l=new s,null!=(a=r.initNavigatorNamespace)&&a.call(l),l}}.call(this),n.exports}(),t["../renderer/types/namespace/sensor/rotation.coffee.md"]=function(){{var n={exports:t["../renderer/types/namespace/sensor/rotation.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var s,l;return s=function(e){function n(){n.__super__.constructor.call(this),this._active=!1,this.x=0,this.y=0,this.z=0}return o(n,e),t.defineProperty(n.prototype,"active",null,function(){return this._active},function(e){this._active=e,e?r.enableRotationSensor.call(l):r.disableRotationSensor.call(l)}),n}(e.Emitter),l=new s}}.call(this),n.exports}(),t["../renderer/types/extension.coffee"]=function(){{var n={exports:t["../renderer/types/extension.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var s;return s=function(n){function r(){r.__super__.constructor.call(this),null==this._impl&&(this._impl={bindings:null}),this._target=null,this._running=!1,this._when=!1,this._whenHandler=null}var s;return o(r,n),r.__name__="Extension",s=function(){this._when||(this._when=!0,this.onWhenChange.emit(!1),this._running||this.enable())},i.defineProperty({constructor:r,name:"when",defaultValue:!1,setter:function(e){return function(t){this._whenHandler&&(this._whenHandler.disconnect(s,this),this._whenHandler=null),"function"==typeof t&&null!=t.connect?(t.connect(s,this),this._whenHandler=t):(e.call(this,!!t),t&&!this._running?this.enable():!t&&this._running&&this.disable())}}}),i.defineProperty({constructor:r,name:"target",defaultValue:null}),t.defineProperty(r.prototype,"running",t.CONFIGURABLE,function(){return this._running},null),e.Emitter.createSignal(r,"onRunningChange"),r.prototype.enable=function(){return this._running=!0,this.onRunningChange.emit(!1)},r.prototype.disable=function(){return this._running=!1,this.onRunningChange.emit(!0)},r}(i.Object)}}.call(this),n.exports}(),t["../renderer/types/extensions/class.coffee.md"]=function(){{var n={exports:t["../renderer/types/extensions/class.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md",list:"../list/index.coffee.md","document/element/element/tag/query":"../document/element/element/tag/query.coffee"});n.exports}return function(){utils=r("utils"),signal=r("signal"),List=r("list"),TagQuery=r("document/element/element/tag/query"),n.exports=function(e,t,n){var r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A,C,T;return o=function(){function t(){this._links=[],this._attributes={},this._functions=[],this._bindings={}}return t.prototype.setAttribute=function(t,n){this._attributes[t]=n,n instanceof e.Component.Link&&this._links.push(n)},t.prototype.setFunction=function(e,t){var n;n=function(e,n){var r;return this._component?(r=this._component.objectsOrderSignalArr,r[r.length-2]=e,r[r.length-1]=n,t.apply(this._target,r)):t.call(this._target,e,n)},this._functions.push(e,n)},t.prototype.setBinding=function(e,t){this._attributes[e]=t,this._bindings[e]=!0},t}(),s=function(e){function t(){t.__super__.constructor.call(this),this._classUid=utils.uid(),this._priority=0,this._inheritsPriority=0,this._nestingPriority=0,this._name="",this._changes=null,this._document=null,this._children=null}var r;return __extends(t,e),t.__name__="Class",t.New=function(e,r){var i;return i=new t,n.Object.initialize(i,e,r),i},n.defineProperty({constructor:t,name:"name",developmentSetter:function(e){return!0},setter:function(e){return function(t){var n,r,i;r=this.target,n=this.name,n!==t&&(r&&(r.classes.has(n)&&this.disable(),r._classExtensions[n]=null,r._classExtensions[t]=this),e.call(this,t),r&&(t&&null==r._classExtensions&&(r._classExtensions={}),(null!=(i=r._classes)?i.has(t):void 0)&&this.enable()))}}}),n.defineProperty({constructor:t,name:"target",developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n,r,i,o,s,l;r=this._target,n=this.name,r!==t&&(this.disable(),r&&(utils.remove(r._extensions,this),this._running&&!(null!=(i=this._document)?i._query:void 0)&&O(this,this._component,r)),n&&(r&&(r._classExtensions[n]=null),t&&(null==t._classExtensions&&(t._classExtensions={}),t._classExtensions[n]=this)),e.call(this,t),t&&(t._extensions.push(this),((null!=(o=t._classes)?o.has(n):void 0)||this._when||-1!==this._priority&&this._component.ready&&!this._name&&!(null!=(s=this._bindings)?s.when:void 0)&&!(null!=(l=this._document)?l._query:void 0))&&this.enable()))}}}),utils.defineProperty(t.prototype,"changes",null,function(){return this._changes||(this._changes=new o)},function(e){var t,n,r;t=this.changes;for(n in e)r=e[n],"function"==typeof r?t.setFunction(n,r):Array.isArray(r)&&2===r.length&&"function"==typeof r[0]&&Array.isArray(r[1])?t.setBinding(n,r):t.setAttribute(n,r)}),n.defineProperty({constructor:t,name:"priority",defaultValue:0,developmentSetter:function(e){return!0},setter:function(e){return function(t){e.call(this,t),C(this)}}}),t.prototype.enable=function(){var e,n,r,i,o,s,l;if(n=null!=(o=this._document)?o._query:void 0,this._running||!this._target||n){if(n)for(s=this._document._classesInUse,r=0,i=s.length;i>r;r++)e=s[r],e.enable()}else t.__super__.enable.call(this),T(w,this._target,this),(null!=(l=this._document)?l._query:void 0)||v(this,this._component,this._target)},t.prototype.disable=function(){var e,n,r,i,o;if(this._running&&this._target)t.__super__.disable.call(this),(null!=(o=this._document)?o._query:void 0)||O(this,this._target),T(S,this._target,this);else if(this._document&&this._document._query)for(i=this._document._classesInUse,n=0,r=i.length;r>n;n++)e=i[n],e.disable()},utils.defineProperty(t.prototype,"children",null,function(){return this._children||(this._children=new r(this))},function(e){var t,n,r,i,o;for(n=this.children,r=n.length;r--;)n.pop(r);if(e)for(i=0,o=e.length;o>i;i++)t=e[i],n.append(t)}),r=function(){function e(e){this._ref=e,this.length=0}return e.prototype.append=function(e){return this._ref._component.isClone||(this._ref._component.disabledObjects[e.id]=!0),e instanceof t&&P(this._ref,e),this[this.length++]=e,e},e.prototype.pop=function(e){var t;return null==e&&(e=this.length-1),t=this[e],delete this[e],--this.length,t},e}(),t.prototype.clone=function(e){var t,n,r;return t=d.call(this,e),(n=null!=(r=this._document)?r._query:void 0)&&(t.document.query=n),t},t}(e.Extension),v=function(t,n,r){var i,o,l,a;if(o=t._children)for(l=0,a=o.length;a>l;l++)i=o[l],i instanceof e.Item?null==i.parent&&(i.parent=r):(i instanceof s&&P(t,i),null==i.target&&(i.target=r))},O=function(t,n){var r,i,o,s;if(i=t._children)for(o=0,s=i.length;s>o;o++)r=i[o],r instanceof e.Item?r.parent===n&&(r.parent=null):r.target===n&&(r.target=null)},P=function(e,t){var n;t._inheritsPriority=e._inheritsPriority+e._priority,t._nestingPriority=e._nestingPriority+1+((null!=(n=t._document)?n._priority:void 0)||0),C(t)},C=function(e){var t,n,r,i,o,l,a,u,c,f,d,m,_,g;if(e._running&&y(e)&&(i=e._target,T(p,i,e),A(i),T(h,i,e)),n=e._children)for(o=0,c=n.length;c>o;o++)t=n[o],t instanceof s&&P(e,t);if(r=e._document){for(l=e._inheritsPriority,m=e._nestingPriority,_=r._classesInUse,a=0,f=_.length;f>a;a++)t=_[a],t._inheritsPriority=l,t._nestingPriority=m,C(t);for(g=r._classesPool,u=0,d=g.length;d>u;u++)t=g[u],t._inheritsPriority=l,t._nestingPriority=m}},y=function(e){var t,n,r;return r=e._target,t=r._classList,n=t.indexOf(e),n>0&&c(e,t[n-1])<0?!0:n<t.length-1&&c(e,t[n+1])>0?!0:!1},c=function(e,t){return t._priority+t._inheritsPriority-(e._priority+e._inheritsPriority)||t._nestingPriority-e._nestingPriority},A=function(e){return e._classList.sort(c)},f=function(e,t,n){var r,i;return r=t.cloneRawObject(n),i=r._component.belongsToComponent||r._component,null==i.onObjectChange&&(i.onObjectChange=signal.create()),t.isDeepClone&&(e.id&&i.setObjectById(r,e.id),i.initObjects(),utils.has(t.idsOrder,r.id)&&t.setObjectById(r,r.id)),r},d=function(e){var t,n,r,i,o,l,a,u,c,d,p,h,m,_,g,y;if(o=s.New(e),o.id=this.id,o._classUid=this._classUid,o._name=this._name,o._priority=this._priority,o._inheritsPriority=this._inheritsPriority,o._nestingPriority=this._nestingPriority,o._changes=this._changes,this._bindings){g=this._bindings;for(c in g)d=g[c],o.createBinding(c,d,e)}if(i=this._children)for(l=p=0,m=i.length;m>p;l=++p)n=i[l],r=f(o,e,n),o.children.append(r);if(e.isDeepClone&&(t=this._changes))for(y=t._links,h=0,_=y.length;_>h;h++)a=y[h],u=f(o,e,a.getItem(this._component));return o},I=function(){var e;return e=Object.create(null),function(t){return null!=e[t]?e[t]:e[t]=t.split(".")}}(),_=function(e,t){var n,r;for(r=t.length-1,n=0;r>n;){if(!(e=e[t[n]]))return null;n++}return e},E=function(e,t,n){var r,i;i=I(t),(r=_(e,i))&&(r[i[i.length-1]]=n)},w=function(e,t){return e._classList.unshift(t),y(t)&&A(e),h(e,t)},S=function(e,t){return p(e,t),utils.remove(e._classList,t)},i=[["x","anchors.left","anchors.right","anchors.horizontalCenter","anchors.centerIn","anchors.fill","anchors.fillWidth"],["y","anchors.top","anchors.bottom","anchors.verticalCenter","anchors.centerIn","anchors.fill","anchors.fillHeight"],["width","anchors.fill","anchors.fillWidth","layout.fillWidth"],["height","anchors.fill","anchors.fillHeight","layout.fillHeight"],["margin.horizontal","margin.left"],["margin.horizontal","margin.right"],["margin.vertical","margin.top"],["margin.vertical","margin.bottom"],["padding.horizontal","padding.left"],["padding.horizontal","padding.right"],["padding.vertical","padding.top"],["padding.vertical","padding.bottom"]],r=Object.create(null),r.margin=["margin.left","margin.right","margin.horizontal","margin.top","margin.bottom","margin.vertical"],r.padding=["padding.left","padding.right","padding.horizontal","padding.top","padding.bottom","padding.vertical"],r.alignment=["alignment.horizontal","alignment.vertical"],function(){var e,t,n,o,s,l,a,u,c,f;for(s=0,u=i.length;u>s;s++)for(t=i[s],l=0,c=t.length;c>l;l++)for(o=t[l],n=null!=r[o]?r[o]:r[o]=[],a=0,f=t.length;f>a;a++)e=t[a],e!==o&&n.push(e)}(),m=function(e,t){var n,i,o,s,l;if(o=e.changes._attributes,t in o)return t;if(!(i=r[t]))return"";for(s=0,l=i.length;l>s;s++)if(n=i[s],n in o)return n},g=function(e,t){var r,i;return i=Object.getPrototypeOf(e),r=n.getInnerPropName(t),r in i?i[r]:i[t]},h=function(t,r){var i,o,s,l,a,u,c,f,d,p,h,y,v,x,b,S,w,E,O,P,A,C,T,N,R;if(u=t._classList,c=u.indexOf(r),f=u.length,-1!==c){for(a=r.changes,s=a._attributes,l=a._bindings,h=a._functions,y=E=0,A=h.length;A>E;y=E+=2)o=h[y],b=I(o),x=_(t,b),null!=x&&"function"==typeof x[C=b[b.length-1]]&&x[C](h[y+1],r);
for(o in s){for(S=s[o],b=null,w=!0,i="",y=O=T=c-1;O>=0;y=O+=-1)if(m(u[y],o)){w=!1;break}if(w){for(y=P=N=c+1;f>P;y=P+=1)if((i=m(u[y],o))&&i!==o){if(b=I(i),x=_(t,b),v=b[b.length-1],!x)continue;p=g(x,v),d=!!u[y].changes._bindings[i],d&&x.createBinding(v,null,r._component,t),x[v]=p;break}if(o===i&&b||(b=I(o),v=b[b.length-1],x=_(t,b)),x instanceof n.CustomObject&&!(v in x))n.Object.createProperty(x._ref,v);else if(!x)continue;l[o]?x.createBinding(v,S,r._component,t):((null!=(R=x._bindings)?R[v]:void 0)&&x.createBinding(v,null,r._component,t),x[v]=S instanceof e.Component.Link?S.getItem(r._component):S)}}}},p=function(e,t){var n,r,i,o,s,l,a,u,c,f,d,p,h,y,v,x,b,S,w,E,O,P,A,C;if(l=e._classList,a=l.indexOf(t),u=l.length,-1!==a){for(s=t.changes,i=s._attributes,o=s._bindings,d=s._functions,p=S=0,O=d.length;O>S;p=S+=2)r=d[p],v=I(r),y=_(e,v),null!=y&&null!=(P=y[v[v.length-1]])&&P.disconnect(d[p+1],t);for(r in i){for(b=i[r],v=null,x=!0,n="",p=w=A=a-1;w>=0;p=w+=-1)if(l[p]&&m(l[p],r)){x=!1;break}if(x){for(f=void 0,c=!1,p=E=C=a+1;u>E;p=E+=1)if(n=m(l[p],r)){f=l[p].changes._attributes[n],c=!!l[p].changes._bindings[n];break}if(n||(n=r),o[r]){if(v=I(r),y=_(e,v),h=v[v.length-1],!y)continue;y.createBinding(h,null,t._component,e)}if(!(r===n&&v||(v=I(n),y=_(e,v),h=v[v.length-1],y)))continue;c?y.createBinding(h,f,t._component,e):(void 0===f&&(f=g(y,h)),y[h]=f)}}}},b=function(e){var t,n,r;n=e._classQueue,r=n[0],e=n[1],t=n[2],r(e,t),n.shift(),n.shift(),n.shift(),n.length>0&&b(e)},T=function(e,t,n){var r;r=t._classQueue,r.push(e,t,n),3===r.length&&b(t)},l=function(){function e(e){this._ref=e._ref,this._parent=e,this._multiplicity=0}return e}(),a=function(e){function t(e){this._query="",this._classesInUse=[],this._classesPool=[],this._nodeWatcher=null,this._priority=0,t.__super__.constructor.call(this,e),e.onTargetChange(f,this),f.call(this,e._target)}var r,i,o,a,u,c,f;return __extends(t,e),t.__name__="ClassDocument",n.defineProperty({constructor:s,name:"document",valueConstructor:t}),f=function(e){var t;e&&e.document.onNodeChange.disconnect(this.reloadQuery,this),(t=this._ref._target)&&t.document.onNodeChange(this.reloadQuery,this),e!==t&&this.reloadQuery()},n.defineProperty({constructor:t,name:"query",defaultValue:"",namespace:"document",parentConstructor:t,developmentSetter:function(e){return!0},setter:function(e){return function(t){var n,r;this._query!==t&&(this._query||O(this,this._target),e.call(this,t),this.reloadQuery(),this._ref._priority<1&&(n=TagQuery.getSelectorCommandsLength(t,0,1),r=this._priority,this._priority=n,this._ref._nestingPriority+=n-r,C(this._ref)),t||v(this,this._component,this._target))}}}),o=function(e,t){var n,r,i,o,l;for(o=e._extensions,r=0,i=o.length;i>r;r++)if(n=o[r],n instanceof s&&(null!=(l=n._document)?l._parent:void 0)===t)return n},r=function(e){var t,n,r,i,o,a,u;for(r=this._ref._classUid,a=e._extensions,i=0,o=a.length;o>i;i++)if(t=a[i],t instanceof s&&t!==this._ref&&t._classUid===r&&t._document instanceof l)return void t._document._multiplicity++;(t=this._classesPool.pop())||(n=this._ref._component.cloneComponentObject(),t=d.call(this._ref,n),t._document=new l(this)),this._classesInUse.push(t),t.target=e,(null!=(u=t._bindings)?u.when:void 0)||t.enable()},i=function(e){var t;if(t=o(e,this)){if(t._document._multiplicity>0)return void t._document._multiplicity--;t.target=null,utils.remove(this._classesInUse,t),this._classesPool.push(t)}},c=function(e,t){e&&i.call(this,e),t&&r.call(this,t)},a=function(e){var t;e.onStyleChange(c,this),(t=e._style)&&r.call(this,t)},u=function(e){var t;e.onStyleChange.disconnect(c,this),(t=e._style)&&i.call(this,t)},t.prototype.reloadQuery=function(){var e,t,n,r,i,o;for(null!=(o=this._nodeWatcher)&&o.disconnect(),this._nodeWatcher=null;e=this._classesInUse.pop();)e.target=null,this._classesPool.push(e);(n=this._query)&&(r=this._ref.target)&&(t=r.document.node)&&(i=this._nodeWatcher=t.watch(n),i.onAdd(a,this),i.onRemove(u,this))},t}(n.DeepObject),x=function(e){return"string"==typeof e?e=e.split(-1!==e.indexOf(",")?",":" "):e instanceof List&&(e=e.items()),e},u=function(e){function t(){t.__super__.constructor.call(this)}return __extends(t,e),utils.defineProperty(t.prototype,"append",null,function(e){return function(){return e}}(t.prototype.append),function(e){var t,n,r;if(e=x(e),Array.isArray(e))for(n=0,r=e.length;r>n;n++)t=e[n],(t=t.trim())&&this.append(t)}),utils.defineProperty(t.prototype,"remove",null,function(e){return function(){return e}}(t.prototype.remove),function(e){var t,n,r;if(e=x(e),Array.isArray(e))for(n=0,r=e.length;r>n;n++)t=e[n],(t=t.trim())&&this.remove(t)}),t}(List),e.onReady(function(){return n.defineProperty({constructor:e.Item,name:"classes",defaultValue:null,getter:function(){var e,t,n;return e=function(e,r){var i;i=this._classes.get(r),n.call(this,e,r),t.call(this,i,r),this.onClassesChange.emit(i,e)},t=function(e,t){var n;null!=(n=this._classExtensions[e])&&n.enable(),this.onClassesChange.emit(e)},n=function(e,t){var n;this._classes.has(e)||null!=(n=this._classExtensions[e])&&n.disable(),this.onClassesChange.emit(null,e)},function(r){return function(){var i;return this._classes||(null==this._classExtensions&&(this._classExtensions={}),i=this._classes=new u,i.onChange(e,this),i.onInsert(t,this),i.onPop(n,this)),r.call(this)}}}(),setter:function(e){return function(e){var t,n,r,i;if(e=x(e),t=this.classes,t.clear(),Array.isArray(e))for(r=0,i=e.length;i>r;r++)n=e[r],(n=n.trim())&&t.append(n)}}})}),s}}.call(this),n.exports}(),t["../renderer/types/extensions/animation.coffee.md"]=function(){{var n={exports:t["../renderer/types/extensions/animation.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var s;return s=function(n){function s(){s.__super__.constructor.call(this),this._loop=!1,this._updatePending=!1,this._paused=!1}return o(s,n),s.__name__="Animation",e.Emitter.createSignal(s,"onStart"),e.Emitter.createSignal(s,"onStop"),i.defineProperty({constructor:s,name:"running",setter:function(e){return function(t){var n;this._when=t,n=this._running,n!==t&&(e.call(this,t),t?(r.startAnimation.call(this),this.onStart.emit(),this._paused&&r.pauseAnimation.call(this)):(this._paused&&(this.paused=!1),r.stopAnimation.call(this),this.onStop.emit()))}}}),i.defineProperty({constructor:s,name:"paused",setter:function(e){return function(t){var n;n=this._paused,n!==t&&(e.call(this,t),t?r.pauseAnimation.call(this):r.resumeAnimation.call(this))}}}),i.defineProperty({constructor:s,name:"loop",implementation:r.setAnimationLoop,developmentSetter:function(e){return!0}}),t.defineProperty(s.prototype,"updatePending",null,function(){return this._updatePending},null),s.prototype.start=function(){return this.running=!0,this},s.prototype.stop=function(){return this.running=!1,this},s.prototype.pause=function(){return this.running&&(this.paused=!0),this},s.prototype.resume=function(){return this.paused=!1,this},s.prototype.enable=function(){return this.running=!0,s.__super__.enable.call(this)},s.prototype.disable=function(){return this.running=!1,s.__super__.disable.call(this)},s}(n.Extension)}}.call(this),n.exports}(),t["../renderer/types/extensions/animation/types/property.coffee.md"]=function(){{var n={exports:t["../renderer/types/extensions/animation/types/property.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=function(e,t,n){var r;return r=function(e){function r(){r.__super__.constructor.call(this),this._target=null,this._property="",this._autoFrom=!0,this._duration=250,this._startDelay=0,this._loopDelay=0,this._updateData=!1,this._updateProperty=!1,this._easing=null}var i,o,s;return __extends(r,e),r.__name__="PropertyAnimation",o=utils.lookupGetter(r.prototype,"running"),s=utils.lookupSetter(r.prototype,"running"),utils.defineProperty(r.prototype,"running",null,o,function(e){return function(t){t&&this._autoFrom&&this._target&&(this.from=this._target[this._property],this._autoFrom=!0),e.call(this,t)}}(s)),n.defineProperty({constructor:r,name:"target",defaultValue:null,implementation:t.setPropertyAnimationTarget,setter:function(e){return function(t){var n;n=this._target,n&&utils.remove(n._extensions,this),t&&t._extensions.push(this),e.call(this,t)}}}),n.defineProperty({constructor:r,name:"property",defaultValue:"",implementation:t.setPropertyAnimationProperty,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:r,name:"duration",defaultValue:250,implementation:t.setPropertyAnimationDuration,developmentSetter:function(e){return!0},setter:function(e){return function(t){0>t?e.call(this,0):e.call(this,t)}}}),n.defineProperty({constructor:r,name:"startDelay",defaultValue:0,implementation:t.setPropertyAnimationStartDelay,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:r,name:"loopDelay",defaultValue:0,implementation:t.setPropertyAnimationLoopDelay,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:r,name:"delay",defaultValue:0,developmentSetter:function(e){return!0},getter:function(e){return function(e){if(this._startDelay===this._loopDelay)return this._startDelay;throw new Error("startDelay and loopDelay are different")}},setter:function(e){return function(t){this.startDelay=t,this.loopDelay=t,e.call(this,t)}}}),n.defineProperty({constructor:r,name:"updateData",defaultValue:!1,implementation:t.setPropertyAnimationUpdateData,developmentSetter:function(e){return!0},setter:function(e){return function(t){t||(this.updateProperty=!1),e.call(this,t)}}}),n.defineProperty({constructor:r,name:"updateProperty",defaultValue:!1,implementation:t.setPropertyAnimationUpdateProperty,developmentSetter:function(e){return!0},setter:function(e){return function(t){this.updateData=!0,e.call(this,t)}}}),n.defineProperty({constructor:r,name:"from",implementation:t.setPropertyAnimationFrom,setter:function(e){return function(t){this._autoFrom=!1,e.call(this,t)}}}),n.defineProperty({constructor:r,name:"to",implementation:t.setPropertyAnimationTo}),utils.defineProperty(r.prototype,"progress",null,function(){return t.getPropertyAnimationProgress.call(this)},null),utils.defineProperty(r.prototype,"easing",null,function(){return this._easing||(this._easing=new i(this))},function(e){return"string"==typeof e?this.easing.type=e:utils.isObject(e)?utils.merge(this.easing,e):e?void 0:this.easing.type="Linear"}),i=function(e){function i(e){this._type="Linear",i.__super__.constructor.call(this,e)}var o,s,l,a,u;for(__extends(i,e),o=["Linear","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","InOutQuart","InQuint","OutQuint","InOutQuint","InSine","OutSine","InOutSine","InExpo","OutExpo","InOutExpo","InCirc","OutCirc","InOutCirc","InElastic","OutElastic","InOutElastic","InBack","OutBack","InOutBack","InBounce","OutBounce","InOutBounce"],s=Object.create(null),a=0,u=o.length;u>a;a++)l=o[a],s[l]=l,s[l.toLowerCase()]=l;return n.defineProperty({constructor:i,name:"type",defaultValue:"Linear",namespace:"easing",parentConstructor:r,implementation:t.setPropertyAnimationEasingType,developmentSetter:function(e){return e?!0:void 0},setter:function(e){return function(t){var n;t||(t="Linear"),n=s[t],n||(n=s[t.toLowerCase()]),n||(n="Linear"),e.call(this,n)}}}),i}(n.DeepObject),r}(e.Animation)}}.call(this),n.exports}(),t["../renderer/types/extensions/animation/types/property/types/number.coffee.md"]=function(){{var n={exports:t["../renderer/types/extensions/animation/types/property/types/number.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(e,t,n){var r;return r=function(e){function t(){t.__super__.constructor.call(this),this._from=0,this._to=0}return i(t,e),t.__name__="NumberAnimation",t.New=function(e,r){var i;return i=new t,n.Object.initialize(i,e,r),i},t}(e.PropertyAnimation)}}.call(this),n.exports}(),t["../renderer/types/extensions/transition.coffee.md"]=function(){{var n={exports:t["../renderer/types/extensions/transition.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),n.exports=function(e,t,n){var r;return r=function(e){function t(){t.__super__.constructor.call(this),this._animation=null,this._property="",this._duration=0,this._to=0,this._durationUpdatePending=!1}var r,i,o,s;return __extends(t,e),t.__name__="Transition",t.New=function(e,r){var i;return i=new t,n.Object.initialize(i,e,r),i},i=function(e){var t,n,r;t=this.animation,r=this._target[this.property],t&&this.running&&!t.updatePending&&utils.isFloat(e)&&utils.isFloat(r)&&(this._to=r,n=t.progress,t.stop(),this._durationUpdatePending=!0,t.duration=this._duration,this._durationUpdatePending=!1,t.from=e,t.to=this._to,n>0&&(this._durationUpdatePending=!0,t.duration=this._duration*n,this._durationUpdatePending=!1),null==t.target&&(t.target=this.target),t.start())},s=function(){return this._running=!0},n.defineProperty({constructor:t,name:"target",defaultValue:null,setter:function(e){return function(t){var r,o,l,a,u,c;a=this.target,a!==t&&(r=this.animation,u=this.property,r&&(r.target=t,r.stop()),e.call(this,t),a&&utils.remove(a._extensions,this),this._running=!1,t instanceof n.Object?l=t:t instanceof n.MutableDeepObject?l=t._ref:setImmediate(s.bind(this)),l&&(l._extensions.push(this),this._running=!0),u&&(o=n.getPropHandlerName(u),a&&null!=(c=a[o])&&c.disconnect(i,this),t&&o in t&&t[o](i,this)))}}}),o=function(){this._durationUpdatePending||(this._duration=this._animation._duration)},r=[function(){return!1}],n.defineProperty({constructor:t,name:"animation",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n;n=this.animation,n!==t&&(e.call(this,t),n&&(n.onDurationChange.disconnect(o,this),n.target=null,n.stop()),t&&(t.onDurationChange(o,this),this._duration=t.duration,t.target=null,t.property=this.property))}}}),n.defineProperty({constructor:t,name:"property",defaultValue:"",setter:function(e){return function(t){var n,r,o,s,l,a,u,c,f,d;if(u=this.property,u!==t){if(n=this.animation,c=this.target,c&&-1!==t.indexOf(".")){for(o=t.split("."),a=o.length,l=f=0,d=o.length;d>f&&(r=o[l],!(a-1>l)||(c=c[r],c));l=++f);t=o[a-1],this.target=c}n&&(n.stop(),n.property=t),e.call(this,t),c&&(u&&(s="on"+utils.capitalize(u)+"Change",c[s].disconnect(i,this)),t&&(s="on"+utils.capitalize(t)+"Change",c[s](i,this)))}}}}),t}(e.Extension)}}.call(this),n.exports}(),t["../renderer/types/basics/component.coffee"]=function(){{var n={exports:t["../renderer/types/basics/component.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t;t=r("utils"),e=r("signal"),n.exports=function(n,r,i){var o;return o=function(){function r(e,n){if(e instanceof r||(n=e,e=null),null!=e)for(;e.parent;)e=e.parent;this.id=(null!=e?e.id:void 0)||t.uid(),this.item=null,this.itemId=(null!=e?e.itemId:void 0)||"",this.fileName=(null!=n?n.fileName:void 0)||(null!=e?e.fileName:void 0)||"unknown",this.objects={},this.idsOrder=(null!=e?e.idsOrder:void 0)||null,this.objectsOrder=[],this.objectsOrderSignalArr=null,this.isClone=!!e,this.isDeepClone=!1,this.ready=!1,this.mirror=!1,this.belongsToComponent=null,this.objectsInitQueue=[],this.parent=e,this.disabledObjects=(null!=e?e.disabledObjects:void 0)||Object.create(null),this.clone=t.bindFunctionContext(this.clone,this),this.createItem=t.bindFunctionContext(this.createItem,this),this.createItem.getComponent=this.clone,this.onObjectChange=null}var o,s,l,a,u;return r.getCloneFunction=function(e,t){if("function"==typeof e)return e;if(e&&"function"==typeof e._main)return e._main;throw new Error("'"+t+"' is not an item definition")},u=function(){var e,n,r,i,o,s;for(s=this.idsOrder,e=i=0,o=s.length;o>i;e=++i)n=s[e],(r=this.objectsOrder)[e]||(r[e]=this.objects[n]||null);return this.objectsOrderSignalArr=t.clone(this.objectsOrder),this.objectsOrderSignalArr.push(null,null)},r.prototype.initAsEmptyDefinition=function(){u.call(this),this.initObjects()},r.prototype.init=function(){var t,n,r;for(null==this.onObjectChange&&(this.onObjectChange=e.create()),u.call(this),this.ready=!0,r=this.objectsInitQueue,t=0,n=r.length;n>t;)r[t].apply(r[t+1],r[t+2]),t+=3;return this.objectsInitQueue=null,!0},r.prototype.initObjects=function(){var e,t,r,i,o,s,l,a,u;s=this.objects;for(t in s)if(r=s[t],this.objects.hasOwnProperty(t))for(l=r._extensions,i=0,o=l.length;o>i;i++)e=l[i],e.name||(null!=(a=e._bindings)?a.when:void 0)||e.enable();u=this.objects;for(t in u)r=u[t],this.objects.hasOwnProperty(t)&&r instanceof n.Item&&t!==this.itemId&&r.onReady.emit()},a=function(e,t,n){var r,i,o,s;s=e.parent.objects;for(r in s)o=s[r],e.objects[r]||r===e.itemId||e.disabledObjects[r]||(i=l(o,t,n,e));e.init()},l=function(e,t,i,o){var a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P;for(g=!1,_=e._component.id,(p=t[_])||(g=!0,p=t[_]=new r(e._component),(a=e._component.belongsToComponent)&&(p.belongsToComponent=t[a.id]),p.mirror=o.mirror,i.push(p)),c=e.clone(p),e._component.item===e&&(p.item=c),c.id&&(e._component.item===e?((a=e._component.belongsToComponent)&&t[a.id].setObject(c,c.id),p.setObject(c,p.itemId)):p.setObject(c,c.id)),E=e._extensions,y=0,b=E.length;b>y;y++)h=E[y],d=null!=(I=t[h._component.id])?I.objects[h.id]:void 0,null==d&&(d=l(h,t,i,o)),d.target=c;if(e instanceof n.Item){for(c.children.length&&(m=Array.prototype.slice.call(c.children),c.children.clear()),O=e.children,v=0,S=O.length;S>v;v++)u=O[v],f=null!=(P=t[u._component.id])?P.objects[u.id]:void 0,null==f&&(f=s(u,t,i,p)),f.parent=c;if(m)for(x=0,w=m.length;w>x;x++)u=m[x],u.parent=c}return c},s=function(e,t,n,r){var i,o,s;return o=e._component.id,s=!t[o],i=l(e,t,n,r),s&&(a(t[o],t,n),t[o]=null),i},r.prototype.clone=function(e,t){var n,o,l,u,c,f,d,p,h,m,_;for(e instanceof r||(t=e,e=null),o=new r(this),o.mirror=!e,o.belongsToComponent=e,l={},l[o.id]=o,e&&(l[e.id]=e),u=[o],c=s(this.item,l,u,o),f=0,h=u.length;h>f;f++)n=u[f],n.item||(n.item=c,n.objects[n.itemId]||n.setObject(c,n.itemId));for(t&&i.Object.setOpts(o.item,e,t),d=0,m=u.length;m>d;d++)n=u[d],n.ready||a(n,l,u);if(o.mirror)for(p=0,_=u.length;_>p;p++)n=u[p],n.initObjects();return c.onReady.emit(),o},r.prototype.setObject=function(e,t){var n;this.objects[t]=e,n=this.idsOrder.indexOf(t),-1!==n&&(this.objectsOrder[n]=e)},r.prototype.createItem=function(e,t){var n;return n=this.clone(e,t),n.item},r.prototype.cloneRawObject=function(e,t){var n,i,o,l,a,u,c,f,d,p,h;if(null==t&&(t=0),u=e.id,u===this.itemId)n=this.createItem();else for(i=new r(this),i.objects=Object.create(this.objects),i.item=this.item,i.objectsOrderSignalArr=new Array(this.objectsOrder.length+2),i.isDeepClone=!0,i.ready=!0,i.mirror=!0,o={},o[i.id]=i,l=[i],n=s(e,o,l,i),h=this.idsOrder,a=d=0,p=h.length;p>d;a=++d)c=h[a],i.objectsOrder[a]=(f=i.objectsOrderSignalArr)[a]||(f[a]=this.objectsOrder[a]);return n},r.prototype.cloneObject=function(e,t){var n;return n=this.cloneRawObject(e,t),n._component.initObjects(),n},r.prototype.cloneComponentObject=function(){var e;return e=new r(this),e.objects=Object.create(this.objects),e.item=this.item,e.objectsOrder=Object.create(this.objectsOrder),e.objectsOrderSignalArr=Object.create(this.objectsOrderSignalArr),e.onObjectChange=this.onObjectChange,e.isDeepClone=!0,e.ready=!0,e.mirror=!0,e},r.prototype.setObjectById=function(e,t){var n,r,i;if((r=this.objects[t])!==e)return this.objects[t]=e,n=this.idsOrder.indexOf(t),-1!==n&&(this.objectsOrder[n]=this.objectsOrderSignalArr[n]=e,null!=(i=this.onObjectChange)&&i.emit(t,r)),e},r.Link=o=function(){function e(e){this.id=e}return e.prototype.getItem=function(e){var t;return t=e.objects[this.id]},e}(),r}()}}.call(this),n.exports}(),t["../renderer/types/basics/item.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",list:"../list/index.coffee.md","./item/spacing":"../renderer/types/basics/item/spacing.coffee.md","./item/alignment":"../renderer/types/basics/item/alignment.coffee.md","./item/anchors":"../renderer/types/basics/item/anchors.coffee.md","./item/layout":"../renderer/types/basics/item/layout.coffee.md","./item/margin":"../renderer/types/basics/item/margin.coffee.md","./item/pointer":"../renderer/types/basics/item/pointer.coffee.md","./item/keys":"../renderer/types/basics/item/keys.coffee.md","./item/document":"../renderer/types/basics/item/document.coffee.md"});n.exports}return function(){var e,t,i,o,s,l={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=r("utils"),o=r("signal"),e=r("list"),i=Array.isArray,t=o.Emitter.emitSignal,n.exports=function(e,n,i){var l;return l=function(l){function u(){u.__super__.constructor.call(this),this._$=null,this._parent=null,this._children=null,this._previousSibling=null,this._nextSibling=null,this._width=0,this._height=0,this._x=0,this._y=0,this._z=0,this._visible=!0,this._clip=!1,this._scale=1,this._rotation=0,this._opacity=1,this._linkUri="",this._anchors=null,this._layout=null,this._document=null,this._keys=null,this._pointer=null,this._margin=null,this._classes=null,this._background=null,this._defaultBackground=null}var c,f,d,p,h,m,_,g,y,v;return a(u,l),u.__name__="Item",u.__path__="Renderer.Item",u.New=function(e,t){var n;return n=new u,i.Object.initialize(n,e,t),n},i.defineProperty({constructor:u,name:"$",valueConstructor:i.CustomObject}),o.Emitter.createSignal(u,"onReady"),o.Emitter.createSignal(u,"onAnimationFrame",function(){var e,n,r;return r=Date.now(),n=[],e=function(){var i,o,s,l,a;for(s=r,r=Date.now(),o=r-s,l=0,a=n.length;a>l;l++)i=n[l],t(i,"onAnimationFrame",o);return requestAnimationFrame(e)},"function"==typeof requestAnimationFrame&&requestAnimationFrame(e),function(e){return n.push(e)}}()),s.defineProperty(u.prototype,"children",null,function(){return this._children||(this._children=new c(this))},function(e){var t,n,r;for(this.clear(),n=0,r=e.length;r>n;n++)t=e[n],e.parent=this}),o.Emitter.createSignal(u,"onChildrenChange"),c=function(e){function t(e){this._layout=null,this._target=null,this.length=0,t.__super__.constructor.call(this,e)}return a(t,e),i.defineProperty({constructor:t,name:"layout",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n,r;(null!=(r=this._layout)?r.effectItem:void 0)&&(this._layout.parent=null,this._layout.effectItem=this._layout),e.call(this,t),"_effectItem"in this._ref&&(this._ref.effectItem=t?null:this._ref),null!=t&&(n=this._ref,_(t,n,0),t.effectItem&&(t.effectItem=n))}}}),i.defineProperty({constructor:t,name:"target",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0}}),t.prototype.index=function(e){return Array.prototype.indexOf.call(this,e)},t.prototype.indexOf=t.prototype.index,t.prototype.has=function(e){return-1!==this.index(e)},t.prototype.clear=function(){for(var e;e=this[0];)e.parent=null},t}(i.MutableDeepObject),v=Array.prototype,p=v.indexOf,y=v.splice,m=v.push,g=v.shift,h=v.pop,_=function(e,r,i){null==i&&(i=-1),e.parent=null,i>=0&&r.children.length<i?n.insertItemBefore.call(e,r.children[i]):n.setItemParent.call(e,r),e._parent=r,t(e,"onParentChange",null)},i.defineProperty({constructor:u,name:"parent",defaultValue:null,setter:function(e){return function(e){var r,i,o,s,l,a,u,c,f,d,_,v;if(null==e&&(e=null),l=this._parent,a=null!=l?l.children:void 0,v=null!=e?e.children:void 0,i=!0,null!=v?v._target:void 0){for(r=!1,_=v._target;_;){if(_===this){r=!0;break}_=_._parent}r||(e=v._target,v=e.children)}l!==e&&((f=this._pointer)&&(f.hover=f.pressed=!1),c=this._previousSibling,u=this._nextSibling,null!==l&&(null===u?(o=a.length-1,h.call(a)):null===c?(o=0,g.call(a)):(o=p.call(a,this),-1===o?i=!1:y.call(a,o,1))),null!==e&&(s=m.call(v,this)),null!==c&&(c._nextSibling=u),null!==u&&(u._previousSibling=c),null!==e?(d=v[v.length-2]||null,this._previousSibling=d,null!=d&&(d._nextSibling=this)):this._previousSibling=null,null!==u&&(this._nextSibling=null),n.setItemParent.call(this,e),this._parent=e,null!==l&&i&&t(l,"onChildrenChange",null,this),null!==e&&t(e,"onChildrenChange",this,null),t(this,"onParentChange",l),null!==c&&t(c,"onNextSiblingChange",this),null!==u&&t(u,"onPreviousSiblingChange",this),(null!==e||null!==c)&&(null!=d&&t(d,"onNextSiblingChange",null),t(this,"onPreviousSiblingChange",c)),null!==u&&t(this,"onNextSiblingChange",u))}}}),s.defineProperty(u.prototype,"previousSibling",null,function(){return this._previousSibling},function(e){null==e&&(e=null),e!==this._previousSibling&&(this.nextSibling=e?e._nextSibling:this._parent.children[0])}),o.Emitter.createSignal(u,"onPreviousSiblingChange"),s.defineProperty(u.prototype,"nextSibling",null,function(){return this._nextSibling},function(e){var r,i,o,s,l,a,u,c,f,d,p,h;null==e&&(e=null),e!==this._nextSibling&&(f=this._parent,a=f._children,d=this._previousSibling,c=this._nextSibling,e?(o=e._parent,r=o._children,n.insertItemBefore.call(this,e)):(o=f,r=a,n.setItemParent.call(this,null),this._parent=null,n.setItemParent.call(this,o)),this._parent=o,null!=d&&(d._nextSibling=c),null!=c&&(c._previousSibling=d),u=a.index(this),Array.prototype.splice.call(a,u,1),e?(i=r.indexOf(e),Array.prototype.splice.call(r,i,0,this)):(i=r.length,Array.prototype.push.call(r,this)),i>0?(p=r[i-1],h=p._nextSibling,p._nextSibling=this):p=h=null,r.length>i+1?(s=r[i+1],l=s._previousSibling,s._previousSibling=this):s=l=null,this._previousSibling=p,this._nextSibling=s,f!==o?(t(a,"onChildrenChange",null,this),t(r,"onChildrenChange",this,null),t(this,"onParentChange",f)):t(r,"onChildrenChange",null,null),d&&t(d,"onNextSiblingChange",this),c&&t(c,"onPreviousSiblingChange",this),t(this,"onPreviousSiblingChange",d),p&&t(p,"onNextSiblingChange",h),t(this,"onNextSiblingChange",c),s&&t(s,"onPreviousSiblingChange",l))}),o.Emitter.createSignal(u,"onNextSiblingChange"),s.defineProperty(u.prototype,"index",null,function(){var e;return null!=(e=this._parent)?e.children.index(this):void 0},function(e){var t,n;t=this._parent._children,e>=t.length?this.nextSibling=null:(n=t[e])!==this&&(this.nextSibling=n)}),i.defineProperty({constructor:u,name:"visible",defaultValue:!0,implementation:n.setItemVisible,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"clip",defaultValue:!1,implementation:n.setItemClip,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"width",defaultValue:0,implementation:n.setItemWidth,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"height",defaultValue:0,implementation:n.setItemHeight,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"x",defaultValue:0,implementation:n.setItemX,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"y",defaultValue:0,implementation:n.setItemY,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"z",defaultValue:0,implementation:n.setItemZ,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"scale",defaultValue:1,implementation:n.setItemScale,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"rotation",defaultValue:0,implementation:n.setItemRotation,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"opacity",defaultValue:1,implementation:n.setItemOpacity,developmentSetter:function(e){return!0}}),i.defineProperty({constructor:u,name:"linkUri",defaultValue:"",implementation:n.setItemLinkUri,developmentSetter:function(e){return!0}}),d=function(){var t;return t=e.Class.New(new e.Component),t.priority=-1,t.changes.setAttribute("anchors.fill",["parent"]),t}(),f=function(t){var n,r;return r=e.Rectangle.New(t._component),n=d.clone(t._component),n.target=r,n.enable(),r},i.defineProperty({constructor:u,name:"background",defaultValue:null,developmentSetter:function(e){return null!=e?!0:void 0},getter:function(e){return function(){return this._background||(this._defaultBackground||(this._defaultBackground=f(this)),this.background=this._defaultBackground),e.call(this)}},setter:function(e){return function(r){var i,o;return r||(r=this._defaultBackground),o=this._background,r!==o?(o&&o._parent===this&&(o._parent=null,t(o,"onParentChange",this)),r&&(i=r._parent,(r._previousSibling||r._nextSibling)&&(r.parent=null),r._parent=this,t(r,"onParentChange",i)),n.setItemBackground.call(this,r),e.call(this,r)):void 0}}}),u.prototype.overlap=function(e){return n.doItemOverlap.call(this,e)},u.createSpacing=r("./item/spacing")(e,n,i,u),u.createAlignment=r("./item/alignment")(e,n,i,u),u.createAnchors=r("./item/anchors")(e,n,i,u),u.createLayout=r("./item/layout")(e,n,i,u),u.createMargin=r("./item/margin")(e,n,i,u),u.createPointer=r("./item/pointer")(e,n,i,u),u.createKeys=r("./item/keys")(e,n,i,u),u.createDocument=r("./item/document")(e,n,i,u),u.createAnchors(u),u.createLayout(u),u.Pointer=u.createPointer(u),u.createMargin(u),u.Keys=u.createKeys(u),u.Document=u.createDocument(u),u}(i.Object)}}.call(this),n.exports}(),t["../renderer/types/basics/item/spacing.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/spacing.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(t,n,r){return function(t){var o;return o=function(o){function s(e){s.__super__.constructor.call(this,e),this._column=0,this._row=0}return i(s,o),s.__name__="Spacing",r.defineProperty({constructor:t,name:"spacing",defaultValue:0,valueConstructor:s,setter:function(t){return function(n){var r;r=this.spacing,e.isObject(n)?(null!=n.column&&(r.column=n.column),null!=n.row&&(r.row=n.row)):r.column=r.row=n,t.call(this,n)}}}),r.defineProperty({constructor:s,name:"column",defaultValue:0,namespace:"spacing",parentConstructor:t,implementation:n["set"+t.__name__+"ColumnSpacing"],developmentSetter:function(e){return!0}}),r.defineProperty({constructor:s,name:"row",defaultValue:0,namespace:"spacing",parentConstructor:t,implementation:n["set"+t.__name__+"RowSpacing"],developmentSetter:function(e){return!0}}),s.prototype.valueOf=function(){if(this.column===this.row)return this.column;throw new Error("column and row spacing are different")},s.prototype.toJSON=function(){return{column:this.column,row:this.row}},s}(r.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/alignment.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/alignment.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});
n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(t,n,r){return function(t){var o;return o=function(o){function s(e){s.__super__.constructor.call(this,e),this._horizontal="left",this._vertical="top"}return i(s,o),s.__name__="Alignment",r.defineProperty({constructor:t,name:"alignment",defaultValue:null,valueConstructor:s,setter:function(t){return function(n){var r;r=this.alignment,e.isObject(n)?(null!=n.horizontal&&(r.horizontal=n.horizontal),null!=n.vertical&&(r.vertical=n.vertical)):r.horizontal=r.vertical=n,t.call(this,n)}}}),r.defineProperty({constructor:s,name:"horizontal",defaultValue:"left",namespace:"alignment",parentConstructor:t,implementation:n["set"+t.__name__+"AlignmentHorizontal"],developmentSetter:function(e){return!0},setter:function(e){return function(t){return null==t&&(t="left"),e.call(this,t)}}}),r.defineProperty({constructor:s,name:"vertical",defaultValue:"top",namespace:"alignment",parentConstructor:t,implementation:n["set"+t.__name__+"AlignmentVertical"],developmentSetter:function(e){return!0},setter:function(e){return function(t){return null==t&&(t="top"),e.call(this,t)}}}),s.prototype.toJSON=function(){return{horizontal:this.horizontal,vertical:this.vertical}},s}(r.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/anchors.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/anchors.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),H_LINE=1,V_LINE=2,LINE_REQ=1,ONLY_TARGET_ALLOW=2,H_LINE_REQ=4,V_LINE_REQ=8,FREE_H_LINE_REQ=16,FREE_V_LINE_REQ=32,H_LINES={top:!0,bottom:!0,verticalCenter:!0},V_LINES={left:!0,right:!0,horizontalCenter:!0},n.exports=function(e,t,n,r){return function(e){var r;return r=function(r){function i(e){i.__super__.constructor.call(this,e),this._top=null,this._bottom=null,this._verticalCenter=null,this._left=null,this._right=null,this._horizontalCenter=null,this._centerIn=null,this._fill=null,this._fillWidth=null,this._fillHeight=null,this._autoX=!1,this._autoY=!1}var o,s,l;return __extends(i,r),i.__name__="Anchors",n.defineProperty({constructor:e,name:"anchors",valueConstructor:i,developmentSetter:function(e){return!0},setter:function(e){return function(t){var n;n=this.anchors,null!=t.left&&(n.left=t.left),null!=t.right&&(n.right=t.right),null!=t.horizontalCenter&&(n.horizontalCenter=t.horizontalCenter),null!=t.top&&(n.top=t.top),null!=t.bottom&&(n.bottom=t.bottom),null!=t.verticalCenter&&(n.verticalCenter=t.verticalCenter),null!=t.centerIn&&(n.centerIn=t.centerIn),null!=t.fill&&(n.fill=t.fill),null!=t.fillWidth&&(n.fillWidth=t.fillWidth),null!=t.fillHeight&&(n.fillHeight=t.fillHeight),e.call(this,t)}}}),s=t["set"+e.__name__+"Anchor"],l=Object.create(null),o=function(t,r,o){var a;return null==r&&(r=0),a=function(e){return function(t){var n;return null==t&&(t=null),"string"==typeof t&&((n=l[t])||(n=l[t]=t.split(".")),t=n),null!=t&&"this"===t[0]&&(t[0]=this),r&FREE_V_LINE_REQ&&(this._autoX=!!t),r&FREE_H_LINE_REQ&&(this._autoY=!!t),e.call(this,t)}},n.defineProperty({constructor:i,name:t,defaultValue:null,implementation:function(e){return s.call(this,t,e)},namespace:"anchors",parentConstructor:e,setter:a,getter:function(){return o}})},o("left",LINE_REQ|V_LINE_REQ|FREE_V_LINE_REQ,function(){var e;return this._ref?this._ref.x-((null!=(e=this._ref._margin)?e._left:void 0)||0):void 0}),o("right",LINE_REQ|V_LINE_REQ|FREE_V_LINE_REQ,function(){var e;return this._ref?this._ref._x+this._ref._width+((null!=(e=this._ref._margin)?e._right:void 0)||0):void 0}),o("horizontalCenter",LINE_REQ|V_LINE_REQ|FREE_V_LINE_REQ,function(){return this._ref?this._ref._x+this._ref._width/2:void 0}),o("top",LINE_REQ|H_LINE_REQ|FREE_H_LINE_REQ,function(){var e;return this._ref?this._ref._y-((null!=(e=this._ref._margin)?e._top:void 0)||0):void 0}),o("bottom",LINE_REQ|H_LINE_REQ|FREE_H_LINE_REQ,function(){var e;return this._ref?this._ref._y+this._ref._height+((null!=(e=this._ref._margin)?e._bottom:void 0)||0):void 0}),o("verticalCenter",LINE_REQ|H_LINE_REQ|FREE_H_LINE_REQ,function(){return this._ref?this._ref._y+this._ref._height/2:void 0}),o("centerIn",ONLY_TARGET_ALLOW|FREE_H_LINE_REQ|FREE_V_LINE_REQ,function(){return this._ref?[this.horizontalCenter,this.verticalCenter]:void 0}),o("fill",ONLY_TARGET_ALLOW,function(){return this._ref?[this._ref._x,this._ref._y,this._ref._width,this._ref._height]:void 0}),o("fillWidth",ONLY_TARGET_ALLOW,function(){return this._ref?[this._ref._x,this._ref._width]:void 0}),o("fillHeight",ONLY_TARGET_ALLOW,function(){return this._ref?[this._ref._y,this._ref._height]:void 0}),i}(n.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/layout.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/layout.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(e,t,n,r){return function(e,t){var r;return r=function(r){function i(e){i.__super__.constructor.call(this,e),this._enabled=!0,this._fillWidth=!1,this._fillHeight=!1}var s;return o(i,r),i.__name__="Layout",s=(null!=t?t.propertyName:void 0)||"layout",n.defineProperty({constructor:e,name:s,valueConstructor:i}),n.defineProperty({constructor:i,name:"enabled",defaultValue:!0,developmentSetter:function(e){return!0},namespace:s,parentConstructor:e}),n.defineProperty({constructor:i,name:"fillWidth",defaultValue:!1,developmentSetter:function(e){return!0},namespace:s,parentConstructor:e}),n.defineProperty({constructor:i,name:"fillHeight",defaultValue:!1,developmentSetter:function(e){return!0},namespace:s,parentConstructor:e}),i}(n.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/margin.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/margin.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r,i,s){return function(n,r){var s;return s=function(s){function l(e){l.__super__.constructor.call(this,e),this._left=0,this._top=0,this._right=0,this._bottom=0}var a,u;return o(l,s),l.__name__="Margin",u=(null!=r?r.propertyName:void 0)||"margin",i.defineProperty({constructor:n,name:u,defaultValue:0,valueConstructor:l,setter:function(e){return function(n){var r,i,o,s,l,a;if(null==n&&(n=0),s=this[u],"string"==typeof n){for(r=n.split(" "),o=l=0,a=r.length;a>l;o=++l)i=r[o],r[o]=parseFloat(i);switch(r.length){case 3:s.top=r[0],s.right=r[1],s.bottom=r[2],s.left=r[1];break;case 2:s.top=r[0],s.right=r[1],s.bottom=r[0],s.left=r[1];break;case 1:s.left=s.top=s.right=s.bottom=r[0];break;default:s.top=r[0],s.right=r[1],s.bottom=r[2],s.left=r[3]}}else Array.isArray(n)?(n.length>0&&(s.top=n[0]),n.length>1&&(s.right=n[1]),n.length>2&&(s.bottom=n[2]),n.length>3&&(s.left=n[3])):t.isObject(n)?(null!=n.left&&(s.left=n.left),null!=n.top&&(s.top=n.top),null!=n.right&&(s.right=n.right),null!=n.bottom&&(s.bottom=n.bottom)):s.left=s.top=s.right=s.bottom=n;e.call(this,n)}}}),a=function(e,r){var o,s;return o=function(e){return!0},s="on"+t.capitalize(r)+"Change",i.defineProperty({constructor:l,name:e,defaultValue:0,setter:function(e){return function(t){var n;return n=this[r],e.call(this,t),this[s].emit(n)}},namespace:u,parentConstructor:n,developmentSetter:o})},a("left","horizontal"),a("top","vertical"),a("right","horizontal"),a("bottom","vertical"),e.Emitter.createSignal(l,"onHorizontalChange"),t.defineProperty(l.prototype,"horizontal",null,function(){return this._left+this._right},function(e){return this.left=this.right=e/2}),e.Emitter.createSignal(l,"onVerticalChange"),t.defineProperty(l.prototype,"vertical",null,function(){return this._top+this._bottom},function(e){return this.top=this.bottom=e/2}),l.prototype.valueOf=function(){if(this.left===this.top&&this.top===this.right&&this.right===this.bottom)return this.left;throw new Error("margin values are different")},l.prototype.toJSON=function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},l}(i.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/pointer.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/pointer.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=r("utils"),t=r("signal"),e=function(){},n.exports=function(e,n,r,o){return function(o){var l;return l=function(l){function a(e){a.__super__.constructor.call(this,e),this._enabled=!0,this._draggable=!1,this._dragActive=!1,this._pressed=!1,this._hover=!1,this._pressedInitialized=!1,this._hoverInitialized=!1}var u,c,f,d,p,h,m,_;for(s(a,l),a.__name__="Pointer",r.defineProperty({constructor:o,name:"pointer",valueConstructor:a}),r.defineProperty({constructor:a,name:"enabled",defaultValue:!0,namespace:"pointer",parentConstructor:o,implementation:n.setItemPointerEnabled,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:a,name:"draggable",defaultValue:!1,namespace:"pointer",parentConstructor:o,implementation:n.setItemPointerDraggable,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:a,name:"dragActive",defaultValue:!1,namespace:"pointer",parentConstructor:o,implementation:n.setItemPointerDragActive,developmentSetter:function(e){return!0}}),d=function(e,t){n.attachItemSignal.call(e,"pointer",t)},a.SIGNALS=["onClick","onPress","onRelease","onEnter","onExit","onWheel","onMove","onDragStart","onDragEnd","onDragEnter","onDragExit","onDrop"],_=a.SIGNALS,h=0,m=_.length;m>h;h++)p=_[h],t.Emitter.createSignal(a,p,d);return f=function(){var e,t;return e=function(e){return e.stopPropagation=!1,this.pressed=!0},t=function(){return this.pressed=!1},function(n){n._pressedInitialized||(n._pressedInitialized=!0,n.onPress(e),n.onRelease(t))}}(),r.defineProperty({constructor:a,name:"pressed",defaultValue:!1,namespace:"pointer",parentConstructor:o,signalInitializer:f,getter:function(e){return function(){return f(this),e.call(this)}}}),c=function(){var e,t;return e=function(){return this.hover=!0},t=function(){return this.hover=!1},function(n){n._hoverInitialized||(n._hoverInitialized=!0,n.onEnter(e),n.onExit(t))}}(),r.defineProperty({constructor:a,name:"hover",defaultValue:!1,namespace:"pointer",parentConstructor:o,signalInitializer:c,getter:function(e){return function(){return c(this),e.call(this)}}}),a.PointerEvent=u=function(){function t(){this._stopPropagation=!0,this._checkSiblings=!1,this._ensureRelease=!0,this._ensureMove=!0}return t.prototype=Object.create(e.Device.pointer),t.prototype.constructor=t,i.defineProperty(t.prototype,"stopPropagation",null,function(){return this._stopPropagation},function(e){return this._stopPropagation=e}),i.defineProperty(t.prototype,"checkSiblings",null,function(){return this._checkSiblings},function(e){return this._checkSiblings=e}),i.defineProperty(t.prototype,"ensureRelease",null,function(){return this._ensureRelease},function(e){return this._ensureRelease=e}),i.defineProperty(t.prototype,"ensureMove",null,function(){return this._ensureMove},function(e){return this._ensureMove=e}),t}(),a.event=new u,a}(r.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/keys.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/keys.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(t,n,r,i){return function(i){var s;return s=function(s){function l(e){l.__super__.constructor.call(this,e),this._focus=!1}var a,u,c,f,d,p,h,m,_;for(o(l,s),l.__name__="Keys",a=t.Device,r.defineProperty({constructor:i,name:"keys",valueConstructor:l}),l.focusWindowOnPointerPress=!0,l.SIGNALS=["onPress","onHold","onRelease","onInput"],_=l.SIGNALS,h=0,m=_.length;m>h;h++)p=_[h],e.Emitter.createSignal(l,p);return f=null,c=!1,t.onReady(function(){return t.Device.onPointerPress(function(){return c=!1})}),t.onWindowChange(function(){return this.window.pointer.onPress(function(){return l.focusWindowOnPointerPress&&!c?this.keys.focus=!0:void 0},this.window)}),r.defineProperty({constructor:l,name:"focus",defaultValue:!1,implementation:n.setItemKeysFocus,namespace:"keys",parentConstructor:i,developmentSetter:function(e){return!0},setter:function(e){return function(r){var i;r&&(c=!0),this._focus!==r&&(r&&f!==this&&(f&&(i=f,f=null,n.setItemKeysFocus.call(i._ref,!1),i._focus=!1,i.onFocusChange.emit(!0),i._ref.onKeysChange.emit(i)),f=this),e.call(this,r),r||f!==this||(f=null,f!==t.window.keys&&(t.window.keys.focus=!0)))}}}),a.onKeyPress(function(e){return null!=f?f.onPress.emit(d):void 0}),a.onKeyHold(function(e){return null!=f?f.onHold.emit(d):void 0}),a.onKeyRelease(function(e){return null!=f?f.onRelease.emit(d):void 0}),a.onKeyInput(function(e){return null!=f?f.onInput.emit(d):void 0}),l.KeysEvent=u=function(){function e(){}return e.prototype=Object.create(a.keyboard),e.prototype.constructor=e,e}(),l.event=d=new u,l}(r.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/document.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/document.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),n.exports=function(e,t,n,r){return function(e){var t;return t=function(t){function r(e){r.__super__.constructor.call(this,e),this._node=null,this._visible=!1,this._query="",this._updatingProperty="",this._propertiesCleanQueue=[],e.on$Change(u,this)}var i,o,s,l,a,u,c;return __extends(r,t),r.__name__="Document",n.defineProperty({constructor:e,name:"document",valueConstructor:r}),c=function(e,t,n,r){"function"==typeof e[t]&&e[t].connect?("function"==typeof n&&e[t](n),"function"==typeof r&&e[t].disconnect(r)):(this._updatingProperty=t,e[t]=n)},u=function(e,t){var n;this._updatingProperty!==e&&(n=this._node)&&n.hasAttr(e)&&(void 0===t?c.call(this,this._ref._$,e,n._attrs[e],t):n.setAttr(e,this._ref._$[e]))},a=function(e,t){var n;(n=this._ref._$)&&e in n&&c.call(this,n,e,this._node._attrs[e],t)},l=function(){var e,t,n,r;if(t=this._ref._$){r=this._node._attrs;for(e in r)n=r[e],e in t&&(this._propertiesCleanQueue.push(e,t[e],n),c.call(this,t,e,n,null))}},s=function(){var e,t,n,r,i,o;if((n=this._propertiesCleanQueue).length){for(r=this._ref._$,t=i=0,o=n.length;o>i;t=i+=3)e=n[t],c.call(this,r,e,n[t+1],n[t+2]);utils.clear(n)}},utils.defineProperty(r.prototype,"query",null,function(){return this._query},function(e){""===this._query&&(this._query=e)}),n.defineProperty({constructor:r,name:"node",defaultValue:null,namespace:"document",parentConstructor:e,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){return this._node&&(this._node.onAttrsChange.disconnect(a,this),s.call(this)),e.call(this,t),t?(t.onAttrsChange(a,this),l.call(this)):void 0}}}),n.defineProperty({constructor:r,name:"visible",defaultValue:!1,namespace:"document",parentConstructor:e,developmentSetter:function(e){return!0}}),signal.Emitter.createSignal(r,"onShow"),signal.Emitter.createSignal(r,"onHide"),r.ShowEvent=o=function(){function e(){this.delay=0}return e}(),r.HideEvent=i=function(){function e(){this.delay=0,this.nextShowDelay=0}return e}(),r}(n.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/types/image.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/types/image.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){signal=r("signal"),utils=r("utils"),n.exports=function(e,t,n){var r;return r=function(r){function i(){i.__super__.constructor.call(this),this._source="",this._loaded=!1,this._sourceWidth=0,this._sourceHeight=0,this._fillMode="Stretch",this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1}var o,s,l,a,u,c;return __extends(i,r),i.__name__="Image",i.__path__="Renderer.Image",i.New=function(e,t){var r;return r=new i,n.Object.initialize(r,e,t),r},signal.create(i,"onPixelRatioChange"),u=1,utils.defineProperty(i,"pixelRatio",utils.CONFIGURABLE,function(){return u},function(e){var n;if(e!==u)return n=u,u=e,t.setStaticImagePixelRatio.call(this,e),this.onPixelRatioChange.emit(n)}),c=function(){this._autoHeight!==this._autoWidth&&(this._autoHeight&&l.call(this,this._width/this.sourceWidth*this.sourceHeight||0),this._autoWidth&&a.call(this,this._height/this.sourceHeight*this.sourceWidth||0))},i.prototype._width=-1,s=utils.lookupGetter(i.prototype,"width"),a=utils.lookupSetter(i.prototype,"width"),utils.defineProperty(i.prototype,"width",null,s,function(e){return function(t){this._autoWidth=-1===t,e.call(this,t),c.call(this)}}(a)),i.prototype._height=-1,s=utils.lookupGetter(i.prototype,"height"),l=utils.lookupSetter(i.prototype,"height"),utils.defineProperty(i.prototype,"height",null,s,function(e){return function(t){this._autoHeight=-1===t,e.call(this,t),c.call(this)}}(l)),n.defineProperty({constructor:i,name:"source",defaultValue:"",developmentSetter:function(e){return!0},setter:function(){var n,r,o;return n={resolution:1},r={source:"",width:0,height:0},o=function(e,t){return null==e&&(e=null),e||(this.sourceWidth=t.width,this.sourceHeight=t.height,this._autoWidth&&a.call(this,t.width),this._autoHeight&&l.call(this,t.height),c.call(this)),this._loaded=!0,this.onLoadedChange.emit(!1),e?this.onError.emit(e):this.onLoad.emit()},function(s){return function(l){var a;s.call(this,l),this._loaded&&(this._loaded=!1,this.onLoadedChange.emit(!0)),l?(n.resolution=e.Device.pixelRatio*i.pixelRatio,l=(null!=(a=e.resources)?a.resolve(l,n):void 0)||l,t.setImageSource.call(this,l,o)):(t.setImageSource.call(this,null,null),r.source=l,o.call(this,null,r))}}}()}),n.defineProperty({constructor:i,name:"sourceWidth",defaultValue:0,implementation:t.setImageSourceWidth,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"sourceHeight",defaultValue:0,implementation:t.setImageSourceHeight,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"offsetX",defaultValue:0,implementation:t.setImageOffsetX,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"offsetY",defaultValue:0,implementation:t.setImageOffsetY,developmentSetter:function(e){return!0}}),o=["Stretch","Tile"],n.defineProperty({constructor:i,name:"fillMode",defaultValue:"Stretch",implementation:t.setImageFillMode,developmentSetter:function(e){return null==e&&(e="Stretch"),!0}}),utils.defineProperty(i.prototype,"loaded",null,function(){return this._loaded},null),signal.Emitter.createSignal(i,"onLoadedChange"),signal.Emitter.createSignal(i,"onLoad"),signal.Emitter.createSignal(i,"onError"),i}(e.Item)}}.call(this),n.exports}(),t["../renderer/types/basics/item/types/text.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/types/text.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md","./text/font":"../renderer/types/basics/item/types/text/font.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),n.exports=function(e,t,n){var i;return i=function(i){function o(){o.__super__.constructor.call(this),this._text="",this._color="black",this._linkColor="blue",this._lineHeight=1,this._contentWidth=0,this._contentHeight=0,this._font=null,this._alignment=null,this._autoWidth=!0,this._autoHeight=!0,this._width=-1,this._height=-1}var s,l,a;return __extends(o,i),o.__name__="Text",o.__path__="Renderer.Text",o.SUPPORTED_HTML_TAGS={b:!0,strong:!0,em:!0,br:!0,font:!0,i:!0,s:!0,u:!0,a:!0},o.New=function(r,i){var s,l;return s=new o,n.Object.initialize(s,r,i),(l=e.FontLoader.getInternalFontName("sans-serif",14,!1))&&t.setTextFontFamily.call(s,l),s},o.prototype._width=-1,s=utils.lookupGetter(o.prototype,"width"),a=utils.lookupSetter(o.prototype,"width"),utils.defineProperty(o.prototype,"width",null,s,function(e){return function(n){var r;r=this._autoWidth,(this._autoWidth=-1===n)?e.call(this,this._contentWidth):e.call(this,n),(this._autoWidth||this._autoHeight)&&t.updateTextContentSize.call(this),r!==this._autoWidth&&t.setTextWrap.call(this,!this._autoWidth)}}(a)),o.prototype._height=-1,s=utils.lookupGetter(o.prototype,"height"),l=utils.lookupSetter(o.prototype,"height"),utils.defineProperty(o.prototype,"height",null,s,function(e){return function(n){(this._autoHeight=-1===n)?(e.call(this,this._contentHeight),t.updateTextContentSize.call(this)):e.call(this,n)}}(l)),n.defineProperty({constructor:o,name:"text",defaultValue:"",implementation:t.setText,setter:function(e){return function(t){return e.call(this,t+"")}}}),n.defineProperty({constructor:o,name:"color",defaultValue:"black",implementation:t.setTextColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"linkColor",defaultValue:"blue",implementation:t.setTextLinkColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"lineHeight",defaultValue:1,implementation:t.setTextLineHeight,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"contentWidth",defaultValue:0,developmentSetter:function(e){return!0},setter:function(e){return function(t){e.call(this,t),this._autoWidth&&a.call(this,t)}}}),n.defineProperty({constructor:o,name:"contentHeight",defaultValue:0,developmentSetter:function(e){return!0},setter:function(e){return function(t){e.call(this,t),this._autoHeight&&l.call(this,t)}}}),e.Item.createAlignment(o),o.createFont=r("./text/font")(e,t,n),o.createFont(o),o}(e.Item)}}.call(this),n.exports}(),t["../renderer/types/basics/item/types/text/font.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/types/text/font.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=function(e,t,n){return function(r){var i;return i=function(i){function o(e){o.__super__.constructor.call(this,e),this._family="sans-serif",this._pixelSize=14,this._weight=.4,this._wordSpacing=0,this._letterSpacing=0,this._italic=!1}var s,l;return __extends(o,i),o.__name__="Font",n.defineProperty({constructor:r,name:"font",defaultValue:null,valueConstructor:o,developmentSetter:function(e){return null!=e?!0:void 0},setter:function(e){return function(t){var n;e.call(this,t),utils.isObject(t)&&(n=this.font,null!=t.family&&(n.family=t.family),null!=t.pixelSize&&(n.pixelSize=t.pixelSize),null!=t.weight&&(n.weight=t.weight),null!=t.wordSpacing&&(n.wordSpacing=t.wordSpacing),null!=t.letterSpacing&&(n.letterSpacing=t.letterSpacing),null!=t.italic&&(n.italic=t.italic))}}}),l=t["set"+r.__name__+"FontFamily"],s=function(t){var n;return n=e.FontLoader.getInternalFontName(t._family,t._weight,t._italic),n||(n="sans-serif"),l.call(t._ref,n)},n.defineProperty({constructor:o,name:"family",defaultValue:"sans-serif",namespace:"font",parentConstructor:r,developmentSetter:function(e){return!0},setter:function(e){return function(t){return e.call(this,t),s(this)}}}),n.defineProperty({constructor:o,name:"pixelSize",defaultValue:14,namespace:"font",parentConstructor:r,implementation:t["set"+r.__name__+"FontPixelSize"],developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"weight",defaultValue:.4,namespace:"font",parentConstructor:r,developmentSetter:function(e){return!0},setter:function(e){return function(t){return e.call(this,t),s(this)}}}),n.defineProperty({constructor:o,name:"wordSpacing",defaultValue:0,namespace:"font",parentConstructor:r,implementation:t["set"+r.__name__+"FontWordSpacing"],developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"letterSpacing",defaultValue:0,namespace:"font",parentConstructor:r,implementation:t["set"+r.__name__+"FontLetterSpacing"],developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"italic",defaultValue:!1,namespace:"font",parentConstructor:r,developmentSetter:function(e){return!0},setter:function(e){return function(t){return e.call(this,t),s(this)}}}),o.prototype.toJSON=function(){return{family:this.family,pixelSize:this.pixelSize,weight:this.weight,wordSpacing:this.wordSpacing,letterSpacing:this.letterSpacing,italic:this.italic}},o}(n.DeepObject)}}}.call(this),n.exports}(),t["../renderer/types/basics/item/types/textInput.coffee.md"]=function(){{var n={exports:t["../renderer/types/basics/item/types/textInput.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),n.exports=function(e,t,n){var r;return r=function(r){function i(){i.__super__.constructor.call(this),this._text="",this._color="black",this._lineHeight=1,this._multiLine=!1,this._echoMode="normal",this._alignment=null,this._font=null,this._width=100,this._height=50}return __extends(i,r),i.__name__="TextInput",i.__path__="Renderer.TextInput",i.New=function(r,o){var s,l;return s=new i,n.Object.initialize(s,r,o),(l=e.FontLoader.getInternalFontName("sans-serif",14,!1))&&t.setTextInputFontFamily.call(s,l),s.pointer.onPress(function(){return i.keysFocusOnPointerPress?this.keys.focus=!0:void 0},s),s},i.keysFocusOnPointerPress=!0,n.defineProperty({constructor:i,name:"text",defaultValue:"",implementation:t.setTextInputText,setter:function(e){return function(t){return e.call(this,t+"")}}}),n.defineProperty({constructor:i,name:"color",defaultValue:"black",implementation:t.setTextInputColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"lineHeight",defaultValue:1,implementation:t.setTextInputLineHeight,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"multiLine",defaultValue:!1,implementation:t.setTextInputMultiLine,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:i,name:"echoMode",defaultValue:"normal",implementation:t.setTextInputEchoMode,developmentSetter:function(e){return!0},setter:function(e){return function(t){return t||(t="normal"),t=t.toLowerCase(),e.call(this,t)}}}),e.Item.createAlignment(i),e.Text.createFont(i),i}(e.Item)}}.call(this),n.exports}(),t["../renderer/types/shapes/rectangle.coffee.md"]=function(){{var n={exports:t["../renderer/types/shapes/rectangle.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(e,t,n){var r,o;return o=function(r){function o(){o.__super__.constructor.call(this),this._color="transparent",this._radius=0,this._border=null}return i(o,r),o.__name__="Rectangle",o.__path__="Renderer.Rectangle",o.New=function(e,t){var r;return r=new o,n.Object.initialize(r,e,t),r},n.defineProperty({constructor:o,name:"color",defaultValue:"transparent",implementation:t.setRectangleColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),n.defineProperty({constructor:o,name:"radius",defaultValue:0,implementation:t.setRectangleRadius,developmentSetter:function(e){return!0}}),o}(e.Item),r=function(r){function s(e){this._width=0,this._color="transparent",s.__super__.constructor.call(this,e)}return i(s,r),s.__name__="Border",n.defineProperty({constructor:o,name:"border",valueConstructor:s,developmentSetter:function(e){return!0},setter:function(e){return function(t){var n;n=this.border,null!=t.width&&(n.width=t.width),null!=t.color&&(n.color=t.color),e.call(this,t)}}}),n.defineProperty({constructor:s,name:"width",defaultValue:0,namespace:"border",parentConstructor:o,implementation:t.setRectangleBorderWidth,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:s,name:"color",defaultValue:"transparent",namespace:"border",parentConstructor:o,implementation:t.setRectangleBorderColor,implementationValue:function(){var t;return t={property:"color"},function(n){var r;return(null!=(r=e.resources)?r.resolve(n,t):void 0)||n}}(),developmentSetter:function(e){return!0}}),s.prototype.toJSON=function(){return{width:this.width,color:this.color}},s}(n.DeepObject),o}}.call(this),n.exports}(),t["../renderer/types/layout/grid.coffee.md"]=function(){{var n={exports:t["../renderer/types/layout/grid.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(t,n,r){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._columns=2,this._rows=1/0,this._spacing=null,this._alignment=null,this._includeBorderMargins=!1,this._effectItem=null
}return i(s,o),s.__name__="Grid",s.__path__="Renderer.Grid",s.New=function(e,t){var n;return n=new s,r.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,n.setGridEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),r.defineProperty({constructor:s,name:"columns",defaultValue:2,implementation:n.setGridColumns,developmentSetter:function(e){return!0},setter:function(e){return function(t){return 0>=t&&(t=1),e.call(this,t)}}}),r.defineProperty({constructor:s,name:"rows",defaultValue:1/0,implementation:n.setGridRows,developmentSetter:function(e){return!0},setter:function(e){return function(t){return 0>=t&&(t=1),e.call(this,t)}}}),t.Item.createSpacing(s),t.Item.createAlignment(s),r.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:n.setGridIncludeBorderMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),n.exports}(),t["../renderer/types/layout/column.coffee.md"]=function(){{var n={exports:t["../renderer/types/layout/column.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(t,n,r){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._spacing=0,this._alignment=null,this._includeBorderMargins=!1,this._effectItem=null}return i(s,o),s.__name__="Column",s.__path__="Renderer.Column",s.New=function(e,t){var n;return n=new s,r.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,n.setColumnEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),r.defineProperty({constructor:s,name:"spacing",defaultValue:0,implementation:n.setColumnSpacing,setter:function(t){return function(n){return e.isObject(n)&&(n=0),t.call(this,n)}}}),t.Item.createAlignment(s),r.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:n.setColumnIncludeBorderMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),n.exports}(),t["../renderer/types/layout/row.coffee.md"]=function(){{var n={exports:t["../renderer/types/layout/row.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(t,n,r){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._spacing=0,this._alignment=null,this._includeBorderMargins=!1,this._effectItem=null}return i(s,o),s.__name__="Row",s.__path__="Renderer.Row",s.New=function(e,t){var n;return n=new s,r.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,n.setRowEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),r.defineProperty({constructor:s,name:"spacing",defaultValue:0,implementation:n.setRowSpacing,setter:function(t){return function(n){return e.isObject(n)&&(n=0),t.call(this,n)}}}),t.Item.createAlignment(s),r.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:n.setRowIncludeBorderMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),n.exports}(),t["../renderer/types/layout/flow.coffee.md"]=function(){{var n={exports:t["../renderer/types/layout/flow.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md"});n.exports}return function(){var e,t={}.hasOwnProperty,i=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};e=r("utils"),n.exports=function(t,n,r){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this._padding=null,this._spacing=null,this._alignment=null,this._includeBorderMargins=!1,this._collapseMargins=!1,this._effectItem=null}return i(s,o),s.__name__="Flow",s.__path__="Renderer.Flow",s.New=function(e,t){var n;return n=new s,r.Object.initialize(n,e,t),n.effectItem=n,n},e.defineProperty(s.prototype,"effectItem",null,function(){return this._effectItem},function(e){var t;return t=this._effectItem,this._effectItem=e,n.setFlowEffectItem.call(this,e,t)}),t.Item.createMargin(s,{propertyName:"padding"}),t.Item.createSpacing(s),t.Item.createAlignment(s),r.defineProperty({constructor:s,name:"includeBorderMargins",defaultValue:!1,implementation:n.setFlowIncludeBorderMargins,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:s,name:"collapseMargins",defaultValue:!1,implementation:n.setFlowCollapseMargins,developmentSetter:function(e){return!0}}),s}(t.Item)}}.call(this),n.exports}(),t["../renderer/types/layout/scrollable.coffee.md"]=function(){{var n={exports:t["../renderer/types/layout/scrollable.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=r("utils"),t=r("signal"),e=t.Emitter.emitSignal,n.exports=function(t,n,r){var i;return i=function(t){function i(){i.__super__.constructor.call(this),this._contentItem=null,this._contentX=0,this._contentY=0,this._snap=!1,this._snapItem=null}return s(i,t),i.__name__="Scrollable",i.__path__="Renderer.Scrollable",i.New=function(e,t){var n;return n=new i,r.Object.initialize(n,e,t),n.clip=!0,n},r.defineProperty({constructor:i,name:"contentItem",defaultValue:null,implementation:n.setScrollableContentItem,setter:function(t){return function(n){return null!=n&&(n.parent=null,n._parent=this,e(n,"onParentChange",null)),t.call(this,n)}}}),r.defineProperty({constructor:i,name:"contentX",defaultValue:0,implementation:n.setScrollableContentX,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:i,name:"contentY",defaultValue:0,implementation:n.setScrollableContentY,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:i,name:"snap",defaultValue:!1,implementation:n.setScrollableSnap,developmentSetter:function(e){return!0}}),r.defineProperty({constructor:i,name:"snapItem",defaultValue:null,implementation:n.setScrollableSnapItem,developmentSetter:function(e){return null==e&&(e=null),null!=e?!0:void 0}}),i}(t.Item)}}.call(this),n.exports}(),t["../renderer/types/sound/ambient.coffee.md"]=function(){{var n={exports:t["../renderer/types/sound/ambient.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",list:"../list/index.coffee.md"});n.exports}return function(){var e,t,i,o,s,l={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=r("utils"),o=r("signal"),e=r("list"),i=Array.isArray,t=o.Emitter,n.exports=function(e,t,n){var r;return r=function(e){function r(){r.__super__.constructor.call(this),this._when=!1,this._running=!1,this._source="",this._loop=!1}var i;return a(r,e),r.__name__="AmbientSound",r.__path__="Renderer.AmbientSound",r.New=function(e,t){var i;return i=new r,n.Object.initialize(i,e,t),i},o.Emitter.createSignal(r,"onStart"),o.Emitter.createSignal(r,"onStop"),i=function(){return this.running=this._when},n.defineProperty({constructor:r,name:"running",setter:function(e){return function(n){var r;return this._when=n,this._isReady?(r=this._running,void(r!==n&&(e.call(this,n),n?(t.startAmbientSound.call(this),this.onStart.emit()):(t.stopAmbientSound.call(this),this.onStop.emit())))):void this.onReady(i)}}}),n.defineProperty({constructor:r,name:"source",implementation:t.setAmbientSoundSource,developmentSetter:function(e){return!0}}),n.defineProperty({constructor:r,name:"loop",implementation:t.setAmbientSoundLoop,developmentSetter:function(e){return!0}}),r.prototype.start=function(){return this.running=!0,this},r.prototype.stop=function(){return this.running=!1,this},r}(n.Object)}}.call(this),n.exports}(),t["../resources/resource.coffee.md"]=function(){{var n={exports:t["../resources/resource.coffee.md"]},r=e.bind(null,{log:"../log/index.coffee.md",utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=function(e){var t;return t=function(){function t(){this.file="",this.color="",this.width=0,this.height=0,this.formats=null,this.resolutions=null,this.paths=null}return t.__name__="Resource",t.__path__="Resources.Resource",t.FILE_NAME=/^(.*?)(?:@([0-9p]+)x)?(?:\.([a-zA-Z0-9]+))?(?:\#([a-zA-Z0-9]+))?$/,t.fromJSON=function(t){var n,r,i;"string"==typeof t&&(t=JSON.parse(t)),r=new e[t.__name__];for(n in t)i=t[n],"__name__"!==n&&(r[n]=i);return r},t.parseFileName=function(e){var n;return e&&(n=t.FILE_NAME.exec(e))?{file:n[1],resolution:null!=n[2]?parseFloat(n[2].replace("p",".")):void 0,format:n[3],property:n[4]}:void 0},t.prototype.resolve=function(e,n){var r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v;if(null==e&&(e=""),void 0===n&&utils.isPlainObject(e)&&(n=e,e=""),""===e?i=this.file:(l=t.parseFileName(e),i=l.file,f=l.resolution,l.format&&(s=[l.format]),a=l.property),null==f&&(f=(null!=n?n.resolution:void 0)||1),null==s&&(s=(null!=n?n.formats:void 0)||this.formats),a||(a=(null!=n?n.property:void 0)||"file"),"file"!==a)return this[a];for(utils.isPlainObject(n)&&(n.width>n.height?n.resolution*=n.width/this.width:n.width<n.height&&(n.resolution*=n.height/this.height)),r=1/0,c=0,y=this.resolutions,h=0,_=y.length;_>h;h++)p=y[h],d=Math.abs(f-p),(r>d||d===r&&p>c)&&(r=d,c=p);for(m=0,g=s.length;g>m;m++)if(o=s[m],u=null!=(v=this.paths[o])?v[c]:void 0)return u},t.prototype.toJSON=function(){return utils.merge({__name__:this.constructor.__name__},this)},t}()}}.call(this),n.exports}(),t["../resources/index.coffee.md"]=function(){{var n={exports:t["../resources/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md","./resource":"../resources/resource.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=Resources=function(){function e(){}return e.__name__="Resources",e.Resources=e,e.Resource=r("./resource")(e),e.URI=/^(?:rsc|resource|resources)?:\/?\/?(.*?)(?:@([0-9p]+)x)?(?:\.[a-zA-Z]+)?(?:\#[a-zA-Z0-9]+)?$/,e.fromJSON=function(t){var n,r,i;"string"==typeof t&&(t=JSON.parse(t)),r=new e;for(n in t)i=t[n],"__name__"!==n&&(i=e[i.__name__].fromJSON(i),r[n]=i);return r},e.testUri=function(t){return e.URI.test(t)},e.prototype.getResource=function(t){var n,r,i,o;for("string"==typeof t&&(r=e.URI.exec(t))&&(t=r[1]),n=t;n;){if(i=this[n])return o=t.slice(n.length+1),""!==o&&i instanceof e&&(i=i.getResource(o)),i;n=n.slice(0,n.lastIndexOf("/"))}},e.prototype.resolve=function(t,n){var r,i,o,s,l;if(s=this.getResource(t),s instanceof e.Resource){if(i=e.Resource.parseFileName(t),i.file="",null!=n)for(r in n)l=n[r],i[r]||(i[r]=l);o=s.resolve("",i)}return o&&this.resolve(o)||o},e.prototype.toJSON=function(){return utils.merge({__name__:this.constructor.__name__},this)},e}()}.call(this),n.exports}(),t["../renderer/types/loader/resources.coffee.md"]=function(){{var n={exports:t["../renderer/types/loader/resources.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md",resources:"../resources/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),Resources=r("resources"),n.exports=function(e,t,n){var r;return r=function(r){function i(){i.__super__.constructor.call(this),this._resources=e.resources,this._progress=0,setImmediate(function(e){return function(){return e._resources?(e.progress=0,t.loadResources.call(e,o(e._resources))):void 0}}(this))}var o;return __extends(i,r),i.__name__="ResourcesLoader",i.__path__="Renderer.ResourcesLoader",o=function(e,t){var n,r;null==t&&(t=[]);for(n in e)r=e[n],e.hasOwnProperty(n)&&(r instanceof Resources.Resource?t.push(r):o(r,t));return t},i.New=function(e,t){var r;return r=new i,n.Object.initialize(r,e,t),r},utils.defineProperty(i.prototype,"resources",null,function(){return this._resources},function(t){return"string"==typeof t&&(t=e.resources.getResource(t)),this._resources=t}),n.defineProperty({constructor:i,name:"progress",developmentSetter:function(e){return!0}}),i}(n.FixedObject)}}.call(this),n.exports}(),t["../renderer/types/loader/font.coffee.md"]=function(){{var n={exports:t["../renderer/types/loader/font.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),n.exports=function(e,t,n){var r;return r=function(r){function i(){i.__super__.constructor.call(this),this._name="",this._source=""}var o,s,l,a;return __extends(i,r),i.__name__="FontLoader",i.__path__="Renderer.FontLoader",s=Object.create(null),o=[/hairline/i,/thin/i,/ultra.*light/i,/extra.*light/i,/light/i,/book/i,/normal|regular|roman|plain/i,/medium/i,/demi.*bold|semi.*bold/i,/bold/i,/extra.*bold|extra/i,/heavy/i,/black/i,/extra.*black/i,/ultra.*black|ultra/i],l=function(){var n,r;return n=function(e){var t,n,r,i;for(t=r=0,i=o.length;i>r;t=++r)if(n=o[t],n.test(e))return t/(o.length-1);return.4},r=function(e){return/italic|oblique/i.test(e)},function(i){var l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E;if(h=(null!=(S=e.resources)?S.resolve(i.source):void 0)||i.source,p=null!=(w=e.resources)?w.getResource(h):void 0){m=[],E=p.paths;for(y in E)d=E[y],m.push(d[1])}else m=[h];for(_=.4,a=!1,l=v=0,x=m.length;x>v;l=++v)h=m[l],_!==(_=n(h))&&l>0,a!==(a=r(h))&&l>0;g=Math.round(_*o.length),u=a?"italic":"normal",c="neft-"+i.name+"-"+g+"-"+u,f=null!=s[b=i.name]?s[b]:s[b]={},f=null!=f[a]?f[a]:f[a]=new Array(o.length),f[g]=c,t.loadFont(c,h,m)}}(),a=function(e){return e.name&&e.source?setImmediate(function(){return l(e)}):void 0},i.getInternalFontName=function(e,t,n){var r,i,l,a,u,c,f,d,p,h,m,_;if(c="",(u=s[e])&&(!u[n],(u=u[n]||u[!n])&&(f=Math.round(t*o.length),!(c=u[f])))){for(i=-1,a=d=h=f-1;d>=0;a=d+=-1)if(u[a]){i=a;break}for(l=-1,a=p=m=f+1,_=o.length;_>p;a=p+=1)if(u[a]){l=a;break}i>=0&&l>=0?r=f-i>l-f?l:i:i>=0?r=i:l>=0&&(r=l),c=u[r]}return c},i.New=function(e,t){var r;return r=new i,n.Object.initialize(r,e,t),r},utils.defineProperty(i.prototype,"name",null,function(){return this._name},function(e){return this._name=e,a(this)}),utils.defineProperty(i.prototype,"source",null,function(){return this._source},function(e){this._source=e,a(this)}),i}(n.FixedObject)}}.call(this),n.exports}(),t["../renderer/index.coffee.md"]=function(){var n={exports:t["../renderer/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md","./impl":"../renderer/impl.coffee","./utils/item":"../renderer/utils/item.coffee","./types/namespace/screen":"../renderer/types/namespace/screen.coffee.md","./types/namespace/device":"../renderer/types/namespace/device.coffee.md","./types/namespace/navigator":"../renderer/types/namespace/navigator.coffee.md","./types/namespace/sensor/rotation":"../renderer/types/namespace/sensor/rotation.coffee.md","./types/extension":"../renderer/types/extension.coffee","./types/extensions/class":"../renderer/types/extensions/class.coffee.md","./types/extensions/animation":"../renderer/types/extensions/animation.coffee.md","./types/extensions/animation/types/property":"../renderer/types/extensions/animation/types/property.coffee.md","./types/extensions/animation/types/property/types/number":"../renderer/types/extensions/animation/types/property/types/number.coffee.md","./types/extensions/transition":"../renderer/types/extensions/transition.coffee.md","./types/basics/component":"../renderer/types/basics/component.coffee","./types/basics/item":"../renderer/types/basics/item.coffee.md","./types/basics/item/types/image":"../renderer/types/basics/item/types/image.coffee.md","./types/basics/item/types/text":"../renderer/types/basics/item/types/text.coffee.md","./types/basics/item/types/textInput":"../renderer/types/basics/item/types/textInput.coffee.md","./types/shapes/rectangle":"../renderer/types/shapes/rectangle.coffee.md","./types/layout/grid":"../renderer/types/layout/grid.coffee.md","./types/layout/column":"../renderer/types/layout/column.coffee.md","./types/layout/row":"../renderer/types/layout/row.coffee.md","./types/layout/flow":"../renderer/types/layout/flow.coffee.md","./types/layout/scrollable":"../renderer/types/layout/scrollable.coffee.md","./types/sound/ambient":"../renderer/types/sound/ambient.coffee.md","./types/loader/resources":"../renderer/types/loader/resources.coffee.md","./types/loader/font":"../renderer/types/loader/font.coffee.md"}),i=n.exports;return function(){var e,t,n,o;o=r("utils"),n=r("signal"),n.create(i,"onReady"),n.create(i,"onWindowChange"),e=r("./impl")(i),t=i.itemUtils=r("./utils/item")(i,e),i.Screen=r("./types/namespace/screen")(i,e,t),i.Device=r("./types/namespace/device")(i,e,t),i.Navigator=r("./types/namespace/navigator")(i,e,t),i.RotationSensor=r("./types/namespace/sensor/rotation")(i,e,t),i.Extension=r("./types/extension")(i,e,t),i.Class=r("./types/extensions/class")(i,e,t),i.Animation=r("./types/extensions/animation")(i,e,t),i.PropertyAnimation=r("./types/extensions/animation/types/property")(i,e,t),i.NumberAnimation=r("./types/extensions/animation/types/property/types/number")(i,e,t),i.Transition=r("./types/extensions/transition")(i,e,t),i.Component=r("./types/basics/component")(i,e,t),i.Item=r("./types/basics/item")(i,e,t),i.Image=r("./types/basics/item/types/image")(i,e,t),i.Text=r("./types/basics/item/types/text")(i,e,t),i.TextInput=r("./types/basics/item/types/textInput")(i,e,t),i.Rectangle=r("./types/shapes/rectangle")(i,e,t),i.Grid=r("./types/layout/grid")(i,e,t),i.Column=r("./types/layout/column")(i,e,t),i.Row=r("./types/layout/row")(i,e,t),i.Flow=r("./types/layout/flow")(i,e,t),i.Scrollable=r("./types/layout/scrollable")(i,e,t),i.AmbientSound=r("./types/sound/ambient")(i,e,t),i.ResourcesLoader=r("./types/loader/resources")(i,e,t),i.FontLoader=r("./types/loader/font")(i,e,t),o.defineProperty(i,"window",o.CONFIGURABLE,null,function(t){return o.defineProperty(i,"window",o.ENUMERABLE,t),i.onWindowChange.emit(null),e.setWindow(t)}),o.defineProperty(i,"serverUrl",o.WRITABLE,""),o.defineProperty(i,"resources",o.WRITABLE,null),i.onReady.emit()}.call(this),n.exports}(),t["../document/func.coffee.md"]=function(){{var n={exports:t["../document/func.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",renderer:"../renderer/index.coffee.md"});n.exports}return function(){var e,t;t=r("utils"),e=r("renderer"),n.exports=function(t){var n,i,o,s,l,a,u,c;return o=t.Input,n={require:r,get:function(e){return o.getVal(this,e)}},i={arguments:function(e,t){return t},view:function(){return this},item:function(t){return t&&t._ref&&(t=t._ref),t instanceof e.Item?t:void 0}},l=Object.keys(n),Array.prototype.push.apply(l,Object.keys(i)),a=l.length,c={},u=Object.create(null),s={bindFuncIntoGlobal:function(e,t){var r,o,s,f,d,p,h,m;for((s=u[e.uid])||(r=l.concat(e.arguments),s=u[e.uid]=new Function(r,e.body)),r=new Array(a+e.arguments.length),o=e.arguments.length,d=h=0,m=l.length;m>h;d=++h)p=l[d],r[d]=(f=n[p])?f.bind(t):null;return function(){var e,n,u,f;for(d=n=0,f=l.length;f>n;d=++n)p=l[d],(e=i[p])&&(r[d]=e.call(t,this,arguments));for(d=u=0;o>u;d=u+=1)r[a+d]=arguments[d];return s.apply(c,r)}}}}}.call(this),n.exports}(),t["../document/attrsToSet.coffee"]=function(){{var n={exports:t["../document/attrsToSet.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md"});n.exports}return function(){utils=r("utils"),n.exports=function(e){var t;return t=function(){function t(e,t,n){var r;this.file=e,this.node=t,this.attrs=n;for(r in this.attrs)null!=t._attrs[r]&&clone.setAttribute(r,null);t.onAttrsChange(this.setAttribute,clone)}var n,r,i,o,s;return t.__name__="AttrsToSet",t.__path__="File.AttrsToSet",i=t.JSON_CTOR_ID=e.JSON_CTORS.push(t)-1,s=1,o=s++,r=s++,n=t.JSON_ARGS_LENGTH=s,t._fromJSON=function(e,n,i){var s;return i||(s=e.node.getChildByAccessPath(n[o]),i=new t(e,s,n[r])),i},t.prototype.setAttribute=function(e,t){var n;this.attrs[e]&&(n=this.node._attrs[e],"function"==typeof this.node[e]&&this.node[e].connect?("function"==typeof t&&this.node[e].disconnect(t),"function"==typeof n&&this.node[e](n)):this.node[e]=n)},t.prototype.clone=function(e,n){var r;return r=e.node.getCopiedElement(this.node,n.node),new t(n,r,this.attrs)},t.prototype.toJSON=function(e,t){return t||(t=new Array(n),t[0]=i),t[o]=this.node.getAccessPath(this.file.node),t[r]=this.attrs,t},t}()}}.call(this),n.exports}(),t["../document/file/render/parse/target.coffee"]=function(){{var n={exports:t["../document/file/render/parse/target.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return function(e,t){var n,r;e.targetNode&&t&&(r=e.targetNode,n=t.bodyNode,null!=n&&(n.parent=r))}}}.call(this),n.exports}(),t["../document/file/render/revert/target.coffee"]=function(){{var n={exports:t["../document/file/render/revert/target.coffee"]};e.bind(null,{}),n.exports}return function(){n.exports=function(e){return function(e,t){var n,r;e.targetNode&&t&&(r=e.targetNode,n=t.bodyNode,null!=n&&(n.parent=null))}}}.call(this),n.exports}(),t["../document/file.coffee.md"]=function(){{var n={exports:t["../document/file.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md",dict:"../dict/index.coffee.md",list:"../list/index.coffee.md","./element/index":"../document/element/index.coffee","./attrChange":"../document/attrChange.coffee","./use":"../document/use.coffee","./input":"../document/input.coffee","./condition":"../document/condition.coffee","./iterator":"../document/iterator.coffee","./log":"../document/log.coffee","./func":"../document/func.coffee.md","./attrsToSet":"../document/attrsToSet.coffee","./file/render/parse/target":"../document/file/render/parse/target.coffee","./file/render/revert/target":"../document/file/render/revert/target.coffee"});n.exports}return function(){utils=r("utils"),signal=r("signal"),Dict=r("dict"),List=r("list"),Emitter=signal.Emitter,n.exports=File=function(e){function t(e,n){this.path=e,this.node=n,t.__super__.constructor.call(this),this.isClone=!1,this.uid=utils.uid(),this.isRendered=!1,this.readyToUse=!0,this.targetNode=null,this.parent=null,this.storage=null,this.source=null,this.parentUse=null,this.fragments={},this.attrChanges=[],this.inputs=[],this.conditions=[],this.iterators=[],this.uses=[],this.ids={},this.funcs={},this.attrsToSet=[],this.logs=[],this.styles=[]}var n,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S;return __extends(t,e),v=t._files={},S=Object.create(null),x=function(e){var t,n,r,i;if(t=S[e],null!=t?t.length:void 0)for(r=i=t.length;n=t[--r];)if(n.readyToUse)return t[r]=t[i-1],t.pop(),n},t.__name__="File",t.__path__="File",t.JSON_CTORS=[],l=t.JSON_CTOR_ID=t.JSON_CTORS.push(t)-1,b=1,m=b++,h=b++,g=b++,a=b++,o=b++,f=b++,s=b++,d=b++,y=b++,c=b++,u=b++,i=b++,p=b++,_=b++,n=t.JSON_ARGS_LENGTH=b,t.HTML_NS="neft",signal.create(t,"onCreate"),signal.create(t,"onError"),signal.create(t,"onBeforeParse"),signal.create(t,"onParse"),signal.create(t,"onBeforeRender"),signal.create(t,"onRender"),signal.create(t,"onBeforeRevert"),signal.create(t,"onRevert"),t.Element=r("./element/index"),t.AttrChange=r("./attrChange")(t),t.Use=r("./use")(t),t.Input=r("./input")(t),t.Condition=r("./condition")(t),t.Iterator=r("./iterator")(t),t.Log=r("./log")(t),t.Func=r("./func")(t),t.AttrsToSet=r("./attrsToSet")(t),t.fromHTML=function(){var e;return utils.isNode?(e=r("./file/clear")(t),function(n,r){var i;return""===r&&(r="<html></html>"),i=t.Element.fromHTML(r),e(i),t.fromElement(n,i)}):function(e,t){throw new Error("Document.fromHTML is available only on the server")}}(),t.fromElement=function(e,n){var r;return r=new t(e,n)},t.fromJSON=function(e){var n;return"string"==typeof e&&(e=utils.tryFunction(JSON.parse,null,[e],e)),(n=v[e[m]])?n:(n=t.JSON_CTORS[e[0]]._fromJSON(e),v[n.path]=n,n)},t._fromJSON=function(){var e,n;return n=function(e,n,r){var i,o;for(i in n)o=n[i],r[i]=t.JSON_CTORS[o[0]]._fromJSON(e,o)},e=function(e,n,r){var i,o,s;for(o=0,s=n.length;s>o;o++)i=n[o],r.push(t.JSON_CTORS[i[0]]._fromJSON(e,i))},function(r,l){var p,v,x,b;l||(v=t.Element.fromJSON(r[h]),l=new t(r[m],v)),r[g]&&(l.targetNode=v.getChildByAccessPath(r[g])),utils.merge(l.fragments,r[a]),e(l,r[o],l.attrChanges),e(l,r[f],l.inputs),e(l,r[s],l.conditions),e(l,r[d],l.iterators),e(l,r[y],l.uses),b=r[c];for(p in b)x=b[p],l.ids[p]=l.node.getChildByAccessPath(x);return n(l,r[u],l.funcs),e(l,r[i],l.attrsToSet),e(l,r[_],l.styles),l}}(),t.parse=function(){var e,n,i,o,s,l,a,u,c,f,d,p,h;return utils.isNode?(f=r("./file/parse/rules")(t),s=r("./file/parse/fragments")(t),i=r("./file/parse/attrs")(t),e=r("./file/parse/attrChanges")(t),u=r("./file/parse/iterators")(t),p=r("./file/parse/target")(t),h=r("./file/parse/uses")(t),d=r("./file/parse/storage")(t),o=r("./file/parse/conditions")(t),a=r("./file/parse/ids")(t),c=r("./file/parse/logs")(t),l=r("./file/parse/funcs")(t),n=r("./file/parse/attrSetting")(t),function(r){return v[r.path]=r,t.onBeforeParse.emit(r),f(r),s(r),i(r),u(r),e(r),p(r),h(r),d(r),o(r),a(r),l(r),n(r),t.onParse.emit(r)}):function(e){throw new Error("Document.parse() is available only on the server")}}(),t.factory=function(e){var n,r;return v.hasOwnProperty(e)||t.onError.emit(e),(r=x(e))?r:(n=v[e].clone(),t.onCreate.emit(n),n)},t.prototype.render=function(e,t){return this.isClone?this._render(e,t):this.clone().render(e,t)},t.prototype._render=function(){var e;return e=r("./file/render/parse/target")(t),function(n,r){var i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v;for(n instanceof t.Use&&(r=n,n=null),null!=n&&(this.storage=n),this.source=r,t.onBeforeRender.emit(this),_=this.inputs,b=a=0,d=_.length;d>a;b=++a)o=_[b],o.render();for(g=this.uses,u=0,p=g.length;p>u;u++)l=g[u],l.isRendered||l.render();for(y=this.iterators,b=c=0,h=y.length;h>c;b=++c)s=y[b],s.render();for(v=this.conditions,b=f=0,m=v.length;m>f;b=++f)i=v[b],i.render();return e(this,r),this.isRendered=!0,t.onRender.emit(this),this}}(),t.prototype.revert=function(){var e;return e=r("./file/render/revert/target")(t),function(){var n,r,i,o,s,l,a,u,c,f,d,p,h;if(this.isRendered=!1,t.onBeforeRevert.emit(this),null!=(f=this.parentUse)&&f.detachUsedFragment(),this.inputs)for(d=this.inputs,b=o=0,a=d.length;a>o;b=++o)n=d[b],n.revert();if(this.uses)for(p=this.uses,s=0,u=p.length;u>s;s++)i=p[s],i.revert();if(this.iterators)for(h=this.iterators,b=l=0,c=h.length;c>l;b=++l)r=h[b],r.revert();return e(this,this.source),this.storage=null,this.source=null,t.onRevert.emit(this),this}}(),t.prototype.use=function(e,t){var n,r,i,o,s;if(this.uses)for(s=this.uses,i=0,o=s.length;o>i;i++)if(r=s[i],r.name===e){n=r;break}return n&&n.render(t),this},Emitter.createSignal(t,"onReplaceByUse"),t.prototype.clone=function(){var e;return(e=x(this.path))?e:this._clone()},t.prototype._clone=function(){var e,n,r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A,C,T,N,R,L,k,F;for(r=new t(this.path,this.node.cloneDeep()),r.isClone=!0,r.fragments=this.fragments,this.targetNode&&(f=this.node.getCopiedElement(this.targetNode,r.node)),P=this.attrChanges,p=0,g=P.length;g>p;p++)e=P[p],r.attrChanges.push(e.clone(this,r));for(A=this.inputs,h=0,y=A.length;y>h;h++)l=A[h],r.inputs.push(l.clone(this,r));for(C=this.conditions,m=0,v=C.length;v>m;m++)i=C[m],r.conditions.push(i.clone(this,r));for(T=this.iterators,_=0,x=T.length;x>_;_++)a=T[_],r.iterators.push(a.clone(this,r));for(N=this.uses,E=0,b=N.length;b>E;E++)d=N[E],r.uses.push(d.clone(this,r));R=this.ids;for(s in R)c=R[s],r.ids[s]=this.node.getCopiedElement(c,r.node);L=this.funcs;for(u in L)o=L[u],r.funcs[u]=t.Func.bindFuncIntoGlobal(o,r);for(k=this.attrsToSet,I=0,S=k.length;S>I;I++)n=k[I],r.attrsToSet.push(n.clone(this,r));for(F=this.logs,O=0,w=F.length;w>O;O++)r.logs.push(!0);return r},t.prototype.destroy=function(){var e,t;this.isRendered&&this.revert(),e=null!=S[t=this.path]?S[t]:S[t]=[],e.push(this)},t.prototype.toJSON=function(){var e;return e=function(e){return e.toJSON()},function(t,r){var v,x,b,S;r||(r=new Array(n),r[0]=l),r[m]=this.path,r[h]=this.node.toJSON(),this.targetNode&&(r[g]=this.targetNode.getAccessPath(this.node)),r[a]=this.fragments,r[o]=this.attrChanges.map(e),r[f]=this.inputs.map(e),r[s]=this.conditions.map(e),r[d]=this.iterators.map(e),r[y]=this.uses.map(e),x=r[c]={},S=this.ids;for(v in S)b=S[v],x[v]=b.getAccessPath(this.node);return r[u]=this.funcs,r[i]=this.attrsToSet,r[p]=[],r[_]=this.styles.map(e),r}}(),t}(Emitter)}.call(this),n.exports}(),t["../document/index.coffee.md"]=function(){{var n={exports:t["../document/index.coffee.md"]},r=e.bind(null,{"./file":"../document/file.coffee.md"});n.exports}return function(){n.exports=r("./file")}.call(this),n.exports}(),t["../networking/impl/browser/response.coffee"]=function(){{var n={exports:t["../networking/impl/browser/response.coffee"]},r=e.bind(null,{log:"../log/index.coffee.md",utils:"../utils/index.coffee.md",document:"../document/index.coffee.md",renderer:"../renderer/index.coffee.md"});n.exports}return function(){utils=r("utils"),Document=r("document"),Renderer=r("renderer"),n.exports=function(e,t){var n,r;return n=function(e){var t,n,r,i,o,s;if(!(e instanceof Document))return!1;if(r=e.styles,!(null!=r?r.length:void 0))return!1;for(Renderer.window.document.node=e.node,t=!1,o=0,s=r.length;s>o;o++)n=r[o],n.item&&(t=!0,null==(i=n.item).parent&&(i.parent=Renderer.window),n.isScope&&n.item.document.onShow.emit());return t},r=!1,window.addEventListener("popstate",function(){return r=!0}),{send:function(e,t,i){return n(t)&&(r?r=!1:history.pushState(null,"",e.request.uri)),i()},setHeader:function(){},redirect:function(e,n,r,i){return t.changePage(r),i()}}}}.call(this),n.exports}(),t["../networking/uri.coffee.md"]=function(){{var n={exports:t["../networking/uri.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",dict:"../dict/index.coffee.md"});
n.exports}return function(){var e,t,i,o,s,l;l=r("utils"),e=r("dict"),o=Array.isArray,i="&",t="=",s=function(e){var n,r,s,l,a,u,c,f,d;for(a={},n=e.split(i),f=0,d=n.length;d>f;f++)l=n[f],r=l.indexOf(t),-1!==r?(s=l.slice(0,r),c=l.slice(r+1)):(s=l,c=""),u=a[s],void 0===u?a[s]=c:o(u)?u.push(c):a[s]=[u,c];return a},n.exports=function(t){var n;return n=function(){function t(e){var n,r,i,o,a,u,c,f,d;if(e=e.trim(),l.defineProperty(this,"_uri",null,e),e=t.URI_TRIM_RE.exec(e)[1],t.NAMES_RE.test(e)||-1!==e.indexOf("*")){for(t.NAMES_RE.lastIndex=0,this.params={},a=[];null!=(r=t.NAMES_RE.exec(e));)a.push(r[1]),this.params[r[1]]=null;f=e,f=f.replace(/(\?)/g,"\\$1"),f=f.replace(/{?([a-zA-Z0-9_$]+)?\*}?/g,"(.*?)"),f=f.replace(t.NAMES_RE,"([^/]+)"),f=new RegExp("^/?"+f+"/?$")}else this.params=null,a=null,f=e,f=f.replace(/(\?)/g,"\\$1"),f=new RegExp("^/?"+f+"/?$");if(l.defineProperty(this,"_names",null,a),l.defineProperty(this,"_re",null,f),i=e.lastIndexOf("#"),-1!==i?(this.hash=e.slice(i+1),e=e.slice(0,i)):this.hash="",d=e.indexOf("?"),-1!==d?(c=e.slice(d+1),e=e.slice(0,d),this.query=s(c)):this.query={},u=e.indexOf(":"),-1!==u&&-1===e.slice(0,u).indexOf("/"))for(this.protocol=e.slice(0,u),e=e.slice(u+1);"/"===e[0];)e=e.slice(1);else this.protocol="";n=e.indexOf("@"),-1!==n&&-1===e.slice(0,n).indexOf("/")?(this.auth=e.slice(0,n),e=e.slice(n+1)):this.auth="",o=e.indexOf("/"),-1!==o&&-1!==e.slice(0,o).indexOf(".")?(this.host=e.slice(0,o),e=e.slice(o+1)):this.host="",this.path="/"+e}return t.URI_TRIM_RE=/^\/?(.*?)\/?$/,t.NAMES_RE=/{([a-zA-Z0-9_$]+)\*?}/g,t.prototype.test=function(e){return this._re.test(e)},t.prototype.match=function(e){var t,n,r,i,o,s,l;if(null!=this._names)for(t=this._re.exec(e),l=this._names,n=o=0,s=l.length;s>o;n=++o)r=l[n],i=t[n+1],void 0===i&&(i=null),this.params[r]=decodeURI(i);return this.params},t.prototype.toString=function(n){var r;return null==n||null==this._re?this._uri:(n instanceof e&&(n=n._data),r=0,this._uri.replace(t.NAMES_RE,function(e){return function(){return encodeURI(n[e._names[r++]])}}(this)))},t}()}}.call(this),n.exports}(),t["../networking/handler.coffee.md"]=function(){{var n={exports:t["../networking/handler.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md",schema:"../schema/index.coffee.md"});n.exports}return function(){utils=r("utils"),Schema=r("schema"),parse=JSON.parse,stringify=JSON.stringify,n.exports=function(e){var t;return t=function(){function e(e){null!=e.schema,this.method=e.method,this.uri=e.uri,this.schema=e.schema,this.callback=e.callback}return e.prototype.method="",e.prototype.uri=null,e.prototype.schema=null,e.prototype.callback=null,e.prototype.exec=function(e,t,n){var r,i,o,s,l,a;if(this.method!==e.method)return n();if(!this.uri.test(e.uri.path))return n();if(s=e.params=this.uri.match(e.uri.path),this.schema){a=this.schema.schema;for(o in a)l=a[o],s.hasOwnProperty(o)&&l.type&&"string"!==l.type&&(s[o]=utils.tryFunction(parse,null,[s[o]],s[o]));if(i=utils.catchError(this.schema.validate,this.schema,[s]),i instanceof Error)return n(i)}return r=function(t){return function(t){var r;return e.handler=null,null!=t&&t!==!0&&(r=t,null!=r.stack?r=utils.isQt?""+t.message+"\n"+t.stack:t.stack:utils.isObject(r)&&(r=utils.tryFunction(JSON.stringify,null,[r],r))),r?((t instanceof RangeError||t instanceof TypeError||t instanceof SyntaxError||t instanceof ReferenceError)&&(r="Internal Error; message has been removed"),n(r)):n()}}(this),e.handler=this,utils.tryFunction(this.callback,this,[e,t,r],r),null},e.prototype.toString=function(){return""+this.method+" "+this.uri},e}()}}.call(this),n.exports}(),t["../networking/request.coffee.md"]=function(){{var n={exports:t["../networking/request.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",signal:"../signal/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),e=r("signal"),n.exports=function(n,r){var i;return i=function(r){function i(e){var r;null!=e.uid,null!=e.method,!(e.uri instanceof n.Uri),i.__super__.constructor.call(this),null!=e.type&&(this.type=e.type),t.defineProperty(this,"type",t.ENUMERABLE,this.type),this.data=e.data,this.headers=e.headers,this.cookies=e.cookies,null!=e.method&&(this.method=e.method),this.headers||(this.headers={}),this.cookies||(this.cookies={}),this.uri="string"==typeof e.uri?new n.Uri(e.uri):e.uri,r=e.uid||t.uid(),t.defineProperty(this,"uid",null,r),this.pending=!0,this.params=null,e.onLoadEnd&&this.onLoadEnd(e.onLoadEnd)}return o(i,r),i.METHODS=[i.GET="get",i.POST="post",i.PUT="put",i.DELETE="delete",i.OPTIONS="options"],i.TYPES=[i.TEXT_TYPE="text",i.JSON_TYPE="json",i.HTML_TYPE="html",i.BINARY_TYPE="binary"],e.Emitter.createSignal(i,"onLoadEnd"),i.prototype.uid="",i.prototype.pending=!1,i.prototype.method=i.GET,i.prototype.uri=null,i.prototype.type=i.JSON_TYPE,i.prototype.data=null,i.prototype.handler=null,i.prototype.response=null,i.prototype.params=null,i.prototype.headers=null,i.prototype.cookies=null,i.prototype.toString=function(){return""+this.method+" "+this.uri+" as "+this.type},i.prototype.destroy=function(){var e;this.pending=!1,e=this.response,e.isSucceed()?this.onLoadEnd.emit(null,e.data):this.onLoadEnd.emit(e.data||e.status||"Unknown error")},i}(e.Emitter)}}.call(this),n.exports}(),t["../networking/response.coffee.md"]=function(){{var n={exports:t["../networking/response.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md","./response/error.coffee.md":"../networking/response/error.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),n.exports=function(e,t){var n;return n=function(n){function i(e){i.__super__.constructor.call(this),null!=e.status&&(this.status=e.status),null!=e.data&&(this.data=e.data),null!=e.encoding&&(this.encoding=e.encoding),this.headers=e.headers||{},this.cookies=e.cookies||{},utils.defineProperty(this,"request",null,e.request),this.pending=!0,e.onSend&&this.onSend(e.onSend),null!=e.status&&this.send()}return __extends(i,n),i.STATUSES=[i.OK=200,i.CREATED=201,i.ACCEPTED=202,i.NO_CONTENT=204,i.MOVED=301,i.FOUND=302,i.NOT_MODIFIED=304,i.TEMPORARY_REDIRECT=307,i.BAD_REQUEST=400,i.UNAUTHORIZED=401,i.PAYMENT_REQUIRED=402,i.FORBIDDEN=403,i.NOT_FOUND=404,i.METHOD_NOT_ALLOWED=405,i.NOT_ACCEPTABLE=406,i.CONFLICT=409,i.PRECONDITION_FAILED=412,i.UNSUPPORTED_MEDIA_TYPE=415,i.INTERNAL_SERVER_ERROR=500,i.NOT_IMPLEMENTED=501,i.SERVICE_UNAVAILABLE=503],i.Error=r("./response/error.coffee.md")(e,i),signal.Emitter.createSignal(i,"onSend"),i.prototype.pending=!1,i.prototype.request=null,i.prototype.status=i.OK,i.prototype.data=null,i.prototype.headers=null,i.prototype.cookies=null,i.prototype.encoding="utf-8",i.prototype.setHeader=function(e,n){return t.setHeader(this,e,n),this},i.prototype.send=function(e,n){null==n&&"number"!=typeof e&&(n=e,e=this.status),null!=e&&(this.status=e),void 0!==n&&(this.data=n),this.request.destroy(),n=this.data,t.send(this,n,function(e){return function(){return e.pending=!1,e.onSend.emit()}}(this))},i.prototype.redirect=function(e,n){return void 0===n&&(n=e,e=i.FOUND),this.status=e,this.setHeader("Location",n),this.request.destroy(),t.redirect(this,e,n,function(e){return function(){return e.pending=!1,e.onSend.emit()}}(this))},i.prototype.raise=function(e){return e instanceof i.Error||isFinite(null!=e?e.status:void 0)?this.send(e.status,e):this.send(i.INTERNAL_SERVER_ERROR,e)},i.prototype.isSucceed=function(){var e;return 300>(e=this.status)&&e>=200},i}(signal.Emitter)}}.call(this),n.exports}(),t["../networking/response/error.coffee.md"]=function(){{var n={exports:t["../networking/response/error.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e,t,i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=r("utils"),n.exports=function(t,n){var r;return r=function(r){function i(e,t){return null==t&&(t=""),this instanceof i?("string"==typeof e?(t=e,e=this.status):void 0===e&&(e=this.status,t=this.message),this.status=e,void(this.message=t)):new i(e,t)}return o(i,r),i.RequestResolve=e(t,n,i),i.prototype.status=n.INTERNAL_SERVER_ERROR,i.prototype.name="ResponseError",i.prototype.message="",i}(Error)},e=function(t,n,r){return e=function(e){function t(e){return t.__super__.constructor.call(this,"No handler can be found")}return o(t,e),t.prototype.status=n.BAD_REQUEST,t.prototype.name="RequestResolveResponseError",t}(r)}}.call(this),n.exports}(),t["../networking/index.coffee.md"]=function(){{var n={exports:t["../networking/index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md",list:"../list/index.coffee.md","./impl":"../networking/impl.coffee","./uri.coffee.md":"../networking/uri.coffee.md","./handler.coffee.md":"../networking/handler.coffee.md","./request.coffee.md":"../networking/request.coffee.md","./response.coffee.md":"../networking/response.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),List=r("list"),n.exports=Networking=function(e){function t(e){var n;utils.defineProperty(this,"_handlers",utils.CONFIGURABLE,{}),this.type=e.type,this.protocol=e.protocol,this.port=e.port,this.host=e.host,this.language=e.language,this.pendingRequests=new List,null!=e.url?(n=e.url,"/"===n[n.length-1]&&(n=n.slice(0,-1))):n=""+this.protocol+"://"+this.host+":"+this.port,utils.defineProperty(this,"url",utils.ENUMERABLE,n),setImmediate(function(e){return function(){return i.init(e)}}(this)),t.__super__.constructor.call(this)}var n,i;return __extends(t,e),i=r("./impl")(t),t.Uri=r("./uri.coffee.md")(t),t.Handler=r("./handler.coffee.md")(t),t.Request=r("./request.coffee.md")(t,i.Request),t.Response=r("./response.coffee.md")(t,i.Response),t.TYPES=[t.HTTP="http"],t.prototype.type=t.HTTP,signal.Emitter.createSignal(t,"onRequest"),t.prototype.protocol="",t.prototype.port=0,t.prototype.host="",t.prototype.url="",t.prototype.language="",t.prototype.createHandler=function(e){var n,r,i,o,s;return i=e.uri,i instanceof t.Uri||(i=new t.Uri(i)),n=new t.Handler({method:e.method,uri:i,schema:e.schema,callback:e.callback}),r=null!=(o=this._handlers)[s=e.method]?o[s]:o[s]=[],r.push(n),n},t.prototype.createRequest=function(e){var r,o,s,l;return e.uri=e.uri?e.uri+"":"",n.test(e.uri)||("/"!==e.uri[0]&&(e.uri="/"+e.uri),e.uri=""+this.url+e.uri),o=new t.Request(e),r=!0,o.onLoadEnd(function(e){return function(){return e.pendingRequests.remove(o),!0}}(this)),l=utils.isObject(e.response)?e.response:{},l.request=o,s=new t.Response(l),o.response=s,this.pendingRequests.append(o),this.onRequest.emit(o,s),i.sendRequest(o,s,function(e){return utils.merge(s,e),s.pending=!1,o.destroy()}),o},t.prototype.get=function(e,t){return this.createRequest({method:"get",uri:e,onLoadEnd:t})},t.prototype.post=function(e,t,n){return"function"!=typeof t||n||(n=t,t=null),this.createRequest({method:"post",uri:e,data:t,onLoadEnd:n})},t.prototype.put=function(e,t,n){return"function"!=typeof t||n||(n=t,t=null),this.createRequest({method:"put",uri:e,data:t,onLoadEnd:n})},t.prototype.delete=function(e,t){var n;return"function"!=typeof n||t||(t=n,n=null),this.createRequest({method:"delete",uri:e,data:n,onLoadEnd:t})},n=/^[a-zA-Z]+:\/\//,t.prototype.createLocalRequest=function(e){var n,r,i,o,s,l,a;return s=new t.Request(e),s.onLoadEnd(function(e){return function(){return e.pendingRequests.remove(s)}}(this)),a=utils.isObject(e.response)?e.response:{},a.request=s,l=new t.Response(a),s.response=l,this.pendingRequests.append(s),this.onRequest.emit(s,l),o=function(e){return s.pending?l.raise(!e||"object"!=typeof e&&"string"!=typeof e&&"number"!=typeof e?t.Response.Error.RequestResolve(s):e):void 0},i=function(){return o()},r=this._handlers[s.method],r?(n=null,utils.async.forEach(r,function(e,t,r,i){return e.exec(s,l,function(e){return null!=e&&(n=e),i()})},function(){return n?o(n):i()})):i(),s},t}(signal.Emitter)}.call(this),n.exports}(),t["route.coffee.md"]=function(){{var n={exports:t["route.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md",schema:"../schema/index.coffee.md",networking:"../networking/index.coffee.md",document:"../document/index.coffee.md",dict:"../dict/index.coffee.md"});n.exports}return function(){utils=r("utils"),Schema=r("schema"),Networking=r("networking"),Document=r("document"),Dict=r("dict"),n.exports=function(e){var t;return t=function(){function t(t,n,i){var o,s,u;utils.isObject(t)?i=t:utils.isObject(n)?i=n:utils.isObject(i)||(i={}),"string"==typeof t&&"string"!=typeof n?i.uri=t:"string"==typeof t&&"string"==typeof n&&(null==i.method&&(i.method=t),null==i.uri&&(i.uri=n)),"function"==typeof n&&null==i.getData&&(i.getData=n),i=utils.clone(i),"string"==typeof i.uri&&(s=i.uri.indexOf(" "),-1!==s&&(null==i.method&&(i.method=i.uri.slice(0,s)),i.uri=i.uri.slice(s+1)),i.uri=new Networking.Uri(i.uri)),null==i.method&&(i.method="get"),i.method=i.method.toLowerCase(),null!=i.schema&&utils.isPlainObject(i.schema)&&(i.schema=new Schema(i.schema)),null!=i.redirect&&"string"==typeof i.redirect&&(i.redirect=new Networking.Uri(i.redirect)),utils.isObject(i.toHTML)&&(i.toHTML=r(i.toHTML));for(o in i)u=i[o],this[o]=u;this.__id__=utils.uid(),this.app=e,this.name||(this.name=l(this)),e.networking.createHandler({method:this.method,uri:this.uri,schema:this.schema,callback:utils.bindFunctionContext(a,this)})}var n,r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y;return utils.isNode?y=[]:g=Object.create(null),u=null,l=function(e){var t;for(t=e.uri._uri,t=t.replace(Networking.Uri.NAMES_RE,""),t=t.replace(/\*/g,"");-1!==t.indexOf("//");)t=t.replace(/\/\//g,"/");return t=t.replace(/^\//,""),t=t.replace(/\/$/,"")},_=Object.create(null),f=Object.create(null),o=function(){var e;return e=function(e){var t;return t=Object.create(e),t.__hash__=utils.uid(),"function"==typeof t.factory&&t.factory(),t},function(t){var n,r;return n=t.__id__,null==_[n]&&(_[n]=[]),r=_[n].pop()||e(t),r=Object.create(r),r.request=r.response=null,r.route=r,r._dataPrepared=!1,r._destroyViewOnEnd=!1,r}}(),i=function(e){if(u===e&&(u=null),e.response.onSend.disconnect(c,e),f[e.__hash__]=!1,"function"==typeof e.destroy&&e.destroy(),e._dataPrepared)switch(e.request.type){case"text":"function"==typeof e.destroyText&&e.destroyText();break;case"json":"function"==typeof e.destroyJSON&&e.destroyJSON();break;case"html":"function"==typeof e.destroyHTML&&e.destroyHTML()}return e._destroyViewOnEnd&&e.response.data.destroy(),_[e.__id__].push(Object.getPrototypeOf(e))},m=function(e){var t,n;try{if(t=e.getData(),null!=t)return e.data=t}catch(r){return n=r,200===e.response.status&&(e.response.status=500),e.error=n}},h=function(e,t,n){if(null!=t){if(200===e.response.status&&(e.response.status=500),e._dataPrepared&&e.error===t)return!1;console.error(t),e.error=t}else{if(e._dataPrepared&&e.data===n)return!1;e.data=n}return!0},d=function(e){var t,n,r;switch(r=e.response,n=r.data,e.request.type){case"text":t=e.toText();break;case"json":t=e.toJSON();break;case"html":t=e.toHTML(),n instanceof Document&&e._destroyViewOnEnd&&(n.destroy(),r.data=null),t instanceof Document||r.data!==n||(t=p.call(e,t))}return e._dataPrepared=!0,null!=t?r.data=t:r.data===n?r.data="":void 0},c=function(){(utils.isNode||"html"!==this.request.type)&&(i(this),utils.isNode&&utils.has(y,this.response.data)&&(this.response.data.destroy(),utils.remove(y,this.response.data)))},s=function(e){e.response.pending&&e.response.send()},n=function(e,t){return f[e.__hash__]?!1:(e.response.pending&&t(),!0)},a=function(e,t,r){var l,a,p,_,g;if(g=o(this),p=g.__hash__,utils.isClient&&(u&&i(u),u=g),g.request=e,g.response=t,f[p]=!0,t.onSend(c,g),"function"==typeof g.init&&g.init(),!f[p])return r();if(_=g.redirect,"function"==typeof _&&(_=g.redirect(),!f[p]))return r();if("string"==typeof _&&(_=new Networking.Uri(_)),_ instanceof Networking.Uri)return void t.redirect(_.toString(e.params));if(a=g.getData,l=!1,"function"==typeof a)if(1===a.length)g.getData(function(e,t){return l=!0,n(g,r)||!h(g,e,t)||(d(g),n(g,r))?void 0:s(g)});else{if(m(g),n(g,r))return;if(d(g),n(g,r))return;s(g)}else{if(d(g),n(g,r))return;s(g)}!l&&n(g,r)},t.prototype.next=function(){return i(this)},t.prototype.toJSON=function(){var e,t;return this.response.status<400?(null!=(t=this.data)&&"function"==typeof t.toJSON?t.toJSON():void 0)||this.data:("function"==typeof(e=this.error).toJSON?e.toJSON():void 0)||this.error},t.prototype.toText=function(){return this.response.status<400?this.data+"":this.error+""},p=function(n){var r,i,o,s,l,a,u,c;return c=(null!=n?n.view:void 0)||this.name||"index",s=(null!=n?n.template:void 0)||"template",a=(null!=n?n.use:void 0)||"body",r=!0,c!==s&&(o=e.views[s])&&(l=t.prototype.getTemplateView.call(this,s),l.use(a,null)),(u=e.views[c])&&(i=u.render(this)),l?(i=null!=i?l.use(a,i):l,l.storage.routes.has(a)&&l.storage.routes.pop(a),l.storage.routes.set(a,this),this._destroyViewOnEnd=!1):this._destroyViewOnEnd=!0,i},r=function(e){return function(){return p.call(this,e)}},t.prototype.toHTML=r({view:"",template:"",use:""}),t.prototype.getTemplateView=function(){return utils.isNode?function(t){var n;return n=e.views[t].render({app:e,routes:new Dict}),y.push(n),n}:function(t){return null!=g[t]?g[t]:g[t]=e.views[t].render({app:e,routes:new Dict})}}(),t}()}}.call(this),n.exports}(),t["package.json"]=function(){{var n={exports:t["package.json"]};e.bind(null,{}),n.exports}return n.exports={"private":!0,name:"app",version:"0.8.23",description:"Neft.io main application",license:"Apache 2.0",homepage:"http://neft.io",repository:{type:"git",url:"https://github.com/Neft-io/app.git"},bugs:"https://github.com/Neft-io/app/issues",config:{title:"Neft.io Application",protocol:"http",port:3e3,host:"localhost",language:"en",type:"app"}},n.exports}(),t["../native/actions.coffee"]=function(){var n={exports:t["../native/actions.coffee"]},r=(e.bind(null,{}),n.exports);return function(){r.in=function(e){return{EVENT:e++,SCREEN_SIZE:e++,SCREEN_ORIENTATION:e++,NAVIGATOR_LANGUAGE:e++,NAVIGATOR_ONLINE:e++,DEVICE_PIXEL_RATIO:e++,DEVICE_IS_PHONE:e++,POINTER_PRESS:e++,POINTER_RELEASE:e++,POINTER_MOVE:e++,DEVICE_KEYBOARD_SHOW:e++,DEVICE_KEYBOARD_HIDE:e++,KEY_PRESS:e++,KEY_HOLD:e++,KEY_INPUT:e++,KEY_RELEASE:e++,IMAGE_SIZE:e++,TEXT_SIZE:e++,FONT_LOAD:e++,SCROLLABLE_CONTENT_X:e++,SCROLLABLE_CONTENT_Y:e++,TEXT_INPUT_TEXT:e++}}(0),r.out=function(e){return{CALL_FUNCTION:e++,DEVICE_SHOW_KEYBOARD:e++,DEVICE_HIDE_KEYBOARD:e++,SET_WINDOW:e++,CREATE_ITEM:e++,SET_ITEM_PARENT:e++,INSERT_ITEM_BEFORE:e++,SET_ITEM_VISIBLE:e++,SET_ITEM_CLIP:e++,SET_ITEM_WIDTH:e++,SET_ITEM_HEIGHT:e++,SET_ITEM_X:e++,SET_ITEM_Y:e++,SET_ITEM_Z:e++,SET_ITEM_SCALE:e++,SET_ITEM_ROTATION:e++,SET_ITEM_OPACITY:e++,SET_ITEM_BACKGROUND:e++,SET_ITEM_KEYS_FOCUS:e++,CREATE_IMAGE:e++,SET_IMAGE_SOURCE:e++,SET_IMAGE_SOURCE_WIDTH:e++,SET_IMAGE_SOURCE_HEIGHT:e++,SET_IMAGE_FILL_MODE:e++,SET_IMAGE_OFFSET_X:e++,SET_IMAGE_OFFSET_Y:e++,CREATE_TEXT:e++,SET_TEXT:e++,SET_TEXT_WRAP:e++,UPDATE_TEXT_CONTENT_SIZE:e++,SET_TEXT_COLOR:e++,SET_TEXT_LINE_HEIGHT:e++,SET_TEXT_FONT_FAMILY:e++,SET_TEXT_FONT_PIXEL_SIZE:e++,SET_TEXT_FONT_WORD_SPACING:e++,SET_TEXT_FONT_LETTER_SPACING:e++,SET_TEXT_ALIGNMENT_HORIZONTAL:e++,SET_TEXT_ALIGNMENT_VERTICAL:e++,CREATE_TEXT_INPUT:e++,SET_TEXT_INPUT_TEXT:e++,SET_TEXT_INPUT_COLOR:e++,SET_TEXT_INPUT_LINE_HEIGHT:e++,SET_TEXT_INPUT_MULTI_LINE:e++,SET_TEXT_INPUT_ECHO_MODE:e++,SET_TEXT_INPUT_FONT_FAMILY:e++,SET_TEXT_FONT_INPUT_PIXEL_SIZE:e++,SET_TEXT_FONT_INPUT_WORD_SPACING:e++,SET_TEXT_FONT_INPUT_LETTER_SPACING:e++,SET_TEXT_INPUT_ALIGNMENT_HORIZONTAL:e++,SET_TEXT_INPUT_ALIGNMENT_VERTICAL:e++,LOAD_FONT:e++,CREATE_RECTANGLE:e++,SET_RECTANGLE_COLOR:e++,SET_RECTANGLE_RADIUS:e++,SET_RECTANGLE_BORDER_COLOR:e++,SET_RECTANGLE_BORDER_WIDTH:e++,CREATE_SCROLLABLE:e++,SET_SCROLLABLE_CONTENT_ITEM:e++,SET_SCROLLABLE_CONTENT_X:e++,SET_SCROLLABLE_CONTENT_Y:e++,ACTIVATE_SCROLLABLE:e++}}(0)}.call(this),n.exports}(),t["../native/bridge.coffee"]=function(){var n={exports:t["../native/bridge.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"}),i=n.exports;return function(){utils=r("utils"),listeners=Object.create(null),reader={booleans:null,booleansIndex:0,integers:null,integersIndex:0,floats:null,floatsIndex:0,strings:null,stringsIndex:0,getBoolean:function(){return this.booleans[this.booleansIndex++]},getInteger:function(){return this.integers[this.integersIndex++]},getFloat:function(){return this.floats[this.floatsIndex++]},getString:function(){return this.strings[this.stringsIndex++]}},i.onData=function(e,t,n,r,o){var s,l,a,u;for(reader.booleans=t,reader.booleansIndex=0,reader.integers=n,reader.integersIndex=0,reader.floats=r,reader.floatsIndex=0,reader.strings=o,reader.stringsIndex=0,a=0,u=e.length;u>a;a++)s=e[a],(l=listeners[s])(reader);i.sendData()},i.addActionListener=function(e,t){listeners[e]=t},i.sendData=function(){},i.pushAction=function(e){},i.pushBoolean=function(e){},i.pushInteger=function(e){},i.pushFloat=function(e){},i.pushString=function(e){},impl=function(){switch(!0){case utils.isAndroid:return r("./impl/android/bridge");case utils.isIOS:return r("./impl/ios/bridge")}}(),null!=impl&&utils.merge(i,impl(i))}.call(this),n.exports}(),t["../native/index.coffee.md"]=function(){var n={exports:t["../native/index.coffee.md"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",log:"../log/index.coffee.md","./actions":"../native/actions.coffee","./bridge":"../native/bridge.coffee"}),o=n.exports;return function(){actions=r("./actions"),bridge=r("./bridge"),_ref=actions.out,CALL_FUNCTION=_ref.CALL_FUNCTION,CALL_FUNCTION_WITH_CALLBACK=_ref.CALL_FUNCTION_WITH_CALLBACK,i=0,EVENT_NULL_TYPE=i++,EVENT_BOOLEAN_TYPE=i++,EVENT_FLOAT_TYPE=i++,EVENT_STRING_TYPE=i++,listeners=Object.create(null),bridge.addActionListener(actions.in.EVENT,function(e){return function(t){var n,r,o,s,l,a,u;for(s=t.getString(),n=t.getInteger(),i=l=0;n>l;i=l+=1)switch(t.getInteger()){case EVENT_NULL_TYPE:e[i]=null;break;case EVENT_BOOLEAN_TYPE:e[i]=t.getBoolean();break;case EVENT_FLOAT_TYPE:e[i]=t.getFloat();break;case EVENT_STRING_TYPE:e[i]=t.getString()}if(r=listeners[s])for(a=0,u=r.length;u>a;a++)o=r[a],o.apply(null,e)}}([])),pushPending=!1,sendData=function(){pushPending=!1,bridge.sendData()},o.callFunction=function(e,t,n,r){var o,s,l;for(bridge.pushAction(CALL_FUNCTION),bridge.pushString(e),s=arguments.length-1,bridge.pushInteger(s),i=l=0;s>=0?s>l:l>s;i=s>=0?++l:--l)switch(o=arguments[i+1],typeof o){case"boolean":bridge.pushInteger(EVENT_BOOLEAN_TYPE),bridge.pushBoolean(o);break;case"number":bridge.pushInteger(EVENT_FLOAT_TYPE),bridge.pushFloat(o);break;case"string":bridge.pushInteger(EVENT_STRING_TYPE),bridge.pushString(o);break;default:bridge.pushInteger(EVENT_NULL_TYPE)}pushPending||(pushPending=!0,setImmediate(sendData))},o.on=function(e,t){var n;n=null!=listeners[e]?listeners[e]:listeners[e]=[],n.push(t)}}.call(this),n.exports}(),t["../styles/file/styles.coffee"]=function(){{var n={exports:t["../styles/file/styles.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md"});n.exports}return function(){var e;e=r("utils"),n.exports=function(t){var n,r;return n=function(){var t,n,r,i;return t=!1,n=[],r=function(e){var t,n,i,o,s;for(n=0,o=e.length;o>n;n++)t=e[n],t.render();for(i=0,s=e.length;s>i;i++)t=e[i],r(t.children)},i=function(){var i,o,s,l;for(t=!1,o=n.length,s=0,l=n.length;l>s;s++)i=n[s],r(i);e.clear(n)},function(e){n.push(e),t||(setImmediate(i),t=!0)}}(),t.onBeforeRender(function(e){n(e.styles)}),r=function(e){var t,n,i,o,s;for(n=0,o=e.length;o>n;n++)t=e[n],t.revert();for(i=0,s=e.length;s>i;i++)t=e[i],r(t.children)},t.onBeforeRevert(function(e){r(e.styles)}),t.prototype._clone=function(e){return function(){var t,n,r,i,o,s;for(t=e.call(this),s=this.styles,n=i=0,o=s.length;o>i;n=++i)r=s[n],t.styles.push(r.clone(this,t));return t}}(t.prototype._clone)}}.call(this),n.exports}(),t["../styles/style.coffee"]=function(){{var n={exports:t["../styles/style.coffee"]},r=e.bind(null,{"/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",utils:"../utils/index.coffee.md",signal:"../signal/index.coffee.md",log:"../log/index.coffee.md",renderer:"../renderer/index.coffee.md"});n.exports}return function(){utils=r("utils"),signal=r("signal"),Renderer=r("renderer"),n.exports=function(e,t){var n;return n=function(){function n(){this.file=null,this.node=null,this.attrs=null,this.parent=null,this.isScope=!1,this.isAutoParent=!0,this.item=null,this.scope=null,this.children=[],this.textWatchingNodes=[],this.isTextSet=!1,this.baseText="",this.isLinkUriSet=!1,this.baseLinkUri="",this.parentSet=!1,this.lastItemParent=null,this.waiting=!1,this.attrsQueue=[],this.attrsClass=null,this.isRendered=!1}var r,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b,S,w,E,I,O,P,A;return A=t.windowStyle,w=t.styles,x=t.queries,a=e.Element.Tag,n.__name__="Style",n.__path__="File.Style",s=n.JSON_CTOR_ID=e.JSON_CTORS.push(n)-1,g=1,l=g++,i=g++,o=g++,r=n.JSON_ARGS_LENGTH=g,n.extendDocumentByStyles=function(){var t,r;return r=function(e){var t,n;n=null;for(t in e._attrs)("class"===t||"style:"===t.slice(0,6))&&(null==n&&(n={}),n[t]=!0);return n},t=function(i,o,s){var l,a,u,c,f,d;for((l=o.getAttr("neft:style"))&&(u=new n,u.file=i,u.node=o,u.parent=s,u.attrs=r(o),s?s.children.push(u):i.styles.push(u),s=u),d=o.children,c=0,f=d.length;f>c;c++)a=d[c],a instanceof e.Element.Tag&&t(i,a,s)},function(e){var n,r,i,o,s,l,a;for(o=0,l=x.length;l>o;o++)for(n=x[o],i=e.node.queryAll(n.query),s=0,a=i.length;a>s;s++)r=i[s],r.hasAttr("neft:style")||r.setAttr("neft:style",n.style);return t(e,e.node,null),e}}(),n._fromJSON=function(e,t,r){var s,a,u,c,f;for(r||(r=new n),r.file=e,r.node=e.node.getChildByAccessPath(t[l]),r.attrs=t[i],f=t[o],u=0,c=f.length;c>u;u++)s=f[u],a=n._fromJSON(e,s),a.parent=r,r.children.push(a);return r},c=new Renderer.Component,y=function(e,t){var n,r,i,o;if(null==t&&(t=e.node),e.textWatchingNodes.push(t),"onTextChange"in t&&t.onTextChange(O,e),"onChildrenChange"in t&&t.onChildrenChange(O,e),"onVisibleChange"in t&&t.onVisibleChange(O,e),t.children)for(o=t.children,r=0,i=o.length;i>r;r++)n=o[r],y(e,n)},O=function(){return this.file.isRendered?this.updateText():void 0},u=function(e,t){var n,r;"href"===e&&this.isLink()&&null!=(n=this.item)&&(n.linkUri=this.getLinkUri()),(null!=(r=this.attrs)?r[e]:void 0)&&this.setAttr(e,this.node._attrs[e],t)},S=new Renderer.Item.Document.ShowEvent,_=new Renderer.Item.Document.HideEvent,m=h=0,E=[],I=[],P=function(){var e,t,n;return t=!1,e=0,n=function(){var r,i,o,s,l,a,u,c,f,d,p,_,g,y,v,x,b;for(l=Date.now(),i=l-e,e=l,r=!1,u=0,p=I.length;p>u;u++){for(a=I[u],b=a.item._extensions,c=0,_=b.length;_>c;c++)if(o=b[c],o instanceof Renderer.PropertyAnimation&&o.running&&!o.loop){r=!0;break}if(r)break}if(m-=i,h>0&&!r&&(h-=i),!r){if(0>=h&&(h=0,I.length>0)){for(s=!0,f=0,g=I.length;g>f;f++)a=I[f],a.waiting=!1,a.revertItem(),a.file.readyToUse=!0;utils.clear(I)}if(0>=m+h&&(m=0,E.length>0)){for(s=!0,d=0,y=E.length;y>d;d++)a=E[d],a.waiting=!1,a.renderItem(),a.file.readyToUse=!0;for(x=0,v=E.length;v>x;x++)a=E[x],a.findItemIndex();utils.clear(E)}}E.length||I.length?requestAnimationFrame(n):t=!1},function(r){t||(e=Date.now(),setImmediate(n),t=!0),r.waiting=!0}}(),n.prototype.render=function(){this.waiting||(!this.isAutoParent||this.getVisibility())&&(this.item||this.reloadItem(),this.item&&(this.isRendered=!0,this.isScope&&(this.item.document.onShow.emit(S),m+=S.delay,S.delay=0),this.item.document.visible=!1,this.file.readyToUse=!1,E.push(this),P(this)))},n.prototype.renderItem=function(){var e,t,n,r,i;if(this.item&&this.file.isRendered){if(this.item.visible=!0,this.lastItemParent&&(this.item.parent=this.lastItemParent),this.findItemParent(),this.item.document.node=this.node,this.baseText=(null!=(i=this.getTextObject())?i.text:void 0)||"",this.updateText(),this.updateVisibility(),this.attrs){if((t=this.attrsQueue).length){for(g=n=0,r=t.length;r>n;g=n+=3)e=t[g],this.setAttr(e,t[g+1],t[g+2]);utils.clear(t)}this.attrsClass.enable()}this.item.document.visible=!0}},n.prototype.revert=function(){!this.waiting&&this.isRendered&&(this.isRendered=!1,this.isAutoParent&&this.isScope&&(this.item.document.onHide.emit(_),h+=_.delay,m+=_.nextShowDelay,_.delay=0,_.nextShowDelay=0),this.item.document.visible=!1,this.file.readyToUse=!1,I.push(this),P(this))},n.prototype.revertItem=function(){var e;this.item&&(this.item.visible=!1,this.isAutoParent&&(this.lastItemParent=null,this.parentSet||(this.lastItemParent=this.item.parent),this.item.parent=null,this.parentSet=!1),e=this.item.document.node,this.item.document.node=null,this.item.document.visible=!0,this.isLinkUriSet&&(this.item.linkUri=this.baseLinkUri,this.isLinkUriSet=!1,this.baseLinkUri=""),this.isTextSet&&(this.getTextObject().text=this.baseText,this.isTextSet=!1,this.baseText=""))},n.prototype.getTextObject=function(){var e;return(e=this.item)?e._$&&"text"in e._$?e._$:"text"in e?e:void 0:void 0},n.prototype.updateText=function(){var e,t,n,r,i,o;this.waiting||(r=this.node,t=this.children.length||r.query("[neft:style]"),!t&&(e=r.query("> a"))&&(r=e,n=r.getAttr("href"),"string"==typeof n&&(this.isLinkUriSet||(this.isLinkUriSet=!0,this.baseLinkUri=this.item.linkUri),this.item.linkUri=n)),i=this.getTextObject(),i&&!t&&(o=r.stringifyChildren(),(o.length>0||this.isTextSet)&&(this.isTextSet=!0,i.text=o)))},n.prototype.getVisibility=function(){var e,t;for(t=!0,e=this.node;;)if(t=e._visible,e=e._parent,!t||!e||e._style)break;return t},n.prototype.updateVisibility=function(){var e;this.waiting||(e=this.getVisibility(),e&&!this.isRendered&&this.file.isRendered&&this.render(),this.item&&(this.item.visible=e))},n.prototype.setAttr=function(){var e,t,n,r;return e="style:".length,r=function(){var t;return t=Object.create(null),function(n){return t[n]||(t[n]=n.slice(e).split(":"))}}(),n=function(){var t;return t=Object.create(null),function(n){return t[n]||(t[n]=n.slice(e).replace(/:/g,"."))}}(),t=function(){var e;return e=Object.create(null),function(t){return e[t]||(e[t]="_"+t)}}(),function(e,i,o){var s,l,a,u,c,f;if(this.waiting||!this.item)return void this.attrsQueue.push(e,i,o);if("class"===e)return this.syncClassAttr(i,o),!0;for(u=r(e),l=this.item,g=c=0,f=u.length-1;f>c;g=c+=1)if(!(l=l[u[g]]))return!1;return a=utils.last(u),a in l?(s=t(a),void 0===l[s]&&"function"==typeof l[a]&&l[a].connect?("function"==typeof o&&l[a].disconnect(o),"function"==typeof i&&l[a](i)):this.node._attrs[e]===i&&i!==o&&(this.attrsClass.changes.setAttribute(n(e),i),l[a]=i),!0):!1}}(),n.prototype.syncClassAttr=function(e,t){var n,r,i,o,s,l,a,u,c,f,d;if(i=this.item,n=i.classes,s=e&&e.split(" "),t&&"string"==typeof t)for(l=t.split(" "),u=0,f=l.length;f>u;u++)o=l[u],s&&utils.has(s,o)||n.remove(o);
if(e&&"string"==typeof e)for(s=e.split(" "),a=-1,g=c=0,d=s.length;d>c;g=++c)o=s[g],r=n.index(o),-1===a&&-1===r?(r=n.length,n.append(o)):r!==a+1&&(-1!==r&&(n.pop(r),a>r&&a--),r=a+1,n.insert(r,o)),a=r},n.prototype.isLink=function(){var e;return"a"===this.node.name&&null!=this.node.getAttr("href")&&"#"!==(null!=(e=this.node.getAttr("href"))?e[0]:void 0)},n.prototype.getLinkUri=function(){var e;return e=this.node.getAttr("href")+""},n.prototype.reloadItem=function(){var e,t,n,r,i,o,s,l,a,u;if(!this.waiting&&utils.isClient){if(t=this.node.getAttr("neft:style"),this.isScope=/^(styles|renderer)\:/.test(t),this.item=null,this.scope=null,this.isAutoParent=!1,t instanceof Renderer.Item)this.item=t;else if(this.isScope&&(this.isAutoParent=!0,/^styles\:/.test(t)))if(n=/^styles:(.+?)(?:\:(.+?))?(?:\:(.+?))?$/.exec(t),l=n[0],e=n[1],o=n[2],s=n[3],null==o&&(o="_main"),s){for(i="styles:"+e+":"+o,r=this.parent;;){if(r&&r.node.getAttr("neft:style")===i){if(!r.scope)return;this.item=r.scope.objects[s]}else(null!=r?r.scope:void 0)||"view"!==e||(this.item=A.objects[s]);if(this.item||(!r||!(r=r.parent))&&scope===A)break}if(!this.item)return;this.isAutoParent=!this.item.parent}else{if(this.scope=null!=(a=w[e])&&null!=(u=a[o])?u.getComponent():void 0,!this.scope)return;this.item=this.scope.item}this.node.style=this.item,this.item&&(this.item.visible=!1,this.isLink()&&(this.item.linkUri=this.getLinkUri()),this.attrs&&(this.attrsClass.target=this.item)),this.getTextObject()&&y(this)}},d=function(e,t){var n,r;for(n=e;n&&(r=n._parent);){if(r===t)return n;n=r}},f=function(e,t,n){var r,i,o,s,l,u,c;for(r=e,n=(null!=(l=n._children)?l._target:void 0)||n,o=r;r;){for(;o;){if(o!==e&&o instanceof a)if((null!=(u=o._documentStyle)?u.parentSet:void 0)&&(i=o._documentStyle.item)){if(s=d(i,n))return void(t!==s&&t.previousSibling!==s&&(t.previousSibling=s))}else if(!o._documentStyle){r=o,o=utils.last(r.children);continue}o=o._previousSibling}if(r!==e&&r.style)return;if((r=r._parent)&&(o=r._previousSibling,(null!=(c=r._documentStyle)?c.item:void 0)===n))return}},n.prototype.findItemParent=function(){var e,t,n,r;if(!this.waiting&&this.isAutoParent&&this.item&&!this.item.parent){for(t=this.node,r=t._parent;r;){if((n=r._documentStyle)&&(e=n.item,n.node!==r&&(e=e._parent),e)){this.parentSet=!0,this.item.parent=e;break}r=r._parent}e||(this.item.parent=null)}},n.prototype.findItemIndex=function(){return this.parentSet?(f.call(this,this.node,this.item,this.item.parent),!0):!1},n.prototype.clone=function(e,t){var r,i,o,s,l,a,f,d;for(s=new n,s.file=t,s.node=e.node.getCopiedElement(this.node,t.node),s.attrs=this.attrs,s.node._documentStyle=s,l=s.node._attrs["neft:style"],s.isAutoParent=!/^styles:(.+?)\:(.+?)\:(.+?)$/.test(l),this.attrs&&(s.attrsClass=Renderer.Class.New(c),s.attrsClass.priority=9999),d=this.children,a=0,f=d.length;f>a;a++)o=d[a],o=o.clone(e,t),o.parent=s,s.children.push(o);if(!utils.isClient)return s;if(s.node.onAttrsChange(u,s),this.attrs)for(r in this.attrs)i=s.node._attrs[r],null!=i&&s.setAttr(r,i,null);return s},n.prototype.toJSON=function(){var e;return e=function(e){return e.toJSON()},function(t,n){return n||(n=new Array(r),n[0]=s),n[l]=this.node.getAccessPath(this.file.node),n[i]=this.attrs,n[o]=this.children.map(e),n}}(),a=e.Element.Tag,v=utils.CONFIGURABLE,p=utils.lookupGetter(a.prototype,"visible"),b=utils.lookupSetter(a.prototype,"visible"),utils.defineProperty(a.prototype,"visible",v,p,function(e){var t;return t=function(e){var n,r,i,o,s,l;if(!((i=e._documentStyle)&&(r=!!i.item,i.updateVisibility(),r&&i.isAutoParent))&&e instanceof a)for(l=e.children,o=0,s=l.length;s>o;o++)n=l[o],t(n)},function(n){return e.call(this,n)&&t(this),!1}}(b)),n}()}}.call(this),n.exports}(),t["../styles/index.coffee"]=function(){{var n={exports:t["../styles/index.coffee"]},r=e.bind(null,{utils:"../utils/index.coffee.md",document:"../document/index.coffee.md","./file/styles":"../styles/file/styles.coffee","./style":"../styles/style.coffee"});n.exports}return function(){var e,t,i,o,s;s=r("utils"),t=r("document"),o=r("./file/styles"),i=r("./style"),e=n.exports.ATTR_RESOURCES={img:["src"]},n.exports=function(n){var r,l,a,u,c,f,d,p;o(t),t.Style=i(t,n),u=n.resources,a=t.Element.Tag.DEFAULT_STRINGIFY_REPLACEMENTS;for(c in e)for(l=e[c],f=0,d=l.length;d>f;f++)r=l[f],p=a[c]||s.NOP,a[c]=function(e,t){return function(n){var r,i;return n=e(n)||n,r=n.getAttr(t),r&&(i=u.resolve(r))&&n.setAttr(t,i),n}}(p,r)}}.call(this),n.exports}(),t["index.coffee.md"]=function(){var n={exports:t["index.coffee.md"]},r=e.bind(null,{utils:"../utils/index.coffee.md",log:"../log/index.coffee.md",signal:"../signal/index.coffee.md",db:"../db/index.coffee.md","/Users/krystian/Projects/Neft/app/node_modules/assert":"../assert/index.coffee.md",assert:"../assert/index.coffee.md",schema:"../schema/index.coffee.md",networking:"../networking/index.coffee.md",document:"../document/index.coffee.md",renderer:"../renderer/index.coffee.md",resources:"../resources/index.coffee.md",dict:"../dict/index.coffee.md","./route":"route.coffee.md","./package.json":"package.json",list:"../list/index.coffee.md","native":"../native/index.coffee.md",styles:"../styles/index.coffee"}),i=n.exports;return function(){for(utils=r("utils"),signal=r("signal"),db=r("db"),Schema=r("schema"),Networking=r("networking"),Document=r("document"),Renderer=r("renderer"),Resources=r("resources"),Dict=r("dict"),AppRoute=r("./route"),utils.isNode&&(bootstrapRoute=r("./bootstrap/route.node")),pkg=r("./package.json"),i=n.exports=function(e,t){var n,i,o,s,l,a,u,c,f,d,p,h,m,_,g,y,v,x,b;if(null==e&&(e={}),null==t&&(t={}),r("log").ok("Welcome! Neft.io v"+pkg.version+"; Feedback appreciated"),o=pkg.config,o=utils.merge(utils.clone(o),e.config),null!=t&&utils.merge(o,t),i=new Dict,i.config=o,i.networking=new Networking({type:Networking.HTTP,protocol:o.protocol,port:parseInt(o.port,10),host:o.host,url:o.url,language:o.language}),i.models={},i.routes={},i.styles={},i.views={},i.resources=e.resources?Resources.fromJSON(e.resources):new Resources,signal.create(i,"onReady"),null==o.type&&(o.type="app"),i.Route=AppRoute(i),n="__neft_cookies",i.cookies=null,a=function(e){return i.cookies=e,utils.isClient?e.set("sessionId",utils.uid(16)):void 0},db.get(n,db.OBSERVABLE,function(e,t){var r;return t?a(t):(r=utils.isClient?{clientId:utils.uid(16)}:{},db.set(n,r,function(e){return db.get(n,db.OBSERVABLE,function(e,t){return a(t)})}))}),i.networking.onRequest(function(e,t){utils.isClient?utils.merge(e.cookies,i.cookies._data):utils.merge(t.cookies,i.cookies._data),e.onLoadEnd.listeners.unshift(function(){var e,n,r;if(utils.isClient){r=t.cookies;for(e in r)n=r[e],utils.isEqual(i.cookies.get(e),n)||i.cookies.set(e,n)}},null)}),Renderer.resources=i.resources,Renderer.serverUrl=i.networking.url,null!=e.styles)for(v=e.styles,p=0,_=v.length;_>p;p++)if(u=v[p],"view"===u.name){u.file._init({app:i,view:null}),f=u.file._main.getComponent();break}if(d=(null!=f?f.item:void 0)||new Renderer.Item,Renderer.window=d,null!=e.styles)for(c={app:i,view:d},x=e.styles,h=0,g=x.length;g>h;h++)u=x[h],null!=u.name&&("view"!==u.name&&u.file._init(c),i.styles[u.name]=u.file);if(r("styles")({windowStyle:f,styles:i.styles,queries:e.styleQueries,resources:i.resources}),utils.isNode&&bootstrapRoute(i),l=function(e,t){var n,r,o,s;for(o=0,s=e.length;s>o;o++)n=e[o],null!=n.name&&"function"==typeof n.file&&(r=n.file(i),null!=t[n.name]&&utils.isPlainObject(t[n.name])&&utils.isPlainObject(r)&&(r=utils.merge(Object.create(t[n.name]),r)),t[n.name]=r)},setImmediate(function(){var t,n,r,o,s,a,u,c,f,d;for(f=e.views,u=0,c=f.length;c>u;u++)a=f[u],null!=a.name&&(i.views[a.name]=Document.fromJSON(a.file));l(e.models,i.models),l(e.routes,i.routes),d=i.routes;for(r in d){if(n=d[r],o={},utils.isObject(n)&&!(n instanceof i.Route))for(t in n)e=n[t],utils.isObject(e)?(s=new i.Route(t,e),o[s.name]=s):o[t]=e;i.routes[r]=o}return i.onReady.emit()}),utils.isObject(e.extensions))for(b=e.extensions,m=0,y=b.length;y>m;m++)(s=b[m])({app:i});return i},MODULES=["utils","signal","dict","list","log","Resources","native","Renderer","Networking","Schema","Document","Styles","assert","db"],_i=0,_len=MODULES.length;_i<_len;_i++)name=MODULES[_i],i[name]=i[name.toLowerCase()]=r(name.toLowerCase())}.call(this),n.exports}();var n=t["index.coffee.md"];return"undefined"!=typeof module?module.exports=n:n})();;
