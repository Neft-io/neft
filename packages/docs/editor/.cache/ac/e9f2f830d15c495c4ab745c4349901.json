{"id":"4Y+I","dependencies":[{"name":"/Users/krystian/Projects/OpenSource/neft/packages/docs/editor/package.json","includedInParent":true,"mtime":1560887740812},{"name":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/package.json","includedInParent":true,"mtime":1560870718517},{"name":"../util","loc":{"line":1,"column":21},"parent":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/struct/index.js","resolved":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/util/index.litcoffee"},{"name":"../assert","loc":{"line":2,"column":23},"parent":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/struct/index.js","resolved":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/assert/index.litcoffee"},{"name":"../event-loop","loc":{"line":3,"column":26},"parent":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/struct/index.js","resolved":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/event-loop/index.coffee"},{"name":"../signal","loc":{"line":4,"column":35},"parent":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/struct/index.js","resolved":"/Users/krystian/Projects/OpenSource/neft/node_modules/@neft/core/src/signal/index.js"}],"generated":{"js":"const e=require(\"../util\"),t=require(\"../assert\"),i=require(\"../event-loop\"),{SignalsEmitter:r}=require(\"../signal\"),s=e.CONFIGURABLE|e.WRITABLE,n=e.CONFIGURABLE|e.ENUMERABLE,c=(t,c,o)=>{const u=`_${c}`,a=`on${e.capitalize(c)}Change`;e.defineProperty(t,u,s,o),r.createSignal(t,a);e.defineProperty(t,c,n,function(){return this[u]},i.bindInLock(function(e){const t=this[u];e!==t&&(this[u]=e,this.emit(a,t))}))};class o extends r{constructor(i){super(),t.instanceOf(this,o,\"Constructor Struct requires 'new'\"),e.isPlainObject(i)&&Object.keys(i).forEach(e=>{c(this,e,i[e])}),this.constructor===o&&Object.seal(this)}}module.exports=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":6}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":8}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":16}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":27}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":29}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":37}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":50}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":52}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":60}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":78}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":93}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":104}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":117}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":121}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":134}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":136}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":145}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":147}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":149}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":162}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":164}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":175}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":177}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":178}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":187}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":193}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":199}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":203}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":210}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":223}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":234}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":236}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":251}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":253}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":255}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":257}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":260}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":262}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":275}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":277}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":280}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":282}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":297}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":299}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":301}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":303}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":314}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":321}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":326}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":330}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":332}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":343}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":352}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":355}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":361}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":363}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":368}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":371}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":375}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":379}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":384}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":387}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":21,"column":0},"generated":{"line":1,"column":389}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":21,"column":0},"generated":{"line":1,"column":394}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":21,"column":0},"generated":{"line":1,"column":399}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":21,"column":0},"generated":{"line":1,"column":401}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":26,"column":0},"generated":{"line":1,"column":409}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":26,"column":0},"generated":{"line":1,"column":415}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":26,"column":0},"generated":{"line":1,"column":425}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":27,"column":0},"generated":{"line":1,"column":427}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":27,"column":0},"generated":{"line":1,"column":439}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":442}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":450}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":452}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":463}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":468}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":470}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":507}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":509}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":523}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":527}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":534}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":539}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":542}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":550}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":554}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":556}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":561}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":563}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":565}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":571}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":576}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":590}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":593}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":600}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":605}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":44,"column":0},"generated":{"line":1,"column":612}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":44,"column":0},"generated":{"line":1,"column":619}},{"source":"../../../../node_modules/@neft/core/src/struct/index.js","original":{"line":44,"column":0},"generated":{"line":1,"column":627}}],"sources":{"../../../../node_modules/@neft/core/src/struct/index.js":"const util = require('../util')\nconst assert = require('../assert')\nconst eventLoop = require('../event-loop')\nconst { SignalsEmitter } = require('../signal')\n\nconst privatePropOpts = util.CONFIGURABLE | util.WRITABLE\nconst propOpts = util.CONFIGURABLE | util.ENUMERABLE\n\nconst createProperty = (struct, key, value) => {\n  const privateKey = `_${key}`\n  const signalName = `on${util.capitalize(key)}Change`\n  util.defineProperty(struct, privateKey, privatePropOpts, value)\n  SignalsEmitter.createSignal(struct, signalName)\n  const getter = function () {\n    return this[privateKey]\n  }\n  const setter = function (newValue) {\n    const oldVal = this[privateKey]\n    if (newValue === oldVal) return\n    this[privateKey] = newValue\n    this.emit(signalName, oldVal)\n  }\n  util.defineProperty(struct, key, propOpts, getter, eventLoop.bindInLock(setter))\n}\n\nclass Struct extends SignalsEmitter {\n  constructor(obj) {\n    super()\n\n    assert.instanceOf(this, Struct, \"Constructor Struct requires 'new'\")\n\n    if (util.isPlainObject(obj)) {\n      Object.keys(obj).forEach((key) => {\n        createProperty(this, key, obj[key])\n      })\n    }\n\n    if (this.constructor === Struct) {\n      Object.seal(this)\n    }\n  }\n}\n\nmodule.exports = Struct\n"},"lineCount":null}},"error":null,"hash":"6200413aea90c18f6a716344489b1fe5","cacheData":{"env":{}}}